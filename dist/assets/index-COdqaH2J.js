function Qb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(n,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Xb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Og={exports:{}},nc={},Dg={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ei=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),e1=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),r1=Symbol.for("react.profiler"),n1=Symbol.for("react.provider"),o1=Symbol.for("react.context"),s1=Symbol.for("react.forward_ref"),a1=Symbol.for("react.suspense"),i1=Symbol.for("react.memo"),l1=Symbol.for("react.lazy"),vp=Symbol.iterator;function c1(e){return e===null||typeof e!="object"?null:(e=vp&&e[vp]||e["@@iterator"],typeof e=="function"?e:null)}var Ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mg=Object.assign,Lg={};function Os(e,t,r){this.props=e,this.context=t,this.refs=Lg,this.updater=r||Ig}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $g(){}$g.prototype=Os.prototype;function _f(e,t,r){this.props=e,this.context=t,this.refs=Lg,this.updater=r||Ig}var Sf=_f.prototype=new $g;Sf.constructor=_f;Mg(Sf,Os.prototype);Sf.isPureReactComponent=!0;var yp=Array.isArray,Fg=Object.prototype.hasOwnProperty,Cf={current:null},zg={key:!0,ref:!0,__self:!0,__source:!0};function Ug(e,t,r){var n,o={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Fg.call(t,n)&&!zg.hasOwnProperty(n)&&(o[n]=t[n]);var i=arguments.length-2;if(i===1)o.children=r;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)o[n]===void 0&&(o[n]=i[n]);return{$$typeof:ei,type:e,key:s,ref:a,props:o,_owner:Cf.current}}function u1(e,t){return{$$typeof:ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ef(e){return typeof e=="object"&&e!==null&&e.$$typeof===ei}function d1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xp=/\/+/g;function nu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d1(""+e.key):t.toString(36)}function rl(e,t,r,n,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ei:case Zb:a=!0}}if(a)return a=e,o=o(a),e=n===""?"."+nu(a,0):n,yp(o)?(r="",e!=null&&(r=e.replace(xp,"$&/")+"/"),rl(o,t,r,"",function(u){return u})):o!=null&&(Ef(o)&&(o=u1(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(xp,"$&/")+"/")+e)),t.push(o)),1;if(a=0,n=n===""?".":n+":",yp(e))for(var i=0;i<e.length;i++){s=e[i];var c=n+nu(s,i);a+=rl(s,t,r,c,o)}else if(c=c1(e),typeof c=="function")for(e=c.call(e),i=0;!(s=e.next()).done;)s=s.value,c=n+nu(s,i++),a+=rl(s,t,r,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ei(e,t,r){if(e==null)return e;var n=[],o=0;return rl(e,n,"","",function(s){return t.call(r,s,o++)}),n}function f1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},nl={transition:null},h1={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:nl,ReactCurrentOwner:Cf};function Bg(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Ei,forEach:function(e,t,r){Ei(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ei(e,function(){t++}),t},toArray:function(e){return Ei(e,function(t){return t})||[]},only:function(e){if(!Ef(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Os;Pe.Fragment=e1;Pe.Profiler=r1;Pe.PureComponent=_f;Pe.StrictMode=t1;Pe.Suspense=a1;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h1;Pe.act=Bg;Pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Mg({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Cf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Fg.call(t,c)&&!zg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];n.children=i}return{$$typeof:ei,type:e.type,key:o,ref:s,props:n,_owner:a}};Pe.createContext=function(e){return e={$$typeof:o1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:n1,_context:e},e.Consumer=e};Pe.createElement=Ug;Pe.createFactory=function(e){var t=Ug.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:s1,render:e}};Pe.isValidElement=Ef;Pe.lazy=function(e){return{$$typeof:l1,_payload:{_status:-1,_result:e},_init:f1}};Pe.memo=function(e,t){return{$$typeof:i1,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=nl.transition;nl.transition={};try{e()}finally{nl.transition=t}};Pe.unstable_act=Bg;Pe.useCallback=function(e,t){return Lt.current.useCallback(e,t)};Pe.useContext=function(e){return Lt.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return Lt.current.useEffect(e,t)};Pe.useId=function(){return Lt.current.useId()};Pe.useImperativeHandle=function(e,t,r){return Lt.current.useImperativeHandle(e,t,r)};Pe.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return Lt.current.useMemo(e,t)};Pe.useReducer=function(e,t,r){return Lt.current.useReducer(e,t,r)};Pe.useRef=function(e){return Lt.current.useRef(e)};Pe.useState=function(e){return Lt.current.useState(e)};Pe.useSyncExternalStore=function(e,t,r){return Lt.current.useSyncExternalStore(e,t,r)};Pe.useTransition=function(){return Lt.current.useTransition()};Pe.version="18.3.1";Dg.exports=Pe;var p=Dg.exports;const Y=bf(p),Vg=Qb({__proto__:null,default:Y},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1=p,m1=Symbol.for("react.element"),g1=Symbol.for("react.fragment"),v1=Object.prototype.hasOwnProperty,y1=p1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x1={key:!0,ref:!0,__self:!0,__source:!0};function Hg(e,t,r){var n,o={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)v1.call(t,n)&&!x1.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:m1,type:e,key:s,ref:a,props:o,_owner:y1.current}}nc.Fragment=g1;nc.jsx=Hg;nc.jsxs=Hg;Og.exports=nc;var l=Og.exports,Xu={},Wg={exports:{}},sr={},Gg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,k){var P=C.length;C.push(k);e:for(;0<P;){var O=P-1>>>1,U=C[O];if(0<o(U,k))C[O]=k,C[P]=U,P=O;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var k=C[0],P=C.pop();if(P!==k){C[0]=P;e:for(var O=0,U=C.length,q=U>>>1;O<q;){var $=2*(O+1)-1,E=C[$],Z=$+1,B=C[Z];if(0>o(E,P))Z<U&&0>o(B,E)?(C[O]=B,C[Z]=P,O=Z):(C[O]=E,C[$]=P,O=$);else if(Z<U&&0>o(B,P))C[O]=B,C[Z]=P,O=Z;else break e}}return k}function o(C,k){var P=C.sortIndex-k.sortIndex;return P!==0?P:C.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],d=1,f=null,h=3,g=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=C)n(u),k.sortIndex=k.expirationTime,t(c,k);else break;k=r(u)}}function _(C){if(x=!1,v(C),!b)if(r(c)!==null)b=!0,A(S);else{var k=r(u);k!==null&&V(_,k.startTime-C)}}function S(C,k){b=!1,x&&(x=!1,y(R),R=-1),g=!0;var P=h;try{for(v(k),f=r(c);f!==null&&(!(f.expirationTime>k)||C&&!Q());){var O=f.callback;if(typeof O=="function"){f.callback=null,h=f.priorityLevel;var U=O(f.expirationTime<=k);k=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),v(k)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var $=r(u);$!==null&&V(_,$.startTime-k),q=!1}return q}finally{f=null,h=P,g=!1}}var T=!1,N=null,R=-1,F=5,D=-1;function Q(){return!(e.unstable_now()-D<F)}function K(){if(N!==null){var C=e.unstable_now();D=C;var k=!0;try{k=N(!0,C)}finally{k?W():(T=!1,N=null)}}else T=!1}var W;if(typeof m=="function")W=function(){m(K)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,I=z.port2;z.port1.onmessage=K,W=function(){I.postMessage(null)}}else W=function(){w(K,0)};function A(C){N=C,T||(T=!0,W())}function V(C,k){R=w(function(){C(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,A(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var P=h;h=k;try{return C()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,k){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var P=h;h=C;try{return k()}finally{h=P}},e.unstable_scheduleCallback=function(C,k,P){var O=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?O+P:O):P=O,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=P+U,C={id:d++,callback:k,priorityLevel:C,startTime:P,expirationTime:U,sortIndex:-1},P>O?(C.sortIndex=P,t(u,C),r(c)===null&&C===r(u)&&(x?(y(R),R=-1):x=!0,V(_,P-O))):(C.sortIndex=U,t(c,C),b||g||(b=!0,A(S))),C},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(C){var k=h;return function(){var P=h;h=k;try{return C.apply(this,arguments)}finally{h=P}}}})(qg);Gg.exports=qg;var w1=Gg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=p,or=w1;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kg=new Set,Ra={};function Ao(e,t){_s(e,t),_s(e+"Capture",t)}function _s(e,t){for(Ra[e]=t,e=0;e<t.length;e++)Kg.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=Object.prototype.hasOwnProperty,_1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wp={},bp={};function S1(e){return Zu.call(bp,e)?!0:Zu.call(wp,e)?!1:_1.test(e)?bp[e]=!0:(wp[e]=!0,!1)}function C1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E1(e,t,r,n){if(t===null||typeof t>"u"||C1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,r,n,o,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var jf=/[\-:]([a-z])/g;function kf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jf,kf);Et[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jf,kf);Et[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jf,kf);Et[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nf(e,t,r,n){var o=Et.hasOwnProperty(t)?Et[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E1(t,r,o,n)&&(r=null),n||o===null?S1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sn=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ji=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),Rf=Symbol.for("react.strict_mode"),ed=Symbol.for("react.profiler"),Yg=Symbol.for("react.provider"),Jg=Symbol.for("react.context"),Pf=Symbol.for("react.forward_ref"),td=Symbol.for("react.suspense"),rd=Symbol.for("react.suspense_list"),Tf=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),Qg=Symbol.for("react.offscreen"),_p=Symbol.iterator;function Qs(e){return e===null||typeof e!="object"?null:(e=_p&&e[_p]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,ou;function ca(e){if(ou===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ou=t&&t[1]||""}return`
`+ou+e}var su=!1;function au(e,t){if(!e||su)return"";su=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=n.stack.split(`
`),a=o.length-1,i=s.length-1;1<=a&&0<=i&&o[a]!==s[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==s[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==s[i]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{su=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ca(e):""}function j1(e){switch(e.tag){case 5:return ca(e.type);case 16:return ca("Lazy");case 13:return ca("Suspense");case 19:return ca("SuspenseList");case 0:case 2:case 15:return e=au(e.type,!1),e;case 11:return e=au(e.type.render,!1),e;case 1:return e=au(e.type,!0),e;default:return""}}function nd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ts:return"Fragment";case es:return"Portal";case ed:return"Profiler";case Rf:return"StrictMode";case td:return"Suspense";case rd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jg:return(e.displayName||"Context")+".Consumer";case Yg:return(e._context.displayName||"Context")+".Provider";case Pf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tf:return t=e.displayName||null,t!==null?t:nd(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return nd(e(t))}catch{}}return null}function k1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nd(t);case 8:return t===Rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function N1(e){var t=Xg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ki(e){e._valueTracker||(e._valueTracker=N1(e))}function Zg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Xg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function od(e,t){var r=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ev(e,t){t=t.checked,t!=null&&Nf(e,"checked",t,!1)}function sd(e,t){ev(e,t);var r=Qn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ad(e,t.type,r):t.hasOwnProperty("defaultValue")&&ad(e,t.type,Qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ad(e,t,r){(t!=="number"||_l(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ua=Array.isArray;function hs(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qn(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function id(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ep(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(ua(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qn(r)}}function tv(e,t){var r=Qn(t.value),n=Qn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ld(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ni,nv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R1=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(e){R1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ga[t]=ga[e]})});function ov(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ga.hasOwnProperty(e)&&ga[e]?(""+t).trim():t+"px"}function sv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=ov(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var P1=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cd(e,t){if(t){if(P1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function ud(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=null;function Af(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fd=null,ps=null,ms=null;function kp(e){if(e=ni(e)){if(typeof fd!="function")throw Error(J(280));var t=e.stateNode;t&&(t=lc(t),fd(e.stateNode,e.type,t))}}function av(e){ps?ms?ms.push(e):ms=[e]:ps=e}function iv(){if(ps){var e=ps,t=ms;if(ms=ps=null,kp(e),t)for(e=0;e<t.length;e++)kp(t[e])}}function lv(e,t){return e(t)}function cv(){}var iu=!1;function uv(e,t,r){if(iu)return e(t,r);iu=!0;try{return lv(e,t,r)}finally{iu=!1,(ps!==null||ms!==null)&&(cv(),iv())}}function Ta(e,t){var r=e.stateNode;if(r===null)return null;var n=lc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var hd=!1;if(mn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){hd=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{hd=!1}function T1(e,t,r,n,o,s,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var va=!1,Sl=null,Cl=!1,pd=null,A1={onError:function(e){va=!0,Sl=e}};function O1(e,t,r,n,o,s,a,i,c){va=!1,Sl=null,T1.apply(A1,arguments)}function D1(e,t,r,n,o,s,a,i,c){if(O1.apply(this,arguments),va){if(va){var u=Sl;va=!1,Sl=null}else throw Error(J(198));Cl||(Cl=!0,pd=u)}}function Oo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Np(e){if(Oo(e)!==e)throw Error(J(188))}function I1(e){var t=e.alternate;if(!t){if(t=Oo(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return Np(o),e;if(s===n)return Np(o),t;s=s.sibling}throw Error(J(188))}if(r.return!==n.return)r=o,n=s;else{for(var a=!1,i=o.child;i;){if(i===r){a=!0,r=o,n=s;break}if(i===n){a=!0,n=o,r=s;break}i=i.sibling}if(!a){for(i=s.child;i;){if(i===r){a=!0,r=s,n=o;break}if(i===n){a=!0,n=s,r=o;break}i=i.sibling}if(!a)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function fv(e){return e=I1(e),e!==null?hv(e):null}function hv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hv(e);if(t!==null)return t;e=e.sibling}return null}var pv=or.unstable_scheduleCallback,Rp=or.unstable_cancelCallback,M1=or.unstable_shouldYield,L1=or.unstable_requestPaint,st=or.unstable_now,$1=or.unstable_getCurrentPriorityLevel,Of=or.unstable_ImmediatePriority,mv=or.unstable_UserBlockingPriority,El=or.unstable_NormalPriority,F1=or.unstable_LowPriority,gv=or.unstable_IdlePriority,oc=null,Vr=null;function z1(e){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(oc,e,void 0,(e.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:V1,U1=Math.log,B1=Math.LN2;function V1(e){return e>>>=0,e===0?32:31-(U1(e)/B1|0)|0}var Ri=64,Pi=4194304;function da(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var i=a&~o;i!==0?n=da(i):(s&=a,s!==0&&(n=da(s)))}else a=r&~o,a!==0?n=da(a):s!==0&&(n=da(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Er(t),o=1<<r,n|=e[r],t&=~o;return n}function H1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W1(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Er(s),i=1<<a,c=o[a];c===-1?(!(i&r)||i&n)&&(o[a]=H1(i,t)):c<=t&&(e.expiredLanes|=i),s&=~i}}function md(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vv(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function lu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ti(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Er(t),e[t]=r}function G1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Er(r),s=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~s}}function Df(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Er(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var $e=0;function yv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xv,If,wv,bv,_v,gd=!1,Ti=[],Vn=null,Hn=null,Wn=null,Aa=new Map,Oa=new Map,$n=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pp(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Aa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(t.pointerId)}}function Zs(e,t,r,n,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[o]},t!==null&&(t=ni(t),t!==null&&If(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function K1(e,t,r,n,o){switch(t){case"focusin":return Vn=Zs(Vn,e,t,r,n,o),!0;case"dragenter":return Hn=Zs(Hn,e,t,r,n,o),!0;case"mouseover":return Wn=Zs(Wn,e,t,r,n,o),!0;case"pointerover":var s=o.pointerId;return Aa.set(s,Zs(Aa.get(s)||null,e,t,r,n,o)),!0;case"gotpointercapture":return s=o.pointerId,Oa.set(s,Zs(Oa.get(s)||null,e,t,r,n,o)),!0}return!1}function Sv(e){var t=vo(e.target);if(t!==null){var r=Oo(t);if(r!==null){if(t=r.tag,t===13){if(t=dv(r),t!==null){e.blockedOn=t,_v(e.priority,function(){wv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dd=n,r.target.dispatchEvent(n),dd=null}else return t=ni(r),t!==null&&If(t),e.blockedOn=r,!1;t.shift()}return!0}function Tp(e,t,r){ol(e)&&r.delete(t)}function Y1(){gd=!1,Vn!==null&&ol(Vn)&&(Vn=null),Hn!==null&&ol(Hn)&&(Hn=null),Wn!==null&&ol(Wn)&&(Wn=null),Aa.forEach(Tp),Oa.forEach(Tp)}function ea(e,t){e.blockedOn===t&&(e.blockedOn=null,gd||(gd=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,Y1)))}function Da(e){function t(o){return ea(o,e)}if(0<Ti.length){ea(Ti[0],e);for(var r=1;r<Ti.length;r++){var n=Ti[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vn!==null&&ea(Vn,e),Hn!==null&&ea(Hn,e),Wn!==null&&ea(Wn,e),Aa.forEach(t),Oa.forEach(t),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)Sv(r),r.blockedOn===null&&$n.shift()}var gs=Sn.ReactCurrentBatchConfig,kl=!0;function J1(e,t,r,n){var o=$e,s=gs.transition;gs.transition=null;try{$e=1,Mf(e,t,r,n)}finally{$e=o,gs.transition=s}}function Q1(e,t,r,n){var o=$e,s=gs.transition;gs.transition=null;try{$e=4,Mf(e,t,r,n)}finally{$e=o,gs.transition=s}}function Mf(e,t,r,n){if(kl){var o=vd(e,t,r,n);if(o===null)yu(e,t,n,Nl,r),Pp(e,n);else if(K1(o,e,t,r,n))n.stopPropagation();else if(Pp(e,n),t&4&&-1<q1.indexOf(e)){for(;o!==null;){var s=ni(o);if(s!==null&&xv(s),s=vd(e,t,r,n),s===null&&yu(e,t,n,Nl,r),s===o)break;o=s}o!==null&&n.stopPropagation()}else yu(e,t,n,null,r)}}var Nl=null;function vd(e,t,r,n){if(Nl=null,e=Af(n),e=vo(e),e!==null)if(t=Oo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nl=e,null}function Cv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($1()){case Of:return 1;case mv:return 4;case El:case F1:return 16;case gv:return 536870912;default:return 16}default:return 16}}var Un=null,Lf=null,sl=null;function Ev(){if(sl)return sl;var e,t=Lf,r=t.length,n,o="value"in Un?Un.value:Un.textContent,s=o.length;for(e=0;e<r&&t[e]===o[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===o[s-n];n++);return sl=o.slice(e,1<n?1-n:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Ap(){return!1}function ar(e){function t(r,n,o,s,a){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ai:Ap,this.isPropagationStopped=Ap,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=ar(Ds),ri=rt({},Ds,{view:0,detail:0}),X1=ar(ri),cu,uu,ta,sc=rt({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&e.type==="mousemove"?(cu=e.screenX-ta.screenX,uu=e.screenY-ta.screenY):uu=cu=0,ta=e),cu)},movementY:function(e){return"movementY"in e?e.movementY:uu}}),Op=ar(sc),Z1=rt({},sc,{dataTransfer:0}),e_=ar(Z1),t_=rt({},ri,{relatedTarget:0}),du=ar(t_),r_=rt({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),n_=ar(r_),o_=rt({},Ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s_=ar(o_),a_=rt({},Ds,{data:0}),Dp=ar(a_),i_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c_[e])?!!t[e]:!1}function Ff(){return u_}var d_=rt({},ri,{key:function(e){if(e.key){var t=i_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f_=ar(d_),h_=rt({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ip=ar(h_),p_=rt({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),m_=ar(p_),g_=rt({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),v_=ar(g_),y_=rt({},sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x_=ar(y_),w_=[9,13,27,32],zf=mn&&"CompositionEvent"in window,ya=null;mn&&"documentMode"in document&&(ya=document.documentMode);var b_=mn&&"TextEvent"in window&&!ya,jv=mn&&(!zf||ya&&8<ya&&11>=ya),Mp=" ",Lp=!1;function kv(e,t){switch(e){case"keyup":return w_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function __(e,t){switch(e){case"compositionend":return Nv(t);case"keypress":return t.which!==32?null:(Lp=!0,Mp);case"textInput":return e=t.data,e===Mp&&Lp?null:e;default:return null}}function S_(e,t){if(rs)return e==="compositionend"||!zf&&kv(e,t)?(e=Ev(),sl=Lf=Un=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jv&&t.locale!=="ko"?null:t.data;default:return null}}var C_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!C_[e.type]:t==="textarea"}function Rv(e,t,r,n){av(n),t=Rl(t,"onChange"),0<t.length&&(r=new $f("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var xa=null,Ia=null;function E_(e){zv(e,0)}function ac(e){var t=ss(e);if(Zg(t))return e}function j_(e,t){if(e==="change")return t}var Pv=!1;if(mn){var fu;if(mn){var hu="oninput"in document;if(!hu){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),hu=typeof Fp.oninput=="function"}fu=hu}else fu=!1;Pv=fu&&(!document.documentMode||9<document.documentMode)}function zp(){xa&&(xa.detachEvent("onpropertychange",Tv),Ia=xa=null)}function Tv(e){if(e.propertyName==="value"&&ac(Ia)){var t=[];Rv(t,Ia,e,Af(e)),uv(E_,t)}}function k_(e,t,r){e==="focusin"?(zp(),xa=t,Ia=r,xa.attachEvent("onpropertychange",Tv)):e==="focusout"&&zp()}function N_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ac(Ia)}function R_(e,t){if(e==="click")return ac(t)}function P_(e,t){if(e==="input"||e==="change")return ac(t)}function T_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kr=typeof Object.is=="function"?Object.is:T_;function Ma(e,t){if(kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!Zu.call(t,o)||!kr(e[o],t[o]))return!1}return!0}function Up(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bp(e,t){var r=Up(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Up(r)}}function Av(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Av(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ov(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_l(e.document)}return t}function Uf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function A_(e){var t=Ov(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Av(r.ownerDocument.documentElement,r)){if(n!==null&&Uf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,s=Math.min(n.start,o);n=n.end===void 0?s:Math.min(n.end,o),!e.extend&&s>n&&(o=n,n=s,s=o),o=Bp(r,s);var a=Bp(r,n);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O_=mn&&"documentMode"in document&&11>=document.documentMode,ns=null,yd=null,wa=null,xd=!1;function Vp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xd||ns==null||ns!==_l(n)||(n=ns,"selectionStart"in n&&Uf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wa&&Ma(wa,n)||(wa=n,n=Rl(yd,"onSelect"),0<n.length&&(t=new $f("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ns)))}function Oi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var os={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionend:Oi("Transition","TransitionEnd")},pu={},Dv={};mn&&(Dv=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function ic(e){if(pu[e])return pu[e];if(!os[e])return e;var t=os[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Dv)return pu[e]=t[r];return e}var Iv=ic("animationend"),Mv=ic("animationiteration"),Lv=ic("animationstart"),$v=ic("transitionend"),Fv=new Map,Hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(e,t){Fv.set(e,t),Ao(t,[e])}for(var mu=0;mu<Hp.length;mu++){var gu=Hp[mu],D_=gu.toLowerCase(),I_=gu[0].toUpperCase()+gu.slice(1);to(D_,"on"+I_)}to(Iv,"onAnimationEnd");to(Mv,"onAnimationIteration");to(Lv,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to($v,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M_=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function Wp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,D1(n,t,void 0,e),e.currentTarget=null}function zv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var i=n[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==s&&o.isPropagationStopped())break e;Wp(o,i,u),s=c}else for(a=0;a<n.length;a++){if(i=n[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==s&&o.isPropagationStopped())break e;Wp(o,i,u),s=c}}}if(Cl)throw e=pd,Cl=!1,pd=null,e}function Ye(e,t){var r=t[Cd];r===void 0&&(r=t[Cd]=new Set);var n=e+"__bubble";r.has(n)||(Uv(t,e,2,!1),r.add(n))}function vu(e,t,r){var n=0;t&&(n|=4),Uv(r,e,n,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function La(e){if(!e[Di]){e[Di]=!0,Kg.forEach(function(r){r!=="selectionchange"&&(M_.has(r)||vu(r,!1,e),vu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Di]||(t[Di]=!0,vu("selectionchange",!1,t))}}function Uv(e,t,r,n){switch(Cv(t)){case 1:var o=J1;break;case 4:o=Q1;break;default:o=Mf}r=o.bind(null,t,r,e),o=void 0,!hd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function yu(e,t,r,n,o){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var i=n.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;i!==null;){if(a=vo(i),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}i=i.parentNode}}n=n.return}uv(function(){var u=s,d=Af(r),f=[];e:{var h=Fv.get(e);if(h!==void 0){var g=$f,b=e;switch(e){case"keypress":if(al(r)===0)break e;case"keydown":case"keyup":g=f_;break;case"focusin":b="focus",g=du;break;case"focusout":b="blur",g=du;break;case"beforeblur":case"afterblur":g=du;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=e_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=m_;break;case Iv:case Mv:case Lv:g=n_;break;case $v:g=v_;break;case"scroll":g=X1;break;case"wheel":g=x_;break;case"copy":case"cut":case"paste":g=s_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ip}var x=(t&4)!==0,w=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var m=u,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=Ta(m,y),_!=null&&x.push($a(m,_,v)))),w)break;m=m.return}0<x.length&&(h=new g(h,b,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==dd&&(b=r.relatedTarget||r.fromElement)&&(vo(b)||b[gn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=u,b=b?vo(b):null,b!==null&&(w=Oo(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(x=Op,_="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ip,_="onPointerLeave",y="onPointerEnter",m="pointer"),w=g==null?h:ss(g),v=b==null?h:ss(b),h=new x(_,m+"leave",g,r,d),h.target=w,h.relatedTarget=v,_=null,vo(d)===u&&(x=new x(y,m+"enter",b,r,d),x.target=v,x.relatedTarget=w,_=x),w=_,g&&b)t:{for(x=g,y=b,m=0,v=x;v;v=Bo(v))m++;for(v=0,_=y;_;_=Bo(_))v++;for(;0<m-v;)x=Bo(x),m--;for(;0<v-m;)y=Bo(y),v--;for(;m--;){if(x===y||y!==null&&x===y.alternate)break t;x=Bo(x),y=Bo(y)}x=null}else x=null;g!==null&&Gp(f,h,g,x,!1),b!==null&&w!==null&&Gp(f,w,b,x,!0)}}e:{if(h=u?ss(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=j_;else if($p(h))if(Pv)S=P_;else{S=N_;var T=k_}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=R_);if(S&&(S=S(e,u))){Rv(f,S,r,d);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&ad(h,"number",h.value)}switch(T=u?ss(u):window,e){case"focusin":($p(T)||T.contentEditable==="true")&&(ns=T,yd=u,wa=null);break;case"focusout":wa=yd=ns=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Vp(f,r,d);break;case"selectionchange":if(O_)break;case"keydown":case"keyup":Vp(f,r,d)}var N;if(zf)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else rs?kv(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(jv&&r.locale!=="ko"&&(rs||R!=="onCompositionStart"?R==="onCompositionEnd"&&rs&&(N=Ev()):(Un=d,Lf="value"in Un?Un.value:Un.textContent,rs=!0)),T=Rl(u,R),0<T.length&&(R=new Dp(R,e,null,r,d),f.push({event:R,listeners:T}),N?R.data=N:(N=Nv(r),N!==null&&(R.data=N)))),(N=b_?__(e,r):S_(e,r))&&(u=Rl(u,"onBeforeInput"),0<u.length&&(d=new Dp("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}zv(f,t)})}function $a(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rl(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ta(e,r),s!=null&&n.unshift($a(e,s,o)),s=Ta(e,t),s!=null&&n.push($a(e,s,o))),e=e.return}return n}function Bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gp(e,t,r,n,o){for(var s=t._reactName,a=[];r!==null&&r!==n;){var i=r,c=i.alternate,u=i.stateNode;if(c!==null&&c===n)break;i.tag===5&&u!==null&&(i=u,o?(c=Ta(r,s),c!=null&&a.unshift($a(r,c,i))):o||(c=Ta(r,s),c!=null&&a.push($a(r,c,i)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var L_=/\r\n?/g,$_=/\u0000|\uFFFD/g;function qp(e){return(typeof e=="string"?e:""+e).replace(L_,`
`).replace($_,"")}function Ii(e,t,r){if(t=qp(t),qp(e)!==t&&r)throw Error(J(425))}function Pl(){}var wd=null,bd=null;function _d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sd=typeof setTimeout=="function"?setTimeout:void 0,F_=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,z_=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(e){return Kp.resolve(null).then(e).catch(U_)}:Sd;function U_(e){setTimeout(function(){throw e})}function xu(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Da(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Da(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Is,Fa="__reactProps$"+Is,gn="__reactContainer$"+Is,Cd="__reactEvents$"+Is,B_="__reactListeners$"+Is,V_="__reactHandles$"+Is;function vo(e){var t=e[Fr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gn]||r[Fr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yp(e);e!==null;){if(r=e[Fr])return r;e=Yp(e)}return t}e=r,r=e.parentNode}return null}function ni(e){return e=e[Fr]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function lc(e){return e[Fa]||null}var Ed=[],as=-1;function ro(e){return{current:e}}function Je(e){0>as||(e.current=Ed[as],Ed[as]=null,as--)}function He(e,t){as++,Ed[as]=e.current,e.current=t}var Xn={},Tt=ro(Xn),Gt=ro(!1),_o=Xn;function Ss(e,t){var r=e.type.contextTypes;if(!r)return Xn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function qt(e){return e=e.childContextTypes,e!=null}function Tl(){Je(Gt),Je(Tt)}function Jp(e,t,r){if(Tt.current!==Xn)throw Error(J(168));He(Tt,t),He(Gt,r)}function Bv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(J(108,k1(e)||"Unknown",o));return rt({},r,n)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,_o=Tt.current,He(Tt,e),He(Gt,Gt.current),!0}function Qp(e,t,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=Bv(e,t,_o),n.__reactInternalMemoizedMergedChildContext=e,Je(Gt),Je(Tt),He(Tt,e)):Je(Gt),He(Gt,r)}var sn=null,cc=!1,wu=!1;function Vv(e){sn===null?sn=[e]:sn.push(e)}function H_(e){cc=!0,Vv(e)}function no(){if(!wu&&sn!==null){wu=!0;var e=0,t=$e;try{var r=sn;for($e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}sn=null,cc=!1}catch(o){throw sn!==null&&(sn=sn.slice(e+1)),pv(Of,no),o}finally{$e=t,wu=!1}}return null}var is=[],ls=0,Ol=null,Dl=0,lr=[],cr=0,So=null,cn=1,un="";function fo(e,t){is[ls++]=Dl,is[ls++]=Ol,Ol=e,Dl=t}function Hv(e,t,r){lr[cr++]=cn,lr[cr++]=un,lr[cr++]=So,So=e;var n=cn;e=un;var o=32-Er(n)-1;n&=~(1<<o),r+=1;var s=32-Er(t)+o;if(30<s){var a=o-o%5;s=(n&(1<<a)-1).toString(32),n>>=a,o-=a,cn=1<<32-Er(t)+o|r<<o|n,un=s+e}else cn=1<<s|r<<o|n,un=e}function Bf(e){e.return!==null&&(fo(e,1),Hv(e,1,0))}function Vf(e){for(;e===Ol;)Ol=is[--ls],is[ls]=null,Dl=is[--ls],is[ls]=null;for(;e===So;)So=lr[--cr],lr[cr]=null,un=lr[--cr],lr[cr]=null,cn=lr[--cr],lr[cr]=null}var rr=null,tr=null,Xe=!1,Sr=null;function Wv(e,t){var r=ur(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rr=e,tr=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rr=e,tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=So!==null?{id:cn,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ur(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rr=e,tr=null,!0):!1;default:return!1}}function jd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kd(e){if(Xe){var t=tr;if(t){var r=t;if(!Xp(e,t)){if(jd(e))throw Error(J(418));t=Gn(r.nextSibling);var n=rr;t&&Xp(e,t)?Wv(n,r):(e.flags=e.flags&-4097|2,Xe=!1,rr=e)}}else{if(jd(e))throw Error(J(418));e.flags=e.flags&-4097|2,Xe=!1,rr=e}}}function Zp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rr=e}function Mi(e){if(e!==rr)return!1;if(!Xe)return Zp(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_d(e.type,e.memoizedProps)),t&&(t=tr)){if(jd(e))throw Gv(),Error(J(418));for(;t;)Wv(e,t),t=Gn(t.nextSibling)}if(Zp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tr=Gn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tr=null}}else tr=rr?Gn(e.stateNode.nextSibling):null;return!0}function Gv(){for(var e=tr;e;)e=Gn(e.nextSibling)}function Cs(){tr=rr=null,Xe=!1}function Hf(e){Sr===null?Sr=[e]:Sr.push(e)}var W_=Sn.ReactCurrentBatchConfig;function ra(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var o=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var i=o.refs;a===null?delete i[s]:i[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function em(e){var t=e._init;return t(e._payload)}function qv(e){function t(y,m){if(e){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function o(y,m){return y=Jn(y,m),y.index=0,y.sibling=null,y}function s(y,m,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function i(y,m,v,_){return m===null||m.tag!==6?(m=ku(v,y.mode,_),m.return=y,m):(m=o(m,v),m.return=y,m)}function c(y,m,v,_){var S=v.type;return S===ts?d(y,m,v.props.children,_,v.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===In&&em(S)===m.type)?(_=o(m,v.props),_.ref=ra(y,m,v),_.return=y,_):(_=hl(v.type,v.key,v.props,null,y.mode,_),_.ref=ra(y,m,v),_.return=y,_)}function u(y,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Nu(v,y.mode,_),m.return=y,m):(m=o(m,v.children||[]),m.return=y,m)}function d(y,m,v,_,S){return m===null||m.tag!==7?(m=bo(v,y.mode,_,S),m.return=y,m):(m=o(m,v),m.return=y,m)}function f(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ku(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ji:return v=hl(m.type,m.key,m.props,null,y.mode,v),v.ref=ra(y,null,m),v.return=y,v;case es:return m=Nu(m,y.mode,v),m.return=y,m;case In:var _=m._init;return f(y,_(m._payload),v)}if(ua(m)||Qs(m))return m=bo(m,y.mode,v,null),m.return=y,m;Li(y,m)}return null}function h(y,m,v,_){var S=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:i(y,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ji:return v.key===S?c(y,m,v,_):null;case es:return v.key===S?u(y,m,v,_):null;case In:return S=v._init,h(y,m,S(v._payload),_)}if(ua(v)||Qs(v))return S!==null?null:d(y,m,v,_,null);Li(y,v)}return null}function g(y,m,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,i(m,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ji:return y=y.get(_.key===null?v:_.key)||null,c(m,y,_,S);case es:return y=y.get(_.key===null?v:_.key)||null,u(m,y,_,S);case In:var T=_._init;return g(y,m,v,T(_._payload),S)}if(ua(_)||Qs(_))return y=y.get(v)||null,d(m,y,_,S,null);Li(m,_)}return null}function b(y,m,v,_){for(var S=null,T=null,N=m,R=m=0,F=null;N!==null&&R<v.length;R++){N.index>R?(F=N,N=null):F=N.sibling;var D=h(y,N,v[R],_);if(D===null){N===null&&(N=F);break}e&&N&&D.alternate===null&&t(y,N),m=s(D,m,R),T===null?S=D:T.sibling=D,T=D,N=F}if(R===v.length)return r(y,N),Xe&&fo(y,R),S;if(N===null){for(;R<v.length;R++)N=f(y,v[R],_),N!==null&&(m=s(N,m,R),T===null?S=N:T.sibling=N,T=N);return Xe&&fo(y,R),S}for(N=n(y,N);R<v.length;R++)F=g(N,y,R,v[R],_),F!==null&&(e&&F.alternate!==null&&N.delete(F.key===null?R:F.key),m=s(F,m,R),T===null?S=F:T.sibling=F,T=F);return e&&N.forEach(function(Q){return t(y,Q)}),Xe&&fo(y,R),S}function x(y,m,v,_){var S=Qs(v);if(typeof S!="function")throw Error(J(150));if(v=S.call(v),v==null)throw Error(J(151));for(var T=S=null,N=m,R=m=0,F=null,D=v.next();N!==null&&!D.done;R++,D=v.next()){N.index>R?(F=N,N=null):F=N.sibling;var Q=h(y,N,D.value,_);if(Q===null){N===null&&(N=F);break}e&&N&&Q.alternate===null&&t(y,N),m=s(Q,m,R),T===null?S=Q:T.sibling=Q,T=Q,N=F}if(D.done)return r(y,N),Xe&&fo(y,R),S;if(N===null){for(;!D.done;R++,D=v.next())D=f(y,D.value,_),D!==null&&(m=s(D,m,R),T===null?S=D:T.sibling=D,T=D);return Xe&&fo(y,R),S}for(N=n(y,N);!D.done;R++,D=v.next())D=g(N,y,R,D.value,_),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?R:D.key),m=s(D,m,R),T===null?S=D:T.sibling=D,T=D);return e&&N.forEach(function(K){return t(y,K)}),Xe&&fo(y,R),S}function w(y,m,v,_){if(typeof v=="object"&&v!==null&&v.type===ts&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ji:e:{for(var S=v.key,T=m;T!==null;){if(T.key===S){if(S=v.type,S===ts){if(T.tag===7){r(y,T.sibling),m=o(T,v.props.children),m.return=y,y=m;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===In&&em(S)===T.type){r(y,T.sibling),m=o(T,v.props),m.ref=ra(y,T,v),m.return=y,y=m;break e}r(y,T);break}else t(y,T);T=T.sibling}v.type===ts?(m=bo(v.props.children,y.mode,_,v.key),m.return=y,y=m):(_=hl(v.type,v.key,v.props,null,y.mode,_),_.ref=ra(y,m,v),_.return=y,y=_)}return a(y);case es:e:{for(T=v.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(y,m.sibling),m=o(m,v.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=Nu(v,y.mode,_),m.return=y,y=m}return a(y);case In:return T=v._init,w(y,m,T(v._payload),_)}if(ua(v))return b(y,m,v,_);if(Qs(v))return x(y,m,v,_);Li(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(y,m.sibling),m=o(m,v),m.return=y,y=m):(r(y,m),m=ku(v,y.mode,_),m.return=y,y=m),a(y)):r(y,m)}return w}var Es=qv(!0),Kv=qv(!1),Il=ro(null),Ml=null,cs=null,Wf=null;function Gf(){Wf=cs=Ml=null}function qf(e){var t=Il.current;Je(Il),e._currentValue=t}function Nd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vs(e,t){Ml=e,Wf=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function pr(e){var t=e._currentValue;if(Wf!==e)if(e={context:e,memoizedValue:t,next:null},cs===null){if(Ml===null)throw Error(J(308));cs=e,Ml.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return t}var yo=null;function Kf(e){yo===null?yo=[e]:yo.push(e)}function Yv(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Kf(t)):(r.next=o.next,o.next=r),t.interleaved=r,vn(e,n)}function vn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mn=!1;function Yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,vn(e,r)}return o=n.interleaved,o===null?(t.next=t,Kf(n)):(t.next=o.next,o.next=t),n.interleaved=t,vn(e,r)}function il(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Df(e,r)}}function tm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?o=s=t:s=s.next=t}else o=s=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ll(e,t,r,n){var o=e.updateQueue;Mn=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==a&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;a=0,d=u=c=null,i=s;do{var h=i.lane,g=i.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,x=i;switch(h=t,g=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(g,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(g,f,h):b,h==null)break e;f=rt({},f,h);break e;case 2:Mn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[i]:h.push(i))}else g={eventTime:g,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,a|=h;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;h=i,i=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Eo|=a,e.lanes=a,e.memoizedState=f}}function rm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(J(191,o));o.call(n)}}}var oi={},Hr=ro(oi),za=ro(oi),Ua=ro(oi);function xo(e){if(e===oi)throw Error(J(174));return e}function Jf(e,t){switch(He(Ua,t),He(za,e),He(Hr,oi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ld(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ld(t,e)}Je(Hr),He(Hr,t)}function js(){Je(Hr),Je(za),Je(Ua)}function Qv(e){xo(Ua.current);var t=xo(Hr.current),r=ld(t,e.type);t!==r&&(He(za,e),He(Hr,r))}function Qf(e){za.current===e&&(Je(Hr),Je(za))}var et=ro(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bu=[];function Xf(){for(var e=0;e<bu.length;e++)bu[e]._workInProgressVersionPrimary=null;bu.length=0}var ll=Sn.ReactCurrentDispatcher,_u=Sn.ReactCurrentBatchConfig,Co=0,tt=null,ft=null,gt=null,Fl=!1,ba=!1,Ba=0,G_=0;function Nt(){throw Error(J(321))}function Zf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kr(e[r],t[r]))return!1;return!0}function eh(e,t,r,n,o,s){if(Co=s,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ll.current=e===null||e.memoizedState===null?J_:Q_,e=r(n,o),ba){s=0;do{if(ba=!1,Ba=0,25<=s)throw Error(J(301));s+=1,gt=ft=null,t.updateQueue=null,ll.current=X_,e=r(n,o)}while(ba)}if(ll.current=zl,t=ft!==null&&ft.next!==null,Co=0,gt=ft=tt=null,Fl=!1,t)throw Error(J(300));return e}function th(){var e=Ba!==0;return Ba=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?tt.memoizedState=gt=e:gt=gt.next=e,gt}function mr(){if(ft===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=gt===null?tt.memoizedState:gt.next;if(t!==null)gt=t,ft=e;else{if(e===null)throw Error(J(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?tt.memoizedState=gt=e:gt=gt.next=e}return gt}function Va(e,t){return typeof t=="function"?t(e):t}function Su(e){var t=mr(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=ft,o=n.baseQueue,s=r.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}n.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,n=n.baseState;var i=a=null,c=null,u=s;do{var d=u.lane;if((Co&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=f,a=n):c=c.next=f,tt.lanes|=d,Eo|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=i,kr(n,t.memoizedState)||(Wt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do s=o.lane,tt.lanes|=s,Eo|=s,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cu(e){var t=mr(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,s=t.memoizedState;if(o!==null){r.pending=null;var a=o=o.next;do s=e(s,a.action),a=a.next;while(a!==o);kr(s,t.memoizedState)||(Wt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Xv(){}function Zv(e,t){var r=tt,n=mr(),o=t(),s=!kr(n.memoizedState,o);if(s&&(n.memoizedState=o,Wt=!0),n=n.queue,rh(ry.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||gt!==null&&gt.memoizedState.tag&1){if(r.flags|=2048,Ha(9,ty.bind(null,r,n,o,t),void 0,null),vt===null)throw Error(J(349));Co&30||ey(r,t,o)}return o}function ey(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ty(e,t,r,n){t.value=r,t.getSnapshot=n,ny(t)&&oy(e)}function ry(e,t,r){return r(function(){ny(t)&&oy(e)})}function ny(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kr(e,r)}catch{return!0}}function oy(e){var t=vn(e,1);t!==null&&jr(t,e,1,-1)}function nm(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t.queue=e,e=e.dispatch=Y_.bind(null,tt,e),[t.memoizedState,e]}function Ha(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sy(){return mr().memoizedState}function cl(e,t,r,n){var o=$r();tt.flags|=e,o.memoizedState=Ha(1|t,r,void 0,n===void 0?null:n)}function uc(e,t,r,n){var o=mr();n=n===void 0?null:n;var s=void 0;if(ft!==null){var a=ft.memoizedState;if(s=a.destroy,n!==null&&Zf(n,a.deps)){o.memoizedState=Ha(t,r,s,n);return}}tt.flags|=e,o.memoizedState=Ha(1|t,r,s,n)}function om(e,t){return cl(8390656,8,e,t)}function rh(e,t){return uc(2048,8,e,t)}function ay(e,t){return uc(4,2,e,t)}function iy(e,t){return uc(4,4,e,t)}function ly(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cy(e,t,r){return r=r!=null?r.concat([e]):null,uc(4,4,ly.bind(null,t,e),r)}function nh(){}function uy(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dy(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function fy(e,t,r){return Co&21?(kr(r,t)||(r=vv(),tt.lanes|=r,Eo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function q_(e,t){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var n=_u.transition;_u.transition={};try{e(!1),t()}finally{$e=r,_u.transition=n}}function hy(){return mr().memoizedState}function K_(e,t,r){var n=Yn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},py(e))my(t,r);else if(r=Yv(e,t,r,n),r!==null){var o=Mt();jr(r,e,n,o),gy(r,t,n)}}function Y_(e,t,r){var n=Yn(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(py(e))my(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,i=s(a,r);if(o.hasEagerState=!0,o.eagerState=i,kr(i,a)){var c=t.interleaved;c===null?(o.next=o,Kf(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=Yv(e,t,o,n),r!==null&&(o=Mt(),jr(r,e,n,o),gy(r,t,n))}}function py(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function my(e,t){ba=Fl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Df(e,r)}}var zl={readContext:pr,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},J_={readContext:pr,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:pr,useEffect:om,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,cl(4194308,4,ly.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return cl(4,2,e,t)},useMemo:function(e,t){var r=$r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$r();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=K_.bind(null,tt,e),[n.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:nm,useDebugValue:nh,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=nm(!1),t=e[0];return e=q_.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tt,o=$r();if(Xe){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),vt===null)throw Error(J(349));Co&30||ey(n,t,r)}o.memoizedState=r;var s={value:r,getSnapshot:t};return o.queue=s,om(ry.bind(null,n,s,e),[e]),n.flags|=2048,Ha(9,ty.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=$r(),t=vt.identifierPrefix;if(Xe){var r=un,n=cn;r=(n&~(1<<32-Er(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ba++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=G_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q_={readContext:pr,useCallback:uy,useContext:pr,useEffect:rh,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:iy,useMemo:dy,useReducer:Su,useRef:sy,useState:function(){return Su(Va)},useDebugValue:nh,useDeferredValue:function(e){var t=mr();return fy(t,ft.memoizedState,e)},useTransition:function(){var e=Su(Va)[0],t=mr().memoizedState;return[e,t]},useMutableSource:Xv,useSyncExternalStore:Zv,useId:hy,unstable_isNewReconciler:!1},X_={readContext:pr,useCallback:uy,useContext:pr,useEffect:rh,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:iy,useMemo:dy,useReducer:Cu,useRef:sy,useState:function(){return Cu(Va)},useDebugValue:nh,useDeferredValue:function(e){var t=mr();return ft===null?t.memoizedState=e:fy(t,ft.memoizedState,e)},useTransition:function(){var e=Cu(Va)[0],t=mr().memoizedState;return[e,t]},useMutableSource:Xv,useSyncExternalStore:Zv,useId:hy,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Rd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dc={isMounted:function(e){return(e=e._reactInternals)?Oo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),o=Yn(e),s=dn(n,o);s.payload=t,r!=null&&(s.callback=r),t=qn(e,s,o),t!==null&&(jr(t,e,o,n),il(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),o=Yn(e),s=dn(n,o);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=qn(e,s,o),t!==null&&(jr(t,e,o,n),il(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=Yn(e),o=dn(r,n);o.tag=2,t!=null&&(o.callback=t),t=qn(e,o,n),t!==null&&(jr(t,e,n,r),il(t,e,n))}};function sm(e,t,r,n,o,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ma(r,n)||!Ma(o,s):!0}function vy(e,t,r){var n=!1,o=Xn,s=t.contextType;return typeof s=="object"&&s!==null?s=pr(s):(o=qt(t)?_o:Tt.current,n=t.contextTypes,s=(n=n!=null)?Ss(e,o):Xn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function am(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dc.enqueueReplaceState(t,t.state,null)}function Pd(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Yf(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=pr(s):(s=qt(t)?_o:Tt.current,o.context=Ss(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Rd(e,t,s,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&dc.enqueueReplaceState(o,o.state,null),Ll(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ks(e,t){try{var r="",n=t;do r+=j1(n),n=n.return;while(n);var o=r}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Eu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Td(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Z_=typeof WeakMap=="function"?WeakMap:Map;function yy(e,t,r){r=dn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bl||(Bl=!0,Ud=n),Td(e,t)},r}function xy(e,t,r){r=dn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Td(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Td(e,t),typeof n!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function im(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Z_;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=hS.bind(null,e,t,r),t.then(e,e))}function lm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cm(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dn(-1,1),t.tag=2,qn(r,t,1))),r.lanes|=1),e)}var eS=Sn.ReactCurrentOwner,Wt=!1;function It(e,t,r,n){t.child=e===null?Kv(t,null,r,n):Es(t,e.child,r,n)}function um(e,t,r,n,o){r=r.render;var s=t.ref;return vs(t,o),n=eh(e,t,r,n,s,o),r=th(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,yn(e,t,o)):(Xe&&r&&Bf(t),t.flags|=1,It(e,t,n,o),t.child)}function dm(e,t,r,n,o){if(e===null){var s=r.type;return typeof s=="function"&&!dh(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,wy(e,t,s,n,o)):(e=hl(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ma,r(a,n)&&e.ref===t.ref)return yn(e,t,o)}return t.flags|=1,e=Jn(s,n),e.ref=t.ref,e.return=t,t.child=e}function wy(e,t,r,n,o){if(e!==null){var s=e.memoizedProps;if(Ma(s,n)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=n=s,(e.lanes&o)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,yn(e,t,o)}return Ad(e,t,r,n,o)}function by(e,t,r){var n=t.pendingProps,o=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(ds,Qt),Qt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(ds,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,He(ds,Qt),Qt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,He(ds,Qt),Qt|=n;return It(e,t,o,r),t.child}function _y(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ad(e,t,r,n,o){var s=qt(r)?_o:Tt.current;return s=Ss(t,s),vs(t,o),r=eh(e,t,r,n,s,o),n=th(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,yn(e,t,o)):(Xe&&n&&Bf(t),t.flags|=1,It(e,t,r,o),t.child)}function fm(e,t,r,n,o){if(qt(r)){var s=!0;Al(t)}else s=!1;if(vs(t,o),t.stateNode===null)ul(e,t),vy(t,r,n),Pd(t,r,n,o),n=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=qt(r)?_o:Tt.current,u=Ss(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==n||c!==u)&&am(t,a,n,u),Mn=!1;var h=t.memoizedState;a.state=h,Ll(t,n,a,o),c=t.memoizedState,i!==n||h!==c||Gt.current||Mn?(typeof d=="function"&&(Rd(t,r,d,n),c=t.memoizedState),(i=Mn||sm(t,r,i,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Jv(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:wr(t.type,i),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=pr(c):(c=qt(r)?_o:Tt.current,c=Ss(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||h!==c)&&am(t,a,n,c),Mn=!1,h=t.memoizedState,a.state=h,Ll(t,n,a,o);var b=t.memoizedState;i!==f||h!==b||Gt.current||Mn?(typeof g=="function"&&(Rd(t,r,g,n),b=t.memoizedState),(u=Mn||sm(t,r,u,n,h,b,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),a.props=n,a.state=b,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Od(e,t,r,n,s,o)}function Od(e,t,r,n,o,s){_y(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return o&&Qp(t,r,!1),yn(e,t,s);n=t.stateNode,eS.current=t;var i=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Es(t,e.child,null,s),t.child=Es(t,null,i,s)):It(e,t,i,s),t.memoizedState=n.state,o&&Qp(t,r,!0),t.child}function Sy(e){var t=e.stateNode;t.pendingContext?Jp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jp(e,t.context,!1),Jf(e,t.containerInfo)}function hm(e,t,r,n,o){return Cs(),Hf(o),t.flags|=256,It(e,t,r,n),t.child}var Dd={dehydrated:null,treeContext:null,retryLane:0};function Id(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cy(e,t,r){var n=t.pendingProps,o=et.current,s=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),He(et,o&1),e===null)return kd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=pc(a,n,0,null),e=bo(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Id(r),t.memoizedState=Dd,e):oh(t,a));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return tS(e,t,a,n,i,o,r);if(s){s=n.fallback,a=t.mode,o=e.child,i=o.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Jn(o,c),n.subtreeFlags=o.subtreeFlags&14680064),i!==null?s=Jn(i,s):(s=bo(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?Id(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=Dd,n}return s=e.child,e=s.sibling,n=Jn(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function oh(e,t){return t=pc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $i(e,t,r,n){return n!==null&&Hf(n),Es(t,e.child,null,r),e=oh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tS(e,t,r,n,o,s,a){if(r)return t.flags&256?(t.flags&=-257,n=Eu(Error(J(422))),$i(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,o=t.mode,n=pc({mode:"visible",children:n.children},o,0,null),s=bo(s,o,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Es(t,e.child,null,a),t.child.memoizedState=Id(a),t.memoizedState=Dd,s);if(!(t.mode&1))return $i(e,t,a,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var i=n.dgst;return n=i,s=Error(J(419)),n=Eu(s,n,void 0),$i(e,t,a,n)}if(i=(a&e.childLanes)!==0,Wt||i){if(n=vt,n!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|a)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,vn(e,o),jr(n,e,o,-1))}return uh(),n=Eu(Error(J(421))),$i(e,t,a,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=pS.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,tr=Gn(o.nextSibling),rr=t,Xe=!0,Sr=null,e!==null&&(lr[cr++]=cn,lr[cr++]=un,lr[cr++]=So,cn=e.id,un=e.overflow,So=t),t=oh(t,n.children),t.flags|=4096,t)}function pm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nd(e.return,t,r)}function ju(e,t,r,n,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=o)}function Ey(e,t,r){var n=t.pendingProps,o=n.revealOrder,s=n.tail;if(It(e,t,n.children,r),n=et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pm(e,r,t);else if(e.tag===19)pm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(He(et,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&$l(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),ju(t,!1,o,r,s);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&$l(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}ju(t,!0,r,null,s);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Eo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=Jn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rS(e,t,r){switch(t.tag){case 3:Sy(t),Cs();break;case 5:Qv(t);break;case 1:qt(t.type)&&Al(t);break;case 4:Jf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;He(Il,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(He(et,et.current&1),t.flags|=128,null):r&t.child.childLanes?Cy(e,t,r):(He(et,et.current&1),e=yn(e,t,r),e!==null?e.sibling:null);He(et,et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ey(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),He(et,et.current),n)break;return null;case 22:case 23:return t.lanes=0,by(e,t,r)}return yn(e,t,r)}var jy,Md,ky,Ny;jy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Md=function(){};ky=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,xo(Hr.current);var s=null;switch(r){case"input":o=od(e,o),n=od(e,n),s=[];break;case"select":o=rt({},o,{value:void 0}),n=rt({},n,{value:void 0}),s=[];break;case"textarea":o=id(e,o),n=id(e,n),s=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pl)}cd(r,n);var a;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var i=o[u];for(a in i)i.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ra.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(i=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ra.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",e),s||i===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Ny=function(e,t,r,n){r!==n&&(t.flags|=4)};function na(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nS(e,t,r){var n=t.pendingProps;switch(Vf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return qt(t.type)&&Tl(),Rt(t),null;case 3:return n=t.stateNode,js(),Je(Gt),Je(Tt),Xf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(Hd(Sr),Sr=null))),Md(e,t),Rt(t),null;case 5:Qf(t);var o=xo(Ua.current);if(r=t.type,e!==null&&t.stateNode!=null)ky(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(J(166));return Rt(t),null}if(e=xo(Hr.current),Mi(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Fr]=t,n[Fa]=s,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(o=0;o<fa.length;o++)Ye(fa[o],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Sp(n,s),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",n);break;case"textarea":Ep(n,s),Ye("invalid",n)}cd(r,s),o=null;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];a==="children"?typeof i=="string"?n.textContent!==i&&(s.suppressHydrationWarning!==!0&&Ii(n.textContent,i,e),o=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&Ii(n.textContent,i,e),o=["children",""+i]):Ra.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Ye("scroll",n)}switch(r){case"input":ki(n),Cp(n,s,!0);break;case"textarea":ki(n),jp(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Pl)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Fr]=t,e[Fa]=n,jy(e,t,!1,!1),t.stateNode=e;e:{switch(a=ud(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),o=n;break;case"iframe":case"object":case"embed":Ye("load",e),o=n;break;case"video":case"audio":for(o=0;o<fa.length;o++)Ye(fa[o],e);o=n;break;case"source":Ye("error",e),o=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),o=n;break;case"details":Ye("toggle",e),o=n;break;case"input":Sp(e,n),o=od(e,n),Ye("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=rt({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":Ep(e,n),o=id(e,n),Ye("invalid",e);break;default:o=n}cd(r,o),i=o;for(s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="style"?sv(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nv(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Pa(e,c):typeof c=="number"&&Pa(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ra.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ye("scroll",e):c!=null&&Nf(e,s,c,a))}switch(r){case"input":ki(e),Cp(e,n,!1);break;case"textarea":ki(e),jp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?hs(e,!!n.multiple,s,!1):n.defaultValue!=null&&hs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)Ny(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(J(166));if(r=xo(Ua.current),xo(Hr.current),Mi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fr]=t,(s=n.nodeValue!==r)&&(e=rr,e!==null))switch(e.tag){case 3:Ii(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ii(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fr]=t,t.stateNode=n}return Rt(t),null;case 13:if(Je(et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&tr!==null&&t.mode&1&&!(t.flags&128))Gv(),Cs(),t.flags|=98560,s=!1;else if(s=Mi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(J(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Fr]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),s=!1}else Sr!==null&&(Hd(Sr),Sr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?ht===0&&(ht=3):uh())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return js(),Md(e,t),e===null&&La(t.stateNode.containerInfo),Rt(t),null;case 10:return qf(t.type._context),Rt(t),null;case 17:return qt(t.type)&&Tl(),Rt(t),null;case 19:if(Je(et),s=t.memoizedState,s===null)return Rt(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)na(s,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=$l(e),a!==null){for(t.flags|=128,na(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(et,et.current&1|2),t.child}e=e.sibling}s.tail!==null&&st()>Ns&&(t.flags|=128,n=!0,na(s,!1),t.lanes=4194304)}else{if(!n)if(e=$l(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),na(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Xe)return Rt(t),null}else 2*st()-s.renderingStartTime>Ns&&r!==1073741824&&(t.flags|=128,n=!0,na(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=st(),t.sibling=null,r=et.current,He(et,n?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return ch(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Qt&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function oS(e,t){switch(Vf(t),t.tag){case 1:return qt(t.type)&&Tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return js(),Je(Gt),Je(Tt),Xf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qf(t),null;case 13:if(Je(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(et),null;case 4:return js(),null;case 10:return qf(t.type._context),null;case 22:case 23:return ch(),null;case 24:return null;default:return null}}var Fi=!1,Pt=!1,sS=typeof WeakSet=="function"?WeakSet:Set,ie=null;function us(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(e,t,n)}else r.current=null}function Ld(e,t,r){try{r()}catch(n){ot(e,t,n)}}var mm=!1;function aS(e,t){if(wd=kl,e=Ov(),Uf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,i=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||o!==0&&f.nodeType!==3||(i=a+o),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===o&&(i=a),h===s&&++d===n&&(c=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bd={focusedElem:e,selectionRange:r},kl=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:wr(t.type,x),w);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(_){ot(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return b=mm,mm=!1,b}function _a(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Ld(t,r,s)}o=o.next}while(o!==n)}}function fc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $d(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ry(e){var t=e.alternate;t!==null&&(e.alternate=null,Ry(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[Fa],delete t[Cd],delete t[B_],delete t[V_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Py(e){return e.tag===5||e.tag===3||e.tag===4}function gm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pl));else if(n!==4&&(e=e.child,e!==null))for(Fd(e,t,r),e=e.sibling;e!==null;)Fd(e,t,r),e=e.sibling}function zd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zd(e,t,r),e=e.sibling;e!==null;)zd(e,t,r),e=e.sibling}var St=null,br=!1;function Pn(e,t,r){for(r=r.child;r!==null;)Ty(e,t,r),r=r.sibling}function Ty(e,t,r){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(oc,r)}catch{}switch(r.tag){case 5:Pt||us(r,t);case 6:var n=St,o=br;St=null,Pn(e,t,r),St=n,br=o,St!==null&&(br?(e=St,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):St.removeChild(r.stateNode));break;case 18:St!==null&&(br?(e=St,r=r.stateNode,e.nodeType===8?xu(e.parentNode,r):e.nodeType===1&&xu(e,r),Da(e)):xu(St,r.stateNode));break;case 4:n=St,o=br,St=r.stateNode.containerInfo,br=!0,Pn(e,t,r),St=n,br=o;break;case 0:case 11:case 14:case 15:if(!Pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var s=o,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Ld(r,t,a),o=o.next}while(o!==n)}Pn(e,t,r);break;case 1:if(!Pt&&(us(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){ot(r,t,i)}Pn(e,t,r);break;case 21:Pn(e,t,r);break;case 22:r.mode&1?(Pt=(n=Pt)||r.memoizedState!==null,Pn(e,t,r),Pt=n):Pn(e,t,r);break;default:Pn(e,t,r)}}function vm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sS),t.forEach(function(n){var o=mS.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function vr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var s=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:St=i.stateNode,br=!1;break e;case 3:St=i.stateNode.containerInfo,br=!0;break e;case 4:St=i.stateNode.containerInfo,br=!0;break e}i=i.return}if(St===null)throw Error(J(160));Ty(s,a,o),St=null,br=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){ot(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ay(t,e),t=t.sibling}function Ay(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Ir(e),n&4){try{_a(3,e,e.return),fc(3,e)}catch(x){ot(e,e.return,x)}try{_a(5,e,e.return)}catch(x){ot(e,e.return,x)}}break;case 1:vr(t,e),Ir(e),n&512&&r!==null&&us(r,r.return);break;case 5:if(vr(t,e),Ir(e),n&512&&r!==null&&us(r,r.return),e.flags&32){var o=e.stateNode;try{Pa(o,"")}catch(x){ot(e,e.return,x)}}if(n&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&ev(o,s),ud(i,a);var u=ud(i,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?sv(o,f):d==="dangerouslySetInnerHTML"?nv(o,f):d==="children"?Pa(o,f):Nf(o,d,f,u)}switch(i){case"input":sd(o,s);break;case"textarea":tv(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?hs(o,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?hs(o,!!s.multiple,s.defaultValue,!0):hs(o,!!s.multiple,s.multiple?[]:"",!1))}o[Fa]=s}catch(x){ot(e,e.return,x)}}break;case 6:if(vr(t,e),Ir(e),n&4){if(e.stateNode===null)throw Error(J(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(x){ot(e,e.return,x)}}break;case 3:if(vr(t,e),Ir(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Da(t.containerInfo)}catch(x){ot(e,e.return,x)}break;case 4:vr(t,e),Ir(e);break;case 13:vr(t,e),Ir(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(ih=st())),n&4&&vm(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||d,vr(t,e),Pt=u):vr(t,e),Ir(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(h=ie,g=h.child,h.tag){case 0:case 11:case 14:case 15:_a(4,h,h.return);break;case 1:us(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){ot(n,r,x)}}break;case 5:us(h,h.return);break;case 22:if(h.memoizedState!==null){xm(f);continue}}g!==null?(g.return=h,ie=g):xm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=ov("display",a))}catch(x){ot(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ot(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vr(t,e),Ir(e),n&4&&vm(e);break;case 21:break;default:vr(t,e),Ir(e)}}function Ir(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Py(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Pa(o,""),n.flags&=-33);var s=gm(e);zd(e,s,o);break;case 3:case 4:var a=n.stateNode.containerInfo,i=gm(e);Fd(e,i,a);break;default:throw Error(J(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iS(e,t,r){ie=e,Oy(e)}function Oy(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var o=ie,s=o.child;if(o.tag===22&&n){var a=o.memoizedState!==null||Fi;if(!a){var i=o.alternate,c=i!==null&&i.memoizedState!==null||Pt;i=Fi;var u=Pt;if(Fi=a,(Pt=c)&&!u)for(ie=o;ie!==null;)a=ie,c=a.child,a.tag===22&&a.memoizedState!==null?wm(o):c!==null?(c.return=a,ie=c):wm(o);for(;s!==null;)ie=s,Oy(s),s=s.sibling;ie=o,Fi=i,Pt=u}ym(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,ie=s):ym(e)}}function ym(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||fc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:wr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&rm(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}rm(t,a,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Da(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Pt||t.flags&512&&$d(t)}catch(h){ot(t,t.return,h)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function xm(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function wm(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fc(4,t)}catch(c){ot(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){ot(t,o,c)}}var s=t.return;try{$d(t)}catch(c){ot(t,s,c)}break;case 5:var a=t.return;try{$d(t)}catch(c){ot(t,a,c)}}}catch(c){ot(t,t.return,c)}if(t===e){ie=null;break}var i=t.sibling;if(i!==null){i.return=t.return,ie=i;break}ie=t.return}}var lS=Math.ceil,Ul=Sn.ReactCurrentDispatcher,sh=Sn.ReactCurrentOwner,dr=Sn.ReactCurrentBatchConfig,De=0,vt=null,lt=null,Ct=0,Qt=0,ds=ro(0),ht=0,Wa=null,Eo=0,hc=0,ah=0,Sa=null,Vt=null,ih=0,Ns=1/0,nn=null,Bl=!1,Ud=null,Kn=null,zi=!1,Bn=null,Vl=0,Ca=0,Bd=null,dl=-1,fl=0;function Mt(){return De&6?st():dl!==-1?dl:dl=st()}function Yn(e){return e.mode&1?De&2&&Ct!==0?Ct&-Ct:W_.transition!==null?(fl===0&&(fl=vv()),fl):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Cv(e.type)),e):1}function jr(e,t,r,n){if(50<Ca)throw Ca=0,Bd=null,Error(J(185));ti(e,r,n),(!(De&2)||e!==vt)&&(e===vt&&(!(De&2)&&(hc|=r),ht===4&&Fn(e,Ct)),Kt(e,n),r===1&&De===0&&!(t.mode&1)&&(Ns=st()+500,cc&&no()))}function Kt(e,t){var r=e.callbackNode;W1(e,t);var n=jl(e,e===vt?Ct:0);if(n===0)r!==null&&Rp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Rp(r),t===1)e.tag===0?H_(bm.bind(null,e)):Vv(bm.bind(null,e)),z_(function(){!(De&6)&&no()}),r=null;else{switch(yv(n)){case 1:r=Of;break;case 4:r=mv;break;case 16:r=El;break;case 536870912:r=gv;break;default:r=El}r=Uy(r,Dy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Dy(e,t){if(dl=-1,fl=0,De&6)throw Error(J(327));var r=e.callbackNode;if(ys()&&e.callbackNode!==r)return null;var n=jl(e,e===vt?Ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Hl(e,n);else{t=n;var o=De;De|=2;var s=My();(vt!==e||Ct!==t)&&(nn=null,Ns=st()+500,wo(e,t));do try{dS();break}catch(i){Iy(e,i)}while(!0);Gf(),Ul.current=s,De=o,lt!==null?t=0:(vt=null,Ct=0,t=ht)}if(t!==0){if(t===2&&(o=md(e),o!==0&&(n=o,t=Vd(e,o))),t===1)throw r=Wa,wo(e,0),Fn(e,n),Kt(e,st()),r;if(t===6)Fn(e,n);else{if(o=e.current.alternate,!(n&30)&&!cS(o)&&(t=Hl(e,n),t===2&&(s=md(e),s!==0&&(n=s,t=Vd(e,s))),t===1))throw r=Wa,wo(e,0),Fn(e,n),Kt(e,st()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(J(345));case 2:ho(e,Vt,nn);break;case 3:if(Fn(e,n),(n&130023424)===n&&(t=ih+500-st(),10<t)){if(jl(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Sd(ho.bind(null,e,Vt,nn),t);break}ho(e,Vt,nn);break;case 4:if(Fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-Er(n);s=1<<a,a=t[a],a>o&&(o=a),n&=~s}if(n=o,n=st()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lS(n/1960))-n,10<n){e.timeoutHandle=Sd(ho.bind(null,e,Vt,nn),n);break}ho(e,Vt,nn);break;case 5:ho(e,Vt,nn);break;default:throw Error(J(329))}}}return Kt(e,st()),e.callbackNode===r?Dy.bind(null,e):null}function Vd(e,t){var r=Sa;return e.current.memoizedState.isDehydrated&&(wo(e,t).flags|=256),e=Hl(e,t),e!==2&&(t=Vt,Vt=r,t!==null&&Hd(t)),e}function Hd(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function cS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],s=o.getSnapshot;o=o.value;try{if(!kr(s(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~ah,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Er(t),n=1<<r;e[r]=-1,t&=~n}}function bm(e){if(De&6)throw Error(J(327));ys();var t=jl(e,0);if(!(t&1))return Kt(e,st()),null;var r=Hl(e,t);if(e.tag!==0&&r===2){var n=md(e);n!==0&&(t=n,r=Vd(e,n))}if(r===1)throw r=Wa,wo(e,0),Fn(e,t),Kt(e,st()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ho(e,Vt,nn),Kt(e,st()),null}function lh(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(Ns=st()+500,cc&&no())}}function jo(e){Bn!==null&&Bn.tag===0&&!(De&6)&&ys();var t=De;De|=1;var r=dr.transition,n=$e;try{if(dr.transition=null,$e=1,e)return e()}finally{$e=n,dr.transition=r,De=t,!(De&6)&&no()}}function ch(){Qt=ds.current,Je(ds)}function wo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,F_(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(Vf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Tl();break;case 3:js(),Je(Gt),Je(Tt),Xf();break;case 5:Qf(n);break;case 4:js();break;case 13:Je(et);break;case 19:Je(et);break;case 10:qf(n.type._context);break;case 22:case 23:ch()}r=r.return}if(vt=e,lt=e=Jn(e.current,null),Ct=Qt=t,ht=0,Wa=null,ah=hc=Eo=0,Vt=Sa=null,yo!==null){for(t=0;t<yo.length;t++)if(r=yo[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=o,n.next=a}r.pending=n}yo=null}return e}function Iy(e,t){do{var r=lt;try{if(Gf(),ll.current=zl,Fl){for(var n=tt.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Fl=!1}if(Co=0,gt=ft=tt=null,ba=!1,Ba=0,sh.current=null,r===null||r.return===null){ht=1,Wa=t,lt=null;break}e:{var s=e,a=r.return,i=r,c=t;if(t=Ct,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=i,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=lm(a);if(g!==null){g.flags&=-257,cm(g,a,i,s,t),g.mode&1&&im(s,u,t),t=g,c=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){im(s,u,t),uh();break e}c=Error(J(426))}}else if(Xe&&i.mode&1){var w=lm(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cm(w,a,i,s,t),Hf(ks(c,i));break e}}s=c=ks(c,i),ht!==4&&(ht=2),Sa===null?Sa=[s]:Sa.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=yy(s,c,t);tm(s,y);break e;case 1:i=c;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Kn===null||!Kn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=xy(s,i,t);tm(s,_);break e}}s=s.return}while(s!==null)}$y(r)}catch(S){t=S,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function My(){var e=Ul.current;return Ul.current=zl,e===null?zl:e}function uh(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||!(Eo&268435455)&&!(hc&268435455)||Fn(vt,Ct)}function Hl(e,t){var r=De;De|=2;var n=My();(vt!==e||Ct!==t)&&(nn=null,wo(e,t));do try{uS();break}catch(o){Iy(e,o)}while(!0);if(Gf(),De=r,Ul.current=n,lt!==null)throw Error(J(261));return vt=null,Ct=0,ht}function uS(){for(;lt!==null;)Ly(lt)}function dS(){for(;lt!==null&&!M1();)Ly(lt)}function Ly(e){var t=zy(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?$y(e):lt=t,sh.current=null}function $y(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=oS(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(r=nS(r,t,Qt),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function ho(e,t,r){var n=$e,o=dr.transition;try{dr.transition=null,$e=1,fS(e,t,r,n)}finally{dr.transition=o,$e=n}return null}function fS(e,t,r,n){do ys();while(Bn!==null);if(De&6)throw Error(J(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(G1(e,s),e===vt&&(lt=vt=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zi||(zi=!0,Uy(El,function(){return ys(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=dr.transition,dr.transition=null;var a=$e;$e=1;var i=De;De|=4,sh.current=null,aS(e,r),Ay(r,e),A_(bd),kl=!!wd,bd=wd=null,e.current=r,iS(r),L1(),De=i,$e=a,dr.transition=s}else e.current=r;if(zi&&(zi=!1,Bn=e,Vl=o),s=e.pendingLanes,s===0&&(Kn=null),z1(r.stateNode),Kt(e,st()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Bl)throw Bl=!1,e=Ud,Ud=null,e;return Vl&1&&e.tag!==0&&ys(),s=e.pendingLanes,s&1?e===Bd?Ca++:(Ca=0,Bd=e):Ca=0,no(),null}function ys(){if(Bn!==null){var e=yv(Vl),t=dr.transition,r=$e;try{if(dr.transition=null,$e=16>e?16:e,Bn===null)var n=!1;else{if(e=Bn,Bn=null,Vl=0,De&6)throw Error(J(331));var o=De;for(De|=4,ie=e.current;ie!==null;){var s=ie,a=s.child;if(ie.flags&16){var i=s.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:_a(8,d,s)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var h=d.sibling,g=d.return;if(Ry(d),d===u){ie=null;break}if(h!==null){h.return=g,ie=h;break}ie=g}}}var b=s.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}ie=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ie=a;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_a(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ie=y;break e}ie=s.return}}var m=e.current;for(ie=m;ie!==null;){a=ie;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,ie=v;else e:for(a=m;ie!==null;){if(i=ie,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:fc(9,i)}}catch(S){ot(i,i.return,S)}if(i===a){ie=null;break e}var _=i.sibling;if(_!==null){_.return=i.return,ie=_;break e}ie=i.return}}if(De=o,no(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(oc,e)}catch{}n=!0}return n}finally{$e=r,dr.transition=t}}return!1}function _m(e,t,r){t=ks(r,t),t=yy(e,t,1),e=qn(e,t,1),t=Mt(),e!==null&&(ti(e,1,t),Kt(e,t))}function ot(e,t,r){if(e.tag===3)_m(e,e,r);else for(;t!==null;){if(t.tag===3){_m(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kn===null||!Kn.has(n))){e=ks(r,e),e=xy(t,e,1),t=qn(t,e,1),e=Mt(),t!==null&&(ti(t,1,e),Kt(t,e));break}}t=t.return}}function hS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,vt===e&&(Ct&r)===r&&(ht===4||ht===3&&(Ct&130023424)===Ct&&500>st()-ih?wo(e,0):ah|=r),Kt(e,t)}function Fy(e,t){t===0&&(e.mode&1?(t=Pi,Pi<<=1,!(Pi&130023424)&&(Pi=4194304)):t=1);var r=Mt();e=vn(e,t),e!==null&&(ti(e,t,r),Kt(e,r))}function pS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fy(e,r)}function mS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(t),Fy(e,r)}var zy;zy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,rS(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,Xe&&t.flags&1048576&&Hv(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ul(e,t),e=t.pendingProps;var o=Ss(t,Tt.current);vs(t,r),o=eh(null,t,n,e,o,r);var s=th();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(n)?(s=!0,Al(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Yf(t),o.updater=dc,t.stateNode=o,o._reactInternals=t,Pd(t,n,e,r),t=Od(null,t,n,!0,s,r)):(t.tag=0,Xe&&s&&Bf(t),It(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ul(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=vS(n),e=wr(n,e),o){case 0:t=Ad(null,t,n,e,r);break e;case 1:t=fm(null,t,n,e,r);break e;case 11:t=um(null,t,n,e,r);break e;case 14:t=dm(null,t,n,wr(n.type,e),r);break e}throw Error(J(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:wr(n,o),Ad(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:wr(n,o),fm(e,t,n,o,r);case 3:e:{if(Sy(t),e===null)throw Error(J(387));n=t.pendingProps,s=t.memoizedState,o=s.element,Jv(e,t),Ll(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ks(Error(J(423)),t),t=hm(e,t,n,r,o);break e}else if(n!==o){o=ks(Error(J(424)),t),t=hm(e,t,n,r,o);break e}else for(tr=Gn(t.stateNode.containerInfo.firstChild),rr=t,Xe=!0,Sr=null,r=Kv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cs(),n===o){t=yn(e,t,r);break e}It(e,t,n,r)}t=t.child}return t;case 5:return Qv(t),e===null&&kd(t),n=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,a=o.children,_d(n,o)?a=null:s!==null&&_d(n,s)&&(t.flags|=32),_y(e,t),It(e,t,a,r),t.child;case 6:return e===null&&kd(t),null;case 13:return Cy(e,t,r);case 4:return Jf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Es(t,null,n,r):It(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:wr(n,o),um(e,t,n,o,r);case 7:return It(e,t,t.pendingProps,r),t.child;case 8:return It(e,t,t.pendingProps.children,r),t.child;case 12:return It(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,He(Il,n._currentValue),n._currentValue=a,s!==null)if(kr(s.value,a)){if(s.children===o.children&&!Gt.current){t=yn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){a=s.child;for(var c=i.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=dn(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Nd(s.return,r,t),i.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(J(341));a.lanes|=r,i=a.alternate,i!==null&&(i.lanes|=r),Nd(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}It(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,vs(t,r),o=pr(o),n=n(o),t.flags|=1,It(e,t,n,r),t.child;case 14:return n=t.type,o=wr(n,t.pendingProps),o=wr(n.type,o),dm(e,t,n,o,r);case 15:return wy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:wr(n,o),ul(e,t),t.tag=1,qt(n)?(e=!0,Al(t)):e=!1,vs(t,r),vy(t,n,o),Pd(t,n,o,r),Od(null,t,n,!0,e,r);case 19:return Ey(e,t,r);case 22:return by(e,t,r)}throw Error(J(156,t.tag))};function Uy(e,t){return pv(e,t)}function gS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,r,n){return new gS(e,t,r,n)}function dh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vS(e){if(typeof e=="function")return dh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pf)return 11;if(e===Tf)return 14}return 2}function Jn(e,t){var r=e.alternate;return r===null?(r=ur(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hl(e,t,r,n,o,s){var a=2;if(n=e,typeof e=="function")dh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ts:return bo(r.children,o,s,t);case Rf:a=8,o|=8;break;case ed:return e=ur(12,r,t,o|2),e.elementType=ed,e.lanes=s,e;case td:return e=ur(13,r,t,o),e.elementType=td,e.lanes=s,e;case rd:return e=ur(19,r,t,o),e.elementType=rd,e.lanes=s,e;case Qg:return pc(r,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yg:a=10;break e;case Jg:a=9;break e;case Pf:a=11;break e;case Tf:a=14;break e;case In:a=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=ur(a,r,t,o),t.elementType=e,t.type=n,t.lanes=s,t}function bo(e,t,r,n){return e=ur(7,e,n,t),e.lanes=r,e}function pc(e,t,r,n){return e=ur(22,e,n,t),e.elementType=Qg,e.lanes=r,e.stateNode={isHidden:!1},e}function ku(e,t,r){return e=ur(6,e,null,t),e.lanes=r,e}function Nu(e,t,r){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yS(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lu(0),this.expirationTimes=lu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lu(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function fh(e,t,r,n,o,s,a,i,c){return e=new yS(e,t,r,i,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ur(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yf(s),e}function xS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function By(e){if(!e)return Xn;e=e._reactInternals;e:{if(Oo(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(qt(r))return Bv(e,r,t)}return t}function Vy(e,t,r,n,o,s,a,i,c){return e=fh(r,n,!0,e,o,s,a,i,c),e.context=By(null),r=e.current,n=Mt(),o=Yn(r),s=dn(n,o),s.callback=t??null,qn(r,s,o),e.current.lanes=o,ti(e,o,n),Kt(e,n),e}function mc(e,t,r,n){var o=t.current,s=Mt(),a=Yn(o);return r=By(r),t.context===null?t.context=r:t.pendingContext=r,t=dn(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qn(o,t,a),e!==null&&(jr(e,o,a,s),il(e,o,a)),a}function Wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hh(e,t){Sm(e,t),(e=e.alternate)&&Sm(e,t)}function wS(){return null}var Hy=typeof reportError=="function"?reportError:function(e){console.error(e)};function ph(e){this._internalRoot=e}gc.prototype.render=ph.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));mc(e,t,null,null)};gc.prototype.unmount=ph.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jo(function(){mc(null,e,null,null)}),t[gn]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=bv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&Sv(e)}};function mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cm(){}function bS(e,t,r,n,o){if(o){if(typeof n=="function"){var s=n;n=function(){var u=Wl(a);s.call(u)}}var a=Vy(t,n,e,0,null,!1,!1,"",Cm);return e._reactRootContainer=a,e[gn]=a.current,La(e.nodeType===8?e.parentNode:e),jo(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var i=n;n=function(){var u=Wl(c);i.call(u)}}var c=fh(e,0,!1,null,null,!1,!1,"",Cm);return e._reactRootContainer=c,e[gn]=c.current,La(e.nodeType===8?e.parentNode:e),jo(function(){mc(t,c,r,n)}),c}function yc(e,t,r,n,o){var s=r._reactRootContainer;if(s){var a=s;if(typeof o=="function"){var i=o;o=function(){var c=Wl(a);i.call(c)}}mc(t,a,e,o)}else a=bS(r,t,e,o,n);return Wl(a)}xv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=da(t.pendingLanes);r!==0&&(Df(t,r|1),Kt(t,st()),!(De&6)&&(Ns=st()+500,no()))}break;case 13:jo(function(){var n=vn(e,1);if(n!==null){var o=Mt();jr(n,e,1,o)}}),hh(e,1)}};If=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var r=Mt();jr(t,e,134217728,r)}hh(e,134217728)}};wv=function(e){if(e.tag===13){var t=Yn(e),r=vn(e,t);if(r!==null){var n=Mt();jr(r,e,t,n)}hh(e,t)}};bv=function(){return $e};_v=function(e,t){var r=$e;try{return $e=e,t()}finally{$e=r}};fd=function(e,t,r){switch(t){case"input":if(sd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=lc(n);if(!o)throw Error(J(90));Zg(n),sd(n,o)}}}break;case"textarea":tv(e,r);break;case"select":t=r.value,t!=null&&hs(e,!!r.multiple,t,!1)}};lv=lh;cv=jo;var _S={usingClientEntryPoint:!1,Events:[ni,ss,lc,av,iv,lh]},oa={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SS={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fv(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||wS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{oc=Ui.inject(SS),Vr=Ui}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_S;sr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mh(t))throw Error(J(200));return xS(e,t,null,r)};sr.createRoot=function(e,t){if(!mh(e))throw Error(J(299));var r=!1,n="",o=Hy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=fh(e,1,!1,null,null,r,!1,n,o),e[gn]=t.current,La(e.nodeType===8?e.parentNode:e),new ph(t)};sr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=fv(t),e=e===null?null:e.stateNode,e};sr.flushSync=function(e){return jo(e)};sr.hydrate=function(e,t,r){if(!vc(t))throw Error(J(200));return yc(null,e,t,!0,r)};sr.hydrateRoot=function(e,t,r){if(!mh(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,o=!1,s="",a=Hy;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Vy(t,null,e,1,r??null,o,!1,s,a),e[gn]=t.current,La(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new gc(t)};sr.render=function(e,t,r){if(!vc(t))throw Error(J(200));return yc(null,e,t,!1,r)};sr.unmountComponentAtNode=function(e){if(!vc(e))throw Error(J(40));return e._reactRootContainer?(jo(function(){yc(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};sr.unstable_batchedUpdates=lh;sr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vc(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return yc(e,t,r,!1,n)};sr.version="18.3.1-next-f1338f8080-20240426";function Wy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wy)}catch(e){console.error(e)}}Wy(),Wg.exports=sr;var Ms=Wg.exports;const Gy=bf(Ms);var Em=Ms;Xu.createRoot=Em.createRoot,Xu.hydrateRoot=Em.hydrateRoot;var gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.parse=PS;gh.serialize=TS;const CS=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,ES=/^[\u0021-\u003A\u003C-\u007E]*$/,jS=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,kS=/^[\u0020-\u003A\u003D-\u007E]*$/,NS=Object.prototype.toString,RS=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function PS(e,t){const r=new RS,n=e.length;if(n<2)return r;const o=(t==null?void 0:t.decode)||AS;let s=0;do{const a=e.indexOf("=",s);if(a===-1)break;const i=e.indexOf(";",s),c=i===-1?n:i;if(a>c){s=e.lastIndexOf(";",a-1)+1;continue}const u=jm(e,s,a),d=km(e,a,u),f=e.slice(u,d);if(r[f]===void 0){let h=jm(e,a+1,c),g=km(e,c,h);const b=o(e.slice(h,g));r[f]=b}s=c+1}while(s<n);return r}function jm(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function km(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function TS(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!CS.test(e))throw new TypeError(`argument name is invalid: ${e}`);const o=n(t);if(!ES.test(o))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+o;if(!r)return s;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!jS.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!kS.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){if(!OS(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function AS(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function OS(e){return NS.call(e)==="[object Date]"}var Nm="popstate";function DS(e={}){function t(n,o){let{pathname:s,search:a,hash:i}=n.location;return Wd("",{pathname:s,search:a,hash:i},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Ga(o)}return MS(t,r,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IS(){return Math.random().toString(36).substring(2,10)}function Rm(e,t){return{usr:e.state,key:e.key,idx:t}}function Wd(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ls(t):t,state:r,key:t&&t.key||n||IS()}}function Ga({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ls(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function MS(e,t,r,n={}){let{window:o=document.defaultView,v5Compat:s=!1}=n,a=o.history,i="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){i="POP";let w=d(),y=w==null?null:w-u;u=w,c&&c({action:i,location:x.location,delta:y})}function h(w,y){i="PUSH";let m=Wd(x.location,w,y);u=d()+1;let v=Rm(m,u),_=x.createHref(m);try{a.pushState(v,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(_)}s&&c&&c({action:i,location:x.location,delta:1})}function g(w,y){i="REPLACE";let m=Wd(x.location,w,y);u=d();let v=Rm(m,u),_=x.createHref(m);a.replaceState(v,"",_),s&&c&&c({action:i,location:x.location,delta:0})}function b(w){return LS(w)}let x={get action(){return i},get location(){return e(o,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Nm,f),c=w,()=>{o.removeEventListener(Nm,f),c=null}},createHref(w){return t(o,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(w){return a.go(w)}};return x}function LS(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ga(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qy(e,t,r="/"){return $S(e,t,r,!1)}function $S(e,t,r,n){let o=typeof t=="string"?Ls(t):t,s=xn(o.pathname||"/",r);if(s==null)return null;let a=Ky(e);FS(a);let i=null;for(let c=0;i==null&&c<a.length;++c){let u=JS(s);i=KS(a[c],u,n)}return i}function Ky(e,t=[],r=[],n=""){let o=(s,a,i)=>{let c={relativePath:i===void 0?s.path||"":i,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Ze(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=fn([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Ze(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Ky(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:GS(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var i;if(s.path===""||!((i=s.path)!=null&&i.includes("?")))o(s,a);else for(let c of Yy(s.path))o(s,a,c)}),t}function Yy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return o?[s,""]:[s];let a=Yy(n.join("/")),i=[];return i.push(...a.map(c=>c===""?s:[s,c].join("/"))),o&&i.push(...a),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function FS(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var zS=/^:[\w-]+$/,US=3,BS=2,VS=1,HS=10,WS=-2,Pm=e=>e==="*";function GS(e,t){let r=e.split("/"),n=r.length;return r.some(Pm)&&(n+=WS),t&&(n+=BS),r.filter(o=>!Pm(o)).reduce((o,s)=>o+(zS.test(s)?US:s===""?VS:HS),n)}function qS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function KS(e,t,r=!1){let{routesMeta:n}=e,o={},s="/",a=[];for(let i=0;i<n.length;++i){let c=n[i],u=i===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=Gl({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Gl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(o,f.params),a.push({params:o,pathname:fn([s,f.pathname]),pathnameBase:eC(fn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=fn([s,f.pathnameBase]))}return a}function Gl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=YS(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let s=o[0],a=s.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let b=i[h]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=i[h];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function YS(e,t=!1,r=!0){Nr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,c)=>(n.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function JS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function xn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function QS(e,t="/"){let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Ls(e):e;return{pathname:r?r.startsWith("/")?r:XS(r,t):t,search:tC(n),hash:rC(o)}}function XS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Ru(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vh(e){let t=ZS(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function yh(e,t,r,n=!1){let o;typeof e=="string"?o=Ls(e):(o={...e},Ze(!o.pathname||!o.pathname.includes("?"),Ru("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Ru("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Ru("#","search","hash",o)));let s=e===""||o.pathname==="",a=s?"/":o.pathname,i;if(a==null)i=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;o.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=QS(o,i),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var fn=e=>e.join("/").replace(/\/\/+/g,"/"),eC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Jy=["POST","PUT","PATCH","DELETE"];new Set(Jy);var oC=["GET",...Jy];new Set(oC);var $s=p.createContext(null);$s.displayName="DataRouter";var xc=p.createContext(null);xc.displayName="DataRouterState";var Qy=p.createContext({isTransitioning:!1});Qy.displayName="ViewTransition";var sC=p.createContext(new Map);sC.displayName="Fetchers";var aC=p.createContext(null);aC.displayName="Await";var Tr=p.createContext(null);Tr.displayName="Navigation";var si=p.createContext(null);si.displayName="Location";var Ar=p.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var xh=p.createContext(null);xh.displayName="RouteError";function iC(e,{relative:t}={}){Ze(Fs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=p.useContext(Tr),{hash:o,pathname:s,search:a}=ai(e,{relative:t}),i=s;return r!=="/"&&(i=s==="/"?r:fn([r,s])),n.createHref({pathname:i,search:a,hash:o})}function Fs(){return p.useContext(si)!=null}function Cn(){return Ze(Fs(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(si).location}var Xy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zy(e){p.useContext(Tr).static||p.useLayoutEffect(e)}function wc(){let{isDataRoute:e}=p.useContext(Ar);return e?_C():lC()}function lC(){Ze(Fs(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext($s),{basename:t,navigator:r}=p.useContext(Tr),{matches:n}=p.useContext(Ar),{pathname:o}=Cn(),s=JSON.stringify(vh(n)),a=p.useRef(!1);return Zy(()=>{a.current=!0}),p.useCallback((c,u={})=>{if(Nr(a.current,Xy),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=yh(c,JSON.parse(s),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:fn([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,o,e])}var cC=p.createContext(null);function uC(e){let t=p.useContext(Ar).outlet;return t&&p.createElement(cC.Provider,{value:e},t)}function ai(e,{relative:t}={}){let{matches:r}=p.useContext(Ar),{pathname:n}=Cn(),o=JSON.stringify(vh(r));return p.useMemo(()=>yh(e,JSON.parse(o),n,t==="path"),[e,o,n,t])}function dC(e,t){return e0(e,t)}function e0(e,t,r,n){var m;Ze(Fs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:s}=p.useContext(Tr),{matches:a}=p.useContext(Ar),i=a[a.length-1],c=i?i.params:{},u=i?i.pathname:"/",d=i?i.pathnameBase:"/",f=i&&i.route;{let v=f&&f.path||"";t0(u,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=Cn(),g;if(t){let v=typeof t=="string"?Ls(t):t;Ze(d==="/"||((m=v.pathname)==null?void 0:m.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),g=v}else g=h;let b=g.pathname||"/",x=b;if(d!=="/"){let v=d.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=!s&&r&&r.matches&&r.matches.length>0?r.matches:qy(e,{pathname:x});Nr(f||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Nr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=gC(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:fn([d,o.encodeLocation?o.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:fn([d,o.encodeLocation?o.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&y?p.createElement(si.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function fC(){let e=bC(),t=nC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:s},"ErrorBoundary")," or"," ",p.createElement("code",{style:s},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:o},r):null,a)}var hC=p.createElement(fC,null),pC=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(Ar.Provider,{value:this.props.routeContext},p.createElement(xh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mC({routeContext:e,match:t,children:r}){let n=p.useContext($s);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Ar.Provider,{value:e},r)}function gC(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=r==null?void 0:r.errors;if(s!=null){let c=o.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ze(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,i=-1;if(r)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=c),u.route.id){let{loaderData:d,errors:f}=r,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){a=!0,i>=0?o=o.slice(0,i+1):o=[o[0]];break}}}return o.reduceRight((c,u,d)=>{let f,h=!1,g=null,b=null;r&&(f=s&&u.route.id?s[u.route.id]:void 0,g=u.route.errorElement||hC,a&&(i<0&&d===0?(t0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,b=null):i===d&&(h=!0,b=u.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,d+1)),w=()=>{let y;return f?y=g:h?y=b:u.route.Component?y=p.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,p.createElement(mC,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?p.createElement(pC,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function wh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vC(e){let t=p.useContext($s);return Ze(t,wh(e)),t}function yC(e){let t=p.useContext(xc);return Ze(t,wh(e)),t}function xC(e){let t=p.useContext(Ar);return Ze(t,wh(e)),t}function bh(e){let t=xC(e),r=t.matches[t.matches.length-1];return Ze(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function wC(){return bh("useRouteId")}function bC(){var n;let e=p.useContext(xh),t=yC("useRouteError"),r=bh("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function _C(){let{router:e}=vC("useNavigate"),t=bh("useNavigate"),r=p.useRef(!1);return Zy(()=>{r.current=!0}),p.useCallback(async(o,s={})=>{Nr(r.current,Xy),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...s}))},[e,t])}var Tm={};function t0(e,t,r){!t&&!Tm[e]&&(Tm[e]=!0,Nr(!1,r))}p.memo(SC);function SC({routes:e,future:t,state:r}){return e0(e,void 0,r,t)}function ln({to:e,replace:t,state:r,relative:n}){Ze(Fs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=p.useContext(Tr);Nr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=p.useContext(Ar),{pathname:a}=Cn(),i=wc(),c=yh(e,vh(s),a,n==="path"),u=JSON.stringify(c);return p.useEffect(()=>{i(JSON.parse(u),{replace:t,state:r,relative:n})},[i,u,n,t,r]),null}function r0(e){return uC(e.context)}function bt(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CC({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:o,static:s=!1}){Ze(!Fs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),i=p.useMemo(()=>({basename:a,navigator:o,static:s,future:{}}),[a,o,s]);typeof r=="string"&&(r=Ls(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,g=p.useMemo(()=>{let b=xn(c,a);return b==null?null:{location:{pathname:b,search:u,hash:d,state:f,key:h},navigationType:n}},[a,c,u,d,f,h,n]);return Nr(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:p.createElement(Tr.Provider,{value:i},p.createElement(si.Provider,{children:t,value:g}))}function EC({children:e,location:t}){return dC(Gd(e),t)}function Gd(e,t=[]){let r=[];return p.Children.forEach(e,(n,o)=>{if(!p.isValidElement(n))return;let s=[...t,o];if(n.type===p.Fragment){r.push.apply(r,Gd(n.props.children,s));return}Ze(n.type===bt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Gd(n.props.children,s)),r.push(a)}),r}var pl="get",ml="application/x-www-form-urlencoded";function bc(e){return e!=null&&typeof e.tagName=="string"}function jC(e){return bc(e)&&e.tagName.toLowerCase()==="button"}function kC(e){return bc(e)&&e.tagName.toLowerCase()==="form"}function NC(e){return bc(e)&&e.tagName.toLowerCase()==="input"}function RC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PC(e,t){return e.button===0&&(!t||t==="_self")&&!RC(e)}var Bi=null;function TC(){if(Bi===null)try{new FormData(document.createElement("form"),0),Bi=!1}catch{Bi=!0}return Bi}var AC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pu(e){return e!=null&&!AC.has(e)?(Nr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ml}"`),null):e}function OC(e,t){let r,n,o,s,a;if(kC(e)){let i=e.getAttribute("action");n=i?xn(i,t):null,r=e.getAttribute("method")||pl,o=Pu(e.getAttribute("enctype"))||ml,s=new FormData(e)}else if(jC(e)||NC(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||i.getAttribute("action");if(n=c?xn(c,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||pl,o=Pu(e.getAttribute("formenctype"))||Pu(i.getAttribute("enctype"))||ml,s=new FormData(i,e),!TC()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(bc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pl,n=null,o=ml,a=e}return s&&o==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:s,body:a}}function _h(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function DC(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function MC(e,t,r){let n=await Promise.all(e.map(async o=>{let s=t.routes[o.route.id];if(s){let a=await DC(s,r);return a.links?a.links():[]}return[]}));return zC(n.flat(1).filter(IC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Am(e,t,r,n,o,s){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,i=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>a(c,u)||i(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||i(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function LC(e,t,{includeHydrateFallback:r}={}){return $C(e.map(n=>{let o=t.routes[n.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function $C(e){return[...new Set(e)]}function FC(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function zC(e,t){let r=new Set;return new Set(t),e.reduce((n,o)=>{let s=JSON.stringify(FC(o));return r.has(s)||(r.add(s),n.push({key:s,link:o})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UC=new Set([100,101,204,205]);function BC(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&xn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function n0(){let e=p.useContext($s);return _h(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function VC(){let e=p.useContext(xc);return _h(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sh=p.createContext(void 0);Sh.displayName="FrameworkContext";function o0(){let e=p.useContext(Sh);return _h(e,"You must render this element inside a <HydratedRouter> element"),e}function HC(e,t){let r=p.useContext(Sh),[n,o]=p.useState(!1),[s,a]=p.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=p.useRef(null);p.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=y=>{y.forEach(m=>{a(m.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),p.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let g=()=>{o(!0)},b=()=>{o(!1),a(!1)};return r?e!=="intent"?[s,h,{}]:[s,h,{onFocus:sa(i,g),onBlur:sa(c,b),onMouseEnter:sa(u,g),onMouseLeave:sa(d,b),onTouchStart:sa(f,g)}]:[!1,h,{}]}function sa(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function WC({page:e,...t}){let{router:r}=n0(),n=p.useMemo(()=>qy(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?p.createElement(qC,{page:e,matches:n,...t}):null}function GC(e){let{manifest:t,routeModules:r}=o0(),[n,o]=p.useState([]);return p.useEffect(()=>{let s=!1;return MC(e,t,r).then(a=>{s||o(a)}),()=>{s=!0}},[e,t,r]),n}function qC({page:e,matches:t,...r}){let n=Cn(),{manifest:o,routeModules:s}=o0(),{basename:a}=n0(),{loaderData:i,matches:c}=VC(),u=p.useMemo(()=>Am(e,t,c,o,n,"data"),[e,t,c,o,n]),d=p.useMemo(()=>Am(e,t,c,o,n,"assets"),[e,t,c,o,n]),f=p.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(t.forEach(y=>{var v;let m=o.routes[y.route.id];!m||!m.hasLoader||(!u.some(_=>_.route.id===y.route.id)&&y.route.id in i&&((v=s[y.route.id])!=null&&v.shouldRevalidate)||m.hasClientLoader?x=!0:b.add(y.route.id))}),b.size===0)return[];let w=BC(e,a);return x&&b.size>0&&w.searchParams.set("_routes",t.filter(y=>b.has(y.route.id)).map(y=>y.route.id).join(",")),[w.pathname+w.search]},[a,i,n,o,u,t,e,s]),h=p.useMemo(()=>LC(d,o),[d,o]),g=GC(d);return p.createElement(p.Fragment,null,f.map(b=>p.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),h.map(b=>p.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),g.map(({key:b,link:x})=>p.createElement("link",{key:b,...x})))}function KC(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var s0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s0&&(window.__reactRouterVersion="7.6.0")}catch{}function YC({basename:e,children:t,window:r}){let n=p.useRef();n.current==null&&(n.current=DS({window:r,v5Compat:!0}));let o=n.current,[s,a]=p.useState({action:o.action,location:o.location}),i=p.useCallback(c=>{p.startTransition(()=>a(c))},[a]);return p.useLayoutEffect(()=>o.listen(i),[o,i]),p.createElement(CC,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o})}var a0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_c=p.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:o,reloadDocument:s,replace:a,state:i,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},g){let{basename:b}=p.useContext(Tr),x=typeof u=="string"&&a0.test(u),w,y=!1;if(typeof u=="string"&&x&&(w=u,s0))try{let F=new URL(window.location.href),D=u.startsWith("//")?new URL(F.protocol+u):new URL(u),Q=xn(D.pathname,b);D.origin===F.origin&&Q!=null?u=Q+D.search+D.hash:y=!0}catch{Nr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=iC(u,{relative:o}),[v,_,S]=HC(n,h),T=ZC(u,{replace:a,state:i,target:c,preventScrollReset:d,relative:o,viewTransition:f});function N(F){t&&t(F),F.defaultPrevented||T(F)}let R=p.createElement("a",{...h,...S,href:w||m,onClick:y||s?t:N,ref:KC(g,_),target:c,"data-discover":!x&&r==="render"?"true":void 0});return v&&!x?p.createElement(p.Fragment,null,R,p.createElement(WC,{page:m})):R});_c.displayName="Link";var JC=p.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:o=!1,style:s,to:a,viewTransition:i,children:c,...u},d){let f=ai(a,{relative:u.relative}),h=Cn(),g=p.useContext(xc),{navigator:b,basename:x}=p.useContext(Tr),w=g!=null&&oE(f)&&i===!0,y=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,m=h.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(m=m.toLowerCase(),v=v?v.toLowerCase():null,y=y.toLowerCase()),v&&x&&(v=xn(v,x)||v);const _=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=m===y||!o&&m.startsWith(y)&&m.charAt(_)==="/",T=v!=null&&(v===y||!o&&v.startsWith(y)&&v.charAt(y.length)==="/"),N={isActive:S,isPending:T,isTransitioning:w},R=S?t:void 0,F;typeof n=="function"?F=n(N):F=[n,S?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(N):s;return p.createElement(_c,{...u,"aria-current":R,className:F,ref:d,style:D,to:a,viewTransition:i},typeof c=="function"?c(N):c)});JC.displayName="NavLink";var QC=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:o,state:s,method:a=pl,action:i,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},g)=>{let b=rE(),x=nE(i,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",y=typeof i=="string"&&a0.test(i),m=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let _=v.nativeEvent.submitter,S=(_==null?void 0:_.getAttribute("formmethod"))||a;b(_||v.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:o,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return p.createElement("form",{ref:g,method:w,action:x,onSubmit:n?c:m,...h,"data-discover":!y&&e==="render"?"true":void 0})});QC.displayName="Form";function XC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(e){let t=p.useContext($s);return Ze(t,XC(e)),t}function ZC(e,{target:t,replace:r,state:n,preventScrollReset:o,relative:s,viewTransition:a}={}){let i=wc(),c=Cn(),u=ai(e,{relative:s});return p.useCallback(d=>{if(PC(d,t)){d.preventDefault();let f=r!==void 0?r:Ga(c)===Ga(u);i(e,{replace:f,state:n,preventScrollReset:o,relative:s,viewTransition:a})}},[c,i,u,r,n,t,e,o,s,a])}var eE=0,tE=()=>`__${String(++eE)}__`;function rE(){let{router:e}=i0("useSubmit"),{basename:t}=p.useContext(Tr),r=wC();return p.useCallback(async(n,o={})=>{let{action:s,method:a,encType:i,formData:c,body:u}=OC(n,t);if(o.navigate===!1){let d=o.fetcherKey||tE();await e.fetch(d,r,o.action||s,{preventScrollReset:o.preventScrollReset,formData:c,body:u,formMethod:o.method||a,formEncType:o.encType||i,flushSync:o.flushSync})}else await e.navigate(o.action||s,{preventScrollReset:o.preventScrollReset,formData:c,body:u,formMethod:o.method||a,formEncType:o.encType||i,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function nE(e,{relative:t}={}){let{basename:r}=p.useContext(Tr),n=p.useContext(Ar);Ze(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),s={...ai(e||".",{relative:t})},a=Cn();if(e==null){s.search=a.search;let i=new URLSearchParams(s.search),c=i.getAll("index");if(c.some(d=>d==="")){i.delete("index"),c.filter(f=>f).forEach(f=>i.append("index",f));let d=i.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:fn([r,s.pathname])),Ga(s)}function oE(e,t={}){let r=p.useContext(Qy);Ze(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=i0("useViewTransitionState"),o=ai(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=xn(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=xn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Gl(o.pathname,a)!=null||Gl(o.pathname,s)!=null}[...UC];const sE="modulepreload",aE=function(e){return"/"+e},Om={},Rs=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(r.map(c=>{if(c=aE(c),c in Om)return;Om[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":sE,u||(f.as="script"),f.crossOrigin="",f.href=c,i&&f.setAttribute("nonce",i),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return o.then(a=>{for(const i of a||[])i.status==="rejected"&&s(i.reason);return t().catch(s)})},iE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Rs(async()=>{const{default:n}=await Promise.resolve().then(()=>zs);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ch extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lE extends Ch{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cE extends Ch{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uE extends Ch{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qd||(qd={}));var dE=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function i(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(i,c)}u((n=n.apply(e,t||[])).next())})};class fE{constructor(t,{headers:r={},customFetch:n,region:o=qd.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=iE(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return dE(this,void 0,void 0,function*(){try{const{headers:o,method:s,body:a}=r;let i={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(i["x-region"]=c);let u;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(i["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(i["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),o),body:u}).catch(b=>{throw new lE(b)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new cE(d);if(!d.ok)throw new uE(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(o){return{data:null,error:o}}})}}var Ht={},Eh={},Sc={},ii={},Cc={},Ec={},hE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ps=hE();const pE=Ps.fetch,l0=Ps.fetch.bind(Ps),c0=Ps.Headers,mE=Ps.Request,gE=Ps.Response,zs=Object.freeze(Object.defineProperty({__proto__:null,Headers:c0,Request:mE,Response:gE,default:l0,fetch:pE},Symbol.toStringTag,{value:"Module"})),vE=Xb(zs);var jc={};Object.defineProperty(jc,"__esModule",{value:!0});let yE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};jc.default=yE;var u0=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ec,"__esModule",{value:!0});const xE=u0(vE),wE=u0(jc);let bE=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=xE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,i,c;let u=null,d=null,f=null,h=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(i=s.headers.get("content-range"))===null||i===void 0?void 0:i.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,g="OK")}catch{s.status===404&&x===""?(h=204,g="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new wE.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(o=o.catch(s=>{var a,i,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(i=s==null?void 0:s.stack)!==null&&i!==void 0?i:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,r)}returns(){return this}overrideTypes(){return this}};Ec.default=bE;var _E=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cc,"__esModule",{value:!0});const SE=_E(Ec);let CE=class extends SE.default{select(t){let r=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:s=o}={}){const a=s?`${s}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:o=n}={}){const s=typeof o>"u"?"offset":`${o}.offset`,a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:s=!1,format:a="text"}={}){var i;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(i=this.headers.Accept)!==null&&i!==void 0?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cc.default=CE;var EE=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ii,"__esModule",{value:!0});const jE=EE(Cc);let kE=class extends jE.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:o}={}){let s="";o==="plain"?s="pl":o==="phrase"?s="ph":o==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ii.default=kE;var NE=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sc,"__esModule",{value:!0});const aa=NE(ii);let RE=class{constructor(t,{headers:r={},schema:n,fetch:o}){this.url=t,this.headers=r,this.schema=n,this.fetch=o}select(t,{head:r=!1,count:n}={}){const o=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new aa.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const o="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((i,c)=>i.concat(Object.keys(c)),[]);if(a.length>0){const i=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",i.join(","))}}return new aa.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:s=!0}={}){const a="POST",i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&i.push(this.headers.Prefer),o&&i.push(`count=${o}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new aa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),this.headers.Prefer=o.join(","),new aa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new aa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Sc.default=RE;var kc={},Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.version=void 0;Nc.version="0.0.0-automated";Object.defineProperty(kc,"__esModule",{value:!0});kc.DEFAULT_HEADERS=void 0;const PE=Nc;kc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${PE.version}`};var d0=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eh,"__esModule",{value:!0});const TE=d0(Sc),AE=d0(ii),OE=kc;let DE=class f0{constructor(t,{headers:r={},schema:n,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},OE.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=o}from(t){const r=new URL(`${this.url}/${t}`);return new TE.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new f0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:o=!1,count:s}={}){let a;const i=new URL(`${this.url}/rpc/${t}`);let c;n||o?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{i.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new AE.default({method:a,url:i,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Eh.default=DE;var Us=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.PostgrestError=Ht.PostgrestBuilder=Ht.PostgrestTransformBuilder=Ht.PostgrestFilterBuilder=Ht.PostgrestQueryBuilder=Ht.PostgrestClient=void 0;const h0=Us(Eh);Ht.PostgrestClient=h0.default;const p0=Us(Sc);Ht.PostgrestQueryBuilder=p0.default;const m0=Us(ii);Ht.PostgrestFilterBuilder=m0.default;const g0=Us(Cc);Ht.PostgrestTransformBuilder=g0.default;const v0=Us(Ec);Ht.PostgrestBuilder=v0.default;const y0=Us(jc);Ht.PostgrestError=y0.default;var IE=Ht.default={PostgrestClient:h0.default,PostgrestQueryBuilder:p0.default,PostgrestFilterBuilder:m0.default,PostgrestTransformBuilder:g0.default,PostgrestBuilder:v0.default,PostgrestError:y0.default};const{PostgrestClient:ME,PostgrestQueryBuilder:E5,PostgrestFilterBuilder:j5,PostgrestTransformBuilder:k5,PostgrestBuilder:N5,PostgrestError:R5}=IE,LE="2.11.2",$E={"X-Client-Info":`realtime-js/${LE}`},FE="1.0.0",x0=1e4,zE=1e3;var xs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xs||(xs={}));var Jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jt||(Jt={}));var _r;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_r||(_r={}));var Kd;(function(e){e.websocket="websocket"})(Kd||(Kd={}));var go;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(go||(go={}));class UE{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const i=n.decode(t.slice(a,a+o));a=a+o;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:i,event:c,payload:u}}}class w0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const Dm=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=BE(a,e,t,o),s),{})},BE=(e,t,r,n)=>{const o=t.find(i=>i.name===e),s=o==null?void 0:o.type,a=r[e];return s&&!n.includes(s)?b0(s,a):Yd(a)},b0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return GE(t,r)}switch(e){case Ve.bool:return VE(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return HE(t);case Ve.json:case Ve.jsonb:return WE(t);case Ve.timestamp:return qE(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Yd(t);default:return Yd(t)}},Yd=e=>e,VE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},WE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},GE=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(i=>b0(t,i))}return e},qE=e=>typeof e=="string"?e.replace(" ","T"):e,_0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Tu{constructor(t,r,n={},o=x0){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Im;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Im||(Im={}));class Ea{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:s,onLeave:a,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ea.syncState(this.state,o,s,a),this.pendingDiffs.forEach(c=>{this.state=Ea.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],i()}),this.channel._on(n.diff,{},o=>{const{onJoin:s,onLeave:a,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ea.syncDiff(this.state,o,s,a),i())}),this.onJoin((o,s,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:a})}),this.onLeave((o,s,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const s=this.cloneDeep(t),a=this.transformState(r),i={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),b=d.filter(w=>g.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);b.length>0&&(i[u]=b),x.length>0&&(c[u]=x)}else i[u]=d}),this.syncDiff(s,{joins:i,leaves:c},n,o)}static syncDiff(t,r,n,o){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(s,(i,c)=>{var u;const d=(u=t[i])!==null&&u!==void 0?u:[];if(t[i]=this.cloneDeep(c),d.length>0){const f=t[i].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[i].unshift(...h)}n(i,d,c)}),this.map(a,(i,c)=>{let u=t[i];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[i]=u,o(i,u,c),u.length===0&&delete t[i]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Mm||(Mm={}));var Lm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lm||(Lm={}));var on;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(on||(on={}));class jh{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tu(this,_r.join,this.params,this.timeout),this.rejoinTimer=new w0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_r.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Ea(this),this.broadcastEndpointURL=_0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:i}}=this.params;this._onError(d=>t==null?void 0:t(on.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(on.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&o!==void 0?o:[],private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(on.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,b=[];for(let x=0;x<g;x++){const w=h[x],{filter:{event:y,schema:m,table:v,filter:_}}=w,S=d&&d[x];if(S&&S.event===y&&S.schema===m&&S.table===v&&S.filter===_)b.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),t==null||t(on.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(on.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(on.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(on.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,i,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(i=(a=this.params)===null||a===void 0?void 0:a.config)===null||i===void 0?void 0:i.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_r.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const o=new Tu(this,_r.leave,{},t);o.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const o=new AbortController,s=setTimeout(()=>o.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Tu(this,t,r,n);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,s;const a=t.toLocaleLowerCase(),{close:i,error:c,leave:u,join:d}=_r;if(n&&[i,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(g=>{var b,x,w;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var b,x,w,y,m,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const _=g.id,S=(b=g.filter)===null||b===void 0?void 0:b.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(m=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:x,table:w,commit_timestamp:y,type:m,errors:v}=b;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:y,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(b))}g.callback(h,n)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),s={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&jh.isEqual(o.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_r.close,{},t)}_onError(t){this._on(_r.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Dm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Dm(t.columns,t.old_record)),r}}const KE=()=>{},YE=typeof WebSocket<"u",JE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QE{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=$E,this.params={},this.timeout=x0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=KE,this.conn=null,this.sendBuffer=[],this.serializer=new UE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...i)=>Rs(async()=>{const{default:c}=await Promise.resolve().then(()=>zs);return{default:c}},void 0).then(({default:c})=>c(...i)):a=fetch,(...i)=>a(...i)},this.endPoint=`${t}/${Kd.websocket}`,this.httpEndpoint=_0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const o=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new w0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(YE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new XE(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Rs(async()=>{const{default:t}=await import("./browser-DzYUpn4T.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FE}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return go.Connecting;case xs.open:return go.Open;case xs.closing:return go.Closing;default:return go.Closed}}isConnected(){return this.connectionState()===go.Open}channel(t,r={config:{}}){const n=new jh(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:o,ref:s}=t,a=()=>{this.encode(t,i=>{var c;(c=this.conn)===null||c===void 0||c.send(i)})};this.log("push",`${r} ${n} (${s})`,o),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(o=>{r&&o.updateJoinPayload({access_token:r}),o.joinedOnce&&o._isJoined()&&o._push(_r.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(zE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:o,payload:s,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${o} ${a&&"("+a+")"||""}`,s),this.channels.filter(i=>i._isMember(n)).forEach(i=>i._trigger(o,s,a)),this.stateChangeCallbacks.message.forEach(i=>i(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(_r.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([JE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class XE{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class kh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ZE extends kh{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jd extends kh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var e2=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function i(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(i,c)}u((n=n.apply(e,t||[])).next())})};const S0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Rs(async()=>{const{default:n}=await Promise.resolve().then(()=>zs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},t2=()=>e2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rs(()=>Promise.resolve().then(()=>zs),void 0)).Response:Response}),Qd=e=>{if(Array.isArray(e))return e.map(r=>Qd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[o]=Qd(n)}),t};var Do=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function i(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(i,c)}u((n=n.apply(e,t||[])).next())})};const Au=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r2=(e,t,r)=>Do(void 0,void 0,void 0,function*(){const n=yield t2();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{t(new ZE(Au(o),e.status||500))}).catch(o=>{t(new Jd(Au(o),o))}):t(new Jd(Au(e),e))}),n2=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(o.body=JSON.stringify(n)),Object.assign(Object.assign({},o),r))};function li(e,t,r,n,o,s){return Do(this,void 0,void 0,function*(){return new Promise((a,i)=>{e(r,n2(t,n,o,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>r2(c,i,n))})})}function ql(e,t,r,n){return Do(this,void 0,void 0,function*(){return li(e,"GET",t,r,n)})}function Ln(e,t,r,n,o){return Do(this,void 0,void 0,function*(){return li(e,"POST",t,n,o,r)})}function o2(e,t,r,n,o){return Do(this,void 0,void 0,function*(){return li(e,"PUT",t,n,o,r)})}function s2(e,t,r,n){return Do(this,void 0,void 0,function*(){return li(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function C0(e,t,r,n,o){return Do(this,void 0,void 0,function*(){return li(e,"DELETE",t,n,o,r)})}var Ut=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function i(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(i,c)}u((n=n.apply(e,t||[])).next())})};const a2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$m={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i2{constructor(t,r={},n,o){this.url=t,this.headers=r,this.bucketId=n,this.fetch=S0(o)}uploadOrUpdate(t,r,n,o){return Ut(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},$m),o);let i=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,c&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o!=null&&o.headers&&(i=Object.assign(Object.assign({},i),o.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:i},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return Ut(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:$m.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(i.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(mt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const s=yield Ln(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),a=new URL(this.url+s.url),i=a.searchParams.get("token");if(!i)throw new kh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:i},error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}copy(t,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:{path:(yield Ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return Ut(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),s=yield Ln(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return Ut(this,void 0,void 0,function*(){try{const o=yield Ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}download(t,r){return Ut(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const i=this._getFinalPath(t);return{data:yield(yield ql(this.fetch,`${this.url}/${o}/${i}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}info(t){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ql(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qd(n),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}exists(t){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield s2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(mt(n)&&n instanceof Jd){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&o.push(s);const i=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${u}`)}}}remove(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ut(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},a2),r),{prefix:t||""});return{data:yield Ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const l2="2.7.1",c2={"X-Client-Info":`storage-js/${l2}`};var Vo=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function i(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(i,c)}u((n=n.apply(e,t||[])).next())})};class u2{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},c2),r),this.fetch=S0(n)}listBuckets(){return Vo(this,void 0,void 0,function*(){try{return{data:yield ql(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(mt(t))return{data:null,error:t};throw t}})}getBucket(t){return Vo(this,void 0,void 0,function*(){try{return{data:yield ql(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Vo(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Vo(this,void 0,void 0,function*(){try{return{data:yield o2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Vo(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Vo(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}}class d2 extends u2{constructor(t,r={},n){super(t,r,n)}from(t){return new i2(this.url,this.headers,t,this.fetch)}}const f2="2.49.8";let ha="";typeof Deno<"u"?ha="deno":typeof document<"u"?ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ha="react-native":ha="node";const h2={"X-Client-Info":`supabase-js-${ha}/${f2}`},p2={headers:h2},m2={schema:"public"},g2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v2={};var y2=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function i(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(i,c)}u((n=n.apply(e,t||[])).next())})};const x2=e=>{let t;return e?t=e:typeof fetch>"u"?t=l0:t=fetch,(...r)=>t(...r)},w2=()=>typeof Headers>"u"?c0:Headers,b2=(e,t,r)=>{const n=x2(r),o=w2();return(s,a)=>y2(void 0,void 0,void 0,function*(){var i;const c=(i=yield t())!==null&&i!==void 0?i:e;let u=new o(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var _2=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function i(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(i,c)}u((n=n.apply(e,t||[])).next())})};function S2(e){return e.endsWith("/")?e:e+"/"}function C2(e,t){var r,n;const{db:o,auth:s,realtime:a,global:i}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),i),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=i==null?void 0:i.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>_2(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const E0="2.69.1",Xo=30*1e3,Xd=3,Ou=Xd*Xo,E2="http://localhost:9999",j2="supabase.auth.token",k2={"X-Client-Info":`gotrue-js/${E0}`},Zd="X-Supabase-Api-Version",j0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R2=6e5;class Nh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class P2 extends Nh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function T2(e){return Ee(e)&&e.name==="AuthApiError"}class k0 extends Nh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class oo extends Nh{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class An extends oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A2(e){return Ee(e)&&e.name==="AuthSessionMissingError"}class Du extends oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vi extends oo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hi extends oo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O2(e){return Ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fm extends oo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ef extends oo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Iu(e){return Ee(e)&&e.name==="AuthRetryableFetchError"}class zm extends oo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ja extends oo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bm=` 	
\r=`.split(""),D2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bm.length;t+=1)e[Bm[t].charCodeAt(0)]=-2;for(let t=0;t<Um.length;t+=1)e[Um[t].charCodeAt(0)]=t;return e})();function N0(e,t,r){const n=D2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vm(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=a=>{L2(a,n,r)};for(let a=0;a<e.length;a+=1)N0(e.charCodeAt(a),o,s);return t.join("")}function I2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function M2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}I2(n,t)}}function L2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function $2(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)N0(e.charCodeAt(o),r,n);return new Uint8Array(t)}function F2(e){const t=[];return M2(e,r=>t.push(r)),new Uint8Array(t)}function z2(e){return Math.round(Date.now()/1e3)+e}function U2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lr=()=>typeof window<"u"&&typeof document<"u",co={tested:!1,writable:!1},ka=()=>{if(!Lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(co.tested)return co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),co.tested=!0,co.writable=!0}catch{co.tested=!0,co.writable=!1}return co.writable};function B2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,s)=>{t[s]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const R0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Rs(async()=>{const{default:n}=await Promise.resolve().then(()=>zs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},V2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",P0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gi=async(e,t)=>{await e.removeItem(t)};class Rc{constructor(){this.promise=new Rc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Rc.promiseConstructor=Promise;function Mu(e){const t=e.split(".");if(t.length!==3)throw new ja("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!N2.test(t[n]))throw new ja("JWT not in base64url format");return{header:JSON.parse(Vm(t[0])),payload:JSON.parse(Vm(t[1])),signature:$2(t[2]),raw:{header:t[0],payload:t[1]}}}async function H2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W2(e,t){return new Promise((n,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){o(a);return}}})()})}function G2(e){return("0"+e.toString(16)).substr(-2)}function q2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let s=0;s<56;s++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,G2).join("")}async function K2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function Y2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await K2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ho(e,t,r=!1){const n=q2();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await P0(e,`${t}-code-verifier`,o);const s=await Y2(n);return[s,n===s?"plain":"s256"]}const J2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q2(e){const t=e.headers.get(Zd);if(!t||!t.match(J2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function X2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Z2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ej=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tj=[502,503,504];async function Hm(e){var t;if(!V2(e))throw new ef(po(e),0);if(tj.includes(e.status))throw new ef(po(e),e.status);let r;try{r=await e.json()}catch(s){throw new k0(po(s),s)}let n;const o=Q2(e);if(o&&o.getTime()>=j0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zm(po(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new An}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new zm(po(r),e.status,r.weak_password.reasons);throw new P2(po(r),e.status||500,n)}const rj=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Ae(e,t,r,n){var o;const s=Object.assign({},n==null?void 0:n.headers);s[Zd]||(s[Zd]=j0["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const i=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await nj(e,t,r+i,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function nj(e,t,r,n,o,s){const a=rj(t,n,o,s);let i;try{i=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new ef(po(c),0)}if(i.ok||await Hm(i),n!=null&&n.noResolveJson)return i;try{return await i.json()}catch(c){await Hm(c)}}function On(e){var t;let r=null;ij(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=z2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Wm(e){const t=On(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oj(e){return{data:e,error:null}}function sj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s}=e,a=ej(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s},c=Object.assign({},a);return{data:{properties:i,user:c},error:null}}function aj(e){return e}function ij(e){return e.access_token&&e.refresh_token&&e.expires_in}var lj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class cj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=R0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zn})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lj(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:sj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zn})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,s,a,i,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:aj});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zn})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zn})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zn})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}}const uj={getItem:e=>ka()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ka()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ka()&&globalThis.localStorage.removeItem(e)}};function Gm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function dj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wo={debug:!!(globalThis&&ka()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class T0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fj extends T0{}async function hj(e,t,r){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}dj();const pj={url:E2,storageKey:j2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:k2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qm(e,t,r){return await r()}class qa{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qa.nextInstanceID,qa.nextInstanceID+=1,this.instanceID>0&&Lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},pj),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new cj({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=R0(o.fetch),this.lock=o.lock||qm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Lr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hj:this.lock=qm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:ka()?this.storage=uj:(this.memoryStorage={},this.storage=Gm(this.memoryStorage)):(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),Lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${E0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=B2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lr()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),O2(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:i}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ee(r)?{error:r}:{error:new k0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:On}),{data:a,error:i}=s;if(i||!a)return{data:{user:null,session:null},error:i};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,o;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Ho(this.storage,this.storageKey)),s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:b},xform:On})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(o=h==null?void 0:h.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:On})}else throw new Vi("You must provide either an email or phone number and a password");const{data:a,error:i}=s;if(i||!a)return{data:{user:null,session:null},error:i};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:i}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Wm})}else if("phone"in t){const{phone:s,password:a,options:i}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Wm})}else throw new Vi("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Du}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Wi(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:s,error:a}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:On});if(await Gi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Du}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(Ee(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:s,nonce:a}=t,i=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:On}),{data:c,error:u}=i;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Du}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,s,a;try{if("email"in t){const{email:i,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ho(this.storage,this.storageKey));const{error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:i,options:c}=t,{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Vi("You must provide either an email or phone number.")}catch(i){if(Ee(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(t){var r,n;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:i}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:On});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Ho(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:oj})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new An;const{error:o}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:s}=t,{error:a}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:o,options:s}=t,{data:a,error:i}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:i}}throw new Vi("You must provide either an email or phone number and a type")}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ou:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zn}):await this._useSession(async r=>{var n,o,s;const{data:a,error:i}=r;if(i)throw i;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new An}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:zn})})}catch(r){if(Ee(r))return A2(r)&&(await this._removeSession(),await Gi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:s}=n;if(s)throw s;if(!o.session)throw new An;const a=o.session;let i=null,c=null;this.flowType==="pkce"&&t.email!=null&&([i,c]=await Ho(this.storage,this.storageKey));const{data:u,error:d}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:i,code_challenge_method:c}),jwt:a.access_token,xform:zn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new An;const r=Date.now()/1e3;let n=r,o=!0,s=null;const{payload:a}=Mu(t.access_token);if(a.exp&&(n=a.exp,o=n<=r),o){const{session:i,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!i)return{data:{user:null,session:null},error:null};s=i}else{const{data:i,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Ee(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:i}=r;if(i)throw i;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new An;const{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lr())throw new Hi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fm("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:i,expires_at:c,token_type:u}=t;if(!s||!i||!a||!u)throw new Hi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(i);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const y={provider_token:n,provider_refresh_token:o,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Ee(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:s}=r;if(s)return{error:s};const a=(n=o.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:i}=await this.admin.signOut(a,t);if(i&&!(T2(i)&&(i.status===404||i.status===401||i.status===403)))return{error:i}}return t!=="others"&&(await this._removeSession(),await Gi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=U2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await Ho(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:o}=await this._useSession(async s=>{var a,i,c,u,d;const{data:f,error:h}=s;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return Lr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ee(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:s,error:a}=r;if(a)throw a;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await W2(async o=>(o>0&&await H2(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:On})),(o,s)=>{const a=200*Math.pow(2,o);return s&&Iu(s)&&Date.now()+a-n<Xo})}catch(n){if(this._debug(r,"error",n),Ee(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Wi(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const o=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ou;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ou}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),Iu(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new An;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Rc;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new An;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const i={session:s.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(s){if(this._debug(o,"error",s),Ee(s)){const a={session:null,error:s};return Iu(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let i=0;i<s.length;i+=1)console.error(s[i]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await P0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Gi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Xo}ms, refresh threshold is ${Xd} ticks`),o<=Xd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof T0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Ho(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(i.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);o.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;return s?{data:null,error:s}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:s,error:a}=r;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=c==null?void 0:c.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:i}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:i})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;return s?{data:null,error:s}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],o=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Mu(o.access_token);let i=null;a.aal&&(i=a.aal);let c=i;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:i,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+R2>Date.now()))return n;const{data:o,error:s}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!o.keys||o.keys.length===0)throw new ja("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),n=o.keys.find(a=>a.kid===t),!n)throw new ja("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};n=g.session.access_token}const{header:o,payload:s,signature:a,raw:{header:i,payload:c}}=Mu(n);if(X2(s.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:o,signature:a},error:null}}const u=Z2(o.alg),d=await this.fetchJwk(o.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,F2(`${i}.${c}`)))throw new ja("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}qa.nextInstanceID=0;const mj=qa;class gj extends mj{constructor(t){super(t)}}var vj=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function i(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(i,c)}u((n=n.apply(e,t||[])).next())})};class yj{constructor(t,r,n){var o,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const i=S2(t),c=new URL(i);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:m2,realtime:v2,auth:Object.assign(Object.assign({},g2),{storageKey:u}),global:p2},f=C2(n??{},d);this.storageKey=(o=f.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=b2(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new ME(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new fE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new d2(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return vj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,storageKey:s,flowType:a,lock:i,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,flowType:a,lock:i,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new QE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A0=(e,t,r)=>new yj(e,t,r),xj="https://kvesgqtjpyvyxtscbfdm.supabase.co",wj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2ZXNncXRqcHl2eXh0c2NiZmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5MzUxMjIsImV4cCI6MjA2MzUxMTEyMn0.4RT8Cj9hc6wgc6q_LG2ME4YahI4BOC4Lgg2x_qlFqts",ee=A0(xj,wj,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Na=A0("https://kvesgqtjpyvyxtscbfdm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2ZXNncXRqcHl2eXh0c2NiZmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5MzUxMjIsImV4cCI6MjA2MzUxMTEyMn0.4RT8Cj9hc6wgc6q_LG2ME4YahI4BOC4Lgg2x_qlFqts",{auth:{persistSession:!1}}),fs={async register(e,t,r,n=""){try{console.log("Iniciando registro de usuario:",{email:e,fullName:r,phone:n});const o=e==="andreschmde@gmail.com",s=o?"admin":"reseller",a=o?"active":"pending";console.log("Rol y estado iniciales:",{initialRole:s,initialStatus:a});const{data:i,error:c}=await ee.auth.signUp({email:e,password:t,options:{data:{role:s,status:a,full_name:r,phone:n||""}}});if(c)throw c.message.includes("already registered")?new Error("El correo electrónico ya está registrado"):new Error("Error al crear el usuario: "+c.message);if(!i.user)throw new Error("No se pudo crear el usuario");console.log("Usuario creado en auth:",{id:i.user.id,email:i.user.email});try{console.log("Usando RPC create_user_profile_v2 para crear el perfil...");const{data:u,error:d}=await ee.rpc("create_user_profile_v2",{user_id:i.user.id,user_email:e,user_role:s,user_status:a,user_full_name:r});if(d)throw console.error("Error al crear perfil con RPC:",d),new Error("Error al crear el perfil del usuario: "+d.message);if(console.log("Perfil creado correctamente con RPC:",u),s==="reseller")try{const f=new Date;f.setDate(f.getDate()+30),console.log("Creando revendedor con RPC update_user_status...");const{error:h}=await ee.rpc("update_user_status",{user_id:i.user.id,new_status:a});h?console.error("Error al crear revendedor con RPC update_user_status:",h):console.log("Revendedor creado correctamente con RPC update_user_status"),console.log("Actualizando datos adicionales del revendedor...");const{error:g}=await ee.rpc("update_reseller_info",{reseller_id:i.user.id,reseller_phone:n||"",reseller_plan_type:"basic",reseller_plan_end_date:f.toISOString()});g?console.error("Error al actualizar info adicional del revendedor:",g):console.log("Datos adicionales del revendedor actualizados correctamente")}catch(f){console.error("Error al configurar revendedor:",f)}console.log("Registro completado con éxito"),console.log("Cerrando sesión automática después del registro..."),await ee.auth.signOut(),console.log("Sesión cerrada correctamente")}catch(u){throw console.error("Error al configurar el usuario:",u),new Error("Se creó el usuario pero hubo un error al configurar su perfil: "+u.message)}}catch(o){throw console.error("Error en el registro:",o),o}},async updateUserRole(e,t){try{console.log(`Actualizando rol de usuario ${e} a ${t}`);const{error:r}=await ee.from("profiles").update({role:t}).eq("id",e);if(r)throw console.error("Error actualizando rol en profiles:",r),r;if(console.log("Rol actualizado correctamente en profiles"),t==="reseller"){const{data:n,error:o}=await ee.from("resellers").select("id").eq("id",e).maybeSingle();if(console.log("Verificación de revendedor existente:",{existingReseller:n,error:o?o.message:null}),!n){const{data:s}=await ee.from("profiles").select("full_name").eq("id",e).single();if(s){const a=new Date;a.setDate(a.getDate()+30);const{error:i}=await ee.from("resellers").insert([{id:e,user_id:e,full_name:s.full_name,status:"pending",phone:"",plan_type:"basic",plan_end_date:a.toISOString(),created_at:new Date().toISOString()}]);i?console.error("Error creando revendedor:",i):console.log("Revendedor creado correctamente")}}}return{success:!0}}catch(r){throw console.error("Error actualizando rol:",r),new Error("Error al actualizar el rol del usuario")}},async updateUserStatus(e,t){return console.log("Esta función ha sido reemplazada por userStatusService.ts"),{success:!0}},async login(e,t){var r,n,o;try{console.log(`Intentando iniciar sesión con email: ${e}`);const{data:s,error:a}=await ee.auth.signInWithPassword({email:e,password:t});if(a)throw console.error("Error de autenticación:",a),new Error("Credenciales incorrectas");console.log("Autenticación exitosa, obteniendo datos del perfil");const{data:i,error:c}=await ee.from("profiles").select("role, status, full_name").eq("id",s.user.id).single();console.log("Datos del perfil:",i,"Error:",c);let u,d,f;if(c||!i?(console.log("Usando metadatos como respaldo"),u=((r=s.user.user_metadata)==null?void 0:r.role)||(e==="andreschmde@gmail.com"?"admin":"reseller"),d=((n=s.user.user_metadata)==null?void 0:n.status)||(e==="andreschmde@gmail.com"?"active":"pending"),f=((o=s.user.user_metadata)==null?void 0:o.full_name)||(e==="andreschmde@gmail.com"?"Andres":"")):(console.log("Usando datos actualizados del perfil"),u=i.role,d=i.status,f=i.full_name),console.log("Estado final del usuario:",{role:u,status:d,full_name:f}),u==="reseller"){console.log("Usuario es revendedor, verificando estado en tabla resellers");try{const{data:h,error:g}=await ee.from("resellers").select("status").or(`id.eq.${s.user.id},user_id.eq.${s.user.id}`).maybeSingle();console.log("Datos del revendedor:",h,"Error:",g),!g&&h&&h.status&&(console.log("Usando estado de la tabla resellers:",h.status),d=h.status)}catch(h){console.error("Error verificando estado en resellers:",h)}}try{console.log("Verificación adicional del estado en profiles");const{data:h,error:g}=await ee.rpc("get_user_profile",{user_id:s.user.id});!g&&h&&h.length>0&&(console.log("Datos más recientes del perfil:",h[0]),d=h[0].status,console.log("Estado actualizado desde get_user_profile:",d))}catch(h){console.error("Error en verificación adicional del perfil:",h)}if(console.log("Estado final para verificación:",d),d==="pending")throw console.log("Usuario pendiente de activación"),new Error("Tu cuenta está pendiente de aprobación por el administrador. Por favor, espera a que tu cuenta sea activada.");if(d==="inactive")throw console.log("Usuario inactivo"),new Error("Tu cuenta ha sido desactivada. Por favor, contacta al administrador para más información.");return console.log("Login exitoso, devolviendo datos del usuario"),{session:s.session,user:{id:s.user.id,email:s.user.email||"",role:u,status:d,full_name:f}}}catch(s){throw console.error("Error en login:",s),s}},async getCurrentUser(){var e,t,r;try{const{data:{session:n}}=await ee.auth.getSession();if(!(n!=null&&n.user))return null;console.log("Obteniendo datos actualizados del usuario actual");const{data:o,error:s}=await ee.from("profiles").select("role, status, full_name").eq("id",n.user.id).single();console.log("Datos del perfil actual:",o,"Error:",s);let a,i,c;return s||!o?(console.log("Usando metadatos como respaldo para usuario actual"),a=((e=n.user.user_metadata)==null?void 0:e.role)||(n.user.email==="andreschmde@gmail.com"?"admin":"reseller"),i=((t=n.user.user_metadata)==null?void 0:t.status)||(n.user.email==="andreschmde@gmail.com"?"active":"pending"),c=((r=n.user.user_metadata)==null?void 0:r.full_name)||(n.user.email==="andreschmde@gmail.com"?"Andres":"")):(console.log("Usando datos actualizados del perfil para usuario actual"),a=o.role,i=o.status,c=o.full_name),console.log("Estado final del usuario actual:",{role:a,status:i,full_name:c}),{id:n.user.id,email:n.user.email||"",role:a,status:i,full_name:c}}catch(n){return console.error("Error obteniendo usuario actual:",n),null}},async logout(){try{const{error:e}=await ee.auth.signOut();if(e)throw e;window.location.href="/"}catch(e){throw console.error("Error al cerrar sesión:",e),new Error("Error al cerrar sesión")}},async updateUserPassword(e){try{console.log("Intentando actualizar la contraseña del usuario");const{data:t,error:r}=await ee.auth.updateUser({password:e});if(r)throw console.error("Error al actualizar la contraseña:",r),new Error("Error al actualizar la contraseña: "+r.message);console.log("Contraseña actualizada exitosamente:",t)}catch(t){throw console.error("Error en updateUserPassword:",t),t}},async deleteUser(e){try{console.log("Intentando eliminar usuario de Auth:",e);const{data:t}=await ee.auth.getSession();if(!(t!=null&&t.session))throw new Error("No hay una sesión activa para realizar esta operación");try{if(Na){const{error:r}=await Na.auth.admin.deleteUser(e);if(r)throw console.error("Error al eliminar usuario con supabaseAdmin:",r),r;console.log("Usuario eliminado correctamente de Auth con supabaseAdmin");return}}catch(r){console.error("Error o no disponible supabaseAdmin:",r)}throw console.log("No se pudo eliminar el usuario de Auth automáticamente"),new Error("La eliminación del usuario de Auth debe ser realizada manualmente por un administrador")}catch(t){throw console.error("Error en deleteUser:",t),t}}},O0=p.createContext(void 0);function bj({children:e}){const[t,r]=p.useState(null),[n,o]=p.useState(!0);p.useEffect(()=>{s()},[]);async function s(){try{const d=await fs.getCurrentUser();r(d)}catch(d){console.error("Error checking user:",d)}finally{o(!1)}}async function a(d,f){const h=await fs.login(d,f);return r(h.user),{user:h.user}}async function i(){await fs.logout(),r(null)}async function c(d){await fs.updateUserPassword(d)}const u={user:t,loading:n,login:a,logout:i,updatePassword:c};return l.jsx(O0.Provider,{value:u,children:e})}function Yr(){const e=p.useContext(O0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Km(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pc(...e){return t=>{let r=!1;const n=e.map(o=>{const s=Km(o,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let o=0;o<n.length;o++){const s=n[o];typeof s=="function"?s():Km(e[o],null)}}}}function Be(...e){return p.useCallback(Pc(...e),e)}function _j(e,t){const r=p.createContext(t),n=s=>{const{children:a,...i}=s,c=p.useMemo(()=>i,Object.values(i));return l.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function o(s){const a=p.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,o]}function Io(e,t=[]){let r=[];function n(s,a){const i=p.createContext(a),c=r.length;r=[...r,a];const u=f=>{var y;const{scope:h,children:g,...b}=f,x=((y=h==null?void 0:h[e])==null?void 0:y[c])||i,w=p.useMemo(()=>b,Object.values(b));return l.jsx(x.Provider,{value:w,children:g})};u.displayName=s+"Provider";function d(f,h){var x;const g=((x=h==null?void 0:h[e])==null?void 0:x[c])||i,b=p.useContext(g);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const o=()=>{const s=r.map(a=>p.createContext(a));return function(i){const c=(i==null?void 0:i[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return o.scopeName=e,[n,Sj(o,...t)]}function Sj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=n.reduce((i,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...i,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var At=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Cj=Vg[" useId ".trim().toString()]||(()=>{}),Ej=0;function hn(e){const[t,r]=p.useState(Cj());return At(()=>{r(n=>n??String(Ej++))},[e]),t?`radix-${t}`:""}var jj=Vg[" useInsertionEffect ".trim().toString()]||At;function Ka({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,s,a]=kj({defaultProp:t,onChange:r}),i=e!==void 0,c=i?e:o;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,n])}const u=p.useCallback(d=>{var f;if(i){const h=Nj(d)?d(e):d;h!==e&&((f=a.current)==null||f.call(a,h))}else s(d)},[i,e,s,a]);return[c,u]}function kj({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),o=p.useRef(r),s=p.useRef(t);return jj(()=>{s.current=t},[t]),p.useEffect(()=>{var a;o.current!==r&&((a=s.current)==null||a.call(s,r),o.current=r)},[r,o]),[r,n,s]}function Nj(e){return typeof e=="function"}function ko(e){const t=Pj(e),r=p.forwardRef((n,o)=>{const{children:s,...a}=n,i=p.Children.toArray(s),c=i.find(Aj);if(c){const u=c.props.children,d=i.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...a,ref:o,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...a,ref:o,children:s})});return r.displayName=`${e}.Slot`,r}var Rj=ko("Slot");function Pj(e){const t=p.forwardRef((r,n)=>{const{children:o,...s}=r;if(p.isValidElement(o)){const a=Dj(o),i=Oj(s,o.props);return o.type!==p.Fragment&&(i.ref=n?Pc(n,a):a),p.cloneElement(o,i)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tj=Symbol("radix.slottable");function Aj(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tj}function Oj(e,t){const r={...t};for(const n in t){const o=e[n],s=t[n];/^on[A-Z]/.test(n)?o&&s?r[n]=(...i)=>{const c=s(...i);return o(...i),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...s}:n==="className"&&(r[n]=[o,s].filter(Boolean).join(" "))}return{...e,...r}}function Dj(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ij=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=Ij.reduce((e,t)=>{const r=ko(`Primitive.${t}`),n=p.forwardRef((o,s)=>{const{asChild:a,...i}=o,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function D0(e,t){e&&Ms.flushSync(()=>e.dispatchEvent(t))}function qr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Mj(e,t=globalThis==null?void 0:globalThis.document){const r=qr(e);p.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Lj="DismissableLayer",tf="dismissableLayer.update",$j="dismissableLayer.pointerDownOutside",Fj="dismissableLayer.focusOutside",Ym,I0=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:i,...c}=e,u=p.useContext(I0),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),b=Be(t,N=>f(N)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(w),m=d?x.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=m>=y,S=Bj(N=>{const R=N.target,F=[...u.branches].some(D=>D.contains(R));!_||F||(o==null||o(N),a==null||a(N),N.defaultPrevented||i==null||i())},h),T=Vj(N=>{const R=N.target;[...u.branches].some(D=>D.contains(R))||(s==null||s(N),a==null||a(N),N.defaultPrevented||i==null||i())},h);return Mj(N=>{m===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ym=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Jm(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ym)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Jm())},[d,u]),p.useEffect(()=>{const N=()=>g({});return document.addEventListener(tf,N),()=>document.removeEventListener(tf,N)},[]),l.jsx(Oe.div,{...c,ref:b,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,T.onFocusCapture),onBlurCapture:me(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,S.onPointerDownCapture)})});Tc.displayName=Lj;var zj="DismissableLayerBranch",Uj=p.forwardRef((e,t)=>{const r=p.useContext(I0),n=p.useRef(null),o=Be(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(Oe.div,{...e,ref:o})});Uj.displayName=zj;function Bj(e,t=globalThis==null?void 0:globalThis.document){const r=qr(e),n=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const s=i=>{if(i.target&&!n.current){let c=function(){M0($j,r,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Vj(e,t=globalThis==null?void 0:globalThis.document){const r=qr(e),n=p.useRef(!1);return p.useEffect(()=>{const o=s=>{s.target&&!n.current&&M0(Fj,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Jm(){const e=new CustomEvent(tf);document.dispatchEvent(e)}function M0(e,t,r,{discrete:n}){const o=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?D0(o,s):o.dispatchEvent(s)}var Lu="focusScope.autoFocusOnMount",$u="focusScope.autoFocusOnUnmount",Qm={bubbles:!1,cancelable:!0},Hj="FocusScope",Ac=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...a}=e,[i,c]=p.useState(null),u=qr(o),d=qr(s),f=p.useRef(null),h=Be(t,x=>c(x)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let x=function(v){if(g.paused||!i)return;const _=v.target;i.contains(_)?f.current=_:Dn(f.current,{select:!0})},w=function(v){if(g.paused||!i)return;const _=v.relatedTarget;_!==null&&(i.contains(_)||Dn(f.current,{select:!0}))},y=function(v){if(document.activeElement===document.body)for(const S of v)S.removedNodes.length>0&&Dn(i)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const m=new MutationObserver(y);return i&&m.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),m.disconnect()}}},[n,i,g.paused]),p.useEffect(()=>{if(i){Zm.add(g);const x=document.activeElement;if(!i.contains(x)){const y=new CustomEvent(Lu,Qm);i.addEventListener(Lu,u),i.dispatchEvent(y),y.defaultPrevented||(Wj(Jj(L0(i)),{select:!0}),document.activeElement===x&&Dn(i))}return()=>{i.removeEventListener(Lu,u),setTimeout(()=>{const y=new CustomEvent($u,Qm);i.addEventListener($u,d),i.dispatchEvent(y),y.defaultPrevented||Dn(x??document.body,{select:!0}),i.removeEventListener($u,d),Zm.remove(g)},0)}}},[i,u,d,g]);const b=p.useCallback(x=>{if(!r&&!n||g.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(w&&y){const m=x.currentTarget,[v,_]=Gj(m);v&&_?!x.shiftKey&&y===_?(x.preventDefault(),r&&Dn(v,{select:!0})):x.shiftKey&&y===v&&(x.preventDefault(),r&&Dn(_,{select:!0})):y===m&&x.preventDefault()}},[r,n,g.paused]);return l.jsx(Oe.div,{tabIndex:-1,...a,ref:h,onKeyDown:b})});Ac.displayName=Hj;function Wj(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Dn(n,{select:t}),document.activeElement!==r)return}function Gj(e){const t=L0(e),r=Xm(t,e),n=Xm(t.reverse(),e);return[r,n]}function L0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Xm(e,t){for(const r of e)if(!qj(r,{upTo:t}))return r}function qj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Kj(e){return e instanceof HTMLInputElement&&"select"in e}function Dn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Kj(e)&&t&&e.select()}}var Zm=Yj();function Yj(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=eg(e,t),e.unshift(t)},remove(t){var r;e=eg(e,t),(r=e[0])==null||r.resume()}}}function eg(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Jj(e){return e.filter(t=>t.tagName!=="A")}var Qj="Portal",Oc=p.forwardRef((e,t)=>{var i;const{container:r,...n}=e,[o,s]=p.useState(!1);At(()=>s(!0),[]);const a=r||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return a?Gy.createPortal(l.jsx(Oe.div,{...n,ref:t}),a):null});Oc.displayName=Qj;function Xj(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var so=e=>{const{present:t,children:r}=e,n=Zj(t),o=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=Be(n.ref,ek(o));return typeof r=="function"||n.isPresent?p.cloneElement(o,{ref:s}):null};so.displayName="Presence";function Zj(e){const[t,r]=p.useState(),n=p.useRef(null),o=p.useRef(e),s=p.useRef("none"),a=e?"mounted":"unmounted",[i,c]=Xj(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=qi(n.current);s.current=i==="mounted"?u:"none"},[i]),At(()=>{const u=n.current,d=o.current;if(d!==e){const h=s.current,g=qi(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),At(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const x=qi(n.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=g=>{g.target===t&&(s.current=qi(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function qi(e){return(e==null?void 0:e.animationName)||"none"}function ek(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Fu=0;function Rh(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tg()),document.body.insertAdjacentElement("beforeend",e[1]??tg()),Fu++,()=>{Fu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fu--}},[])}function tg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zr=function(){return zr=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},zr.apply(this,arguments)};function $0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function tk(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var gl="right-scroll-bar-position",vl="width-before-scroll-bar",rk="with-scroll-bars-hidden",nk="--removed-body-scroll-bar-size";function zu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ok(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var sk=typeof window<"u"?p.useLayoutEffect:p.useEffect,rg=new WeakMap;function ak(e,t){var r=ok(null,function(n){return e.forEach(function(o){return zu(o,n)})});return sk(function(){var n=rg.get(r);if(n){var o=new Set(n),s=new Set(e),a=r.current;o.forEach(function(i){s.has(i)||zu(i,null)}),s.forEach(function(i){o.has(i)||zu(i,a)})}rg.set(r,e)},[e]),r}function ik(e){return e}function lk(e,t){t===void 0&&(t=ik);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var a=t(s,n);return r.push(a),function(){r=r.filter(function(i){return i!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(i){return s(i)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var i=r;r=[],i.forEach(s),a=r}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return o}function ck(e){e===void 0&&(e={});var t=lk(null);return t.options=zr({async:!0,ssr:!1},e),t}var F0=function(e){var t=e.sideCar,r=$0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,zr({},r))};F0.isSideCarExport=!0;function uk(e,t){return e.useMedium(t),F0}var z0=ck(),Uu=function(){},Dc=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Uu,onWheelCapture:Uu,onTouchMoveCapture:Uu}),o=n[0],s=n[1],a=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noRelative,b=e.noIsolation,x=e.inert,w=e.allowPinchZoom,y=e.as,m=y===void 0?"div":y,v=e.gapMode,_=$0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,T=ak([r,t]),N=zr(zr({},_),o);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:z0,removeScrollBar:u,shards:f,noRelative:g,noIsolation:b,inert:x,setCallbacks:s,allowPinchZoom:!!w,lockRef:r,gapMode:v}),a?p.cloneElement(p.Children.only(i),zr(zr({},N),{ref:T})):p.createElement(m,zr({},N,{className:c,ref:T}),i))});Dc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dc.classNames={fullWidth:vl,zeroRight:gl};var dk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dk();return t&&e.setAttribute("nonce",t),e}function hk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pk(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mk=function(){var e=0,t=null;return{add:function(r){e==0&&(t=fk())&&(hk(t,r),pk(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gk=function(){var e=mk();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},U0=function(){var e=gk(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},vk={left:0,top:0,right:0,gap:0},Bu=function(e){return parseInt(e||"",10)||0},yk=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Bu(r),Bu(n),Bu(o)]},xk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vk;var t=yk(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},wk=U0(),ws="data-scroll-locked",bk=function(e,t,r,n){var o=e.left,s=e.top,a=e.right,i=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(rk,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(i,"px ").concat(n,`;
  }
  body[`).concat(ws,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gl,` {
    right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(vl,` {
    margin-right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(gl," .").concat(gl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vl," .").concat(vl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ws,`] {
    `).concat(nk,": ").concat(i,`px;
  }
`)},ng=function(){var e=parseInt(document.body.getAttribute(ws)||"0",10);return isFinite(e)?e:0},_k=function(){p.useEffect(function(){return document.body.setAttribute(ws,(ng()+1).toString()),function(){var e=ng()-1;e<=0?document.body.removeAttribute(ws):document.body.setAttribute(ws,e.toString())}},[])},Sk=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;_k();var s=p.useMemo(function(){return xk(o)},[o]);return p.createElement(wk,{styles:bk(s,!t,o,r?"":"!important")})},rf=!1;if(typeof window<"u")try{var Ki=Object.defineProperty({},"passive",{get:function(){return rf=!0,!0}});window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{rf=!1}var Go=rf?{passive:!1}:!1,Ck=function(e){return e.tagName==="TEXTAREA"},B0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ck(e)&&r[t]==="visible")},Ek=function(e){return B0(e,"overflowY")},jk=function(e){return B0(e,"overflowX")},og=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=V0(e,n);if(o){var s=H0(e,n),a=s[1],i=s[2];if(a>i)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},kk=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Nk=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},V0=function(e,t){return e==="v"?Ek(t):jk(t)},H0=function(e,t){return e==="v"?kk(t):Nk(t)},Rk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Pk=function(e,t,r,n,o){var s=Rk(e,window.getComputedStyle(t).direction),a=s*n,i=r.target,c=t.contains(i),u=!1,d=a>0,f=0,h=0;do{var g=H0(e,i),b=g[0],x=g[1],w=g[2],y=x-w-s*b;(b||y)&&V0(e,i)&&(f+=y,h+=b),i=i.parentNode.host||i.parentNode}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Yi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sg=function(e){return[e.deltaX,e.deltaY]},ag=function(e){return e&&"current"in e?e.current:e},Tk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ak=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ok=0,qo=[];function Dk(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),o=p.useState(Ok++)[0],s=p.useState(U0)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=tk([e.lockRef.current],(e.shards||[]).map(ag),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var y=Yi(x),m=r.current,v="deltaX"in x?x.deltaX:m[0]-y[0],_="deltaY"in x?x.deltaY:m[1]-y[1],S,T=x.target,N=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in x&&N==="h"&&T.type==="range")return!1;var R=og(N,T);if(!R)return!0;if(R?S=N:(S=N==="v"?"h":"v",R=og(N,T)),!R)return!1;if(!n.current&&"changedTouches"in x&&(v||_)&&(n.current=S),!S)return!0;var F=n.current||S;return Pk(F,w,x,F==="h"?v:_)},[]),c=p.useCallback(function(x){var w=x;if(!(!qo.length||qo[qo.length-1]!==s)){var y="deltaY"in w?sg(w):Yi(w),m=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&Tk(S.delta,y)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var v=(a.current.shards||[]).map(ag).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=v.length>0?i(w,v[0]):!a.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(x,w,y,m){var v={name:x,delta:w,target:y,should:m,shadowParent:Ik(y)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=p.useCallback(function(x){r.current=Yi(x),n.current=void 0},[]),f=p.useCallback(function(x){u(x.type,sg(x),x.target,i(x,e.lockRef.current))},[]),h=p.useCallback(function(x){u(x.type,Yi(x),x.target,i(x,e.lockRef.current))},[]);p.useEffect(function(){return qo.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Go),document.addEventListener("touchmove",c,Go),document.addEventListener("touchstart",d,Go),function(){qo=qo.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Go),document.removeEventListener("touchmove",c,Go),document.removeEventListener("touchstart",d,Go)}},[]);var g=e.removeScrollBar,b=e.inert;return p.createElement(p.Fragment,null,b?p.createElement(s,{styles:Ak(o)}):null,g?p.createElement(Sk,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Ik(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Mk=uk(z0,Dk);var Ic=p.forwardRef(function(e,t){return p.createElement(Dc,zr({},e,{ref:t,sideCar:Mk}))});Ic.classNames=Dc.classNames;var Lk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ko=new WeakMap,Ji=new WeakMap,Qi={},Vu=0,W0=function(e){return e&&(e.host||W0(e.parentNode))},$k=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=W0(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Fk=function(e,t,r,n){var o=$k(t,Array.isArray(e)?e:[e]);Qi[r]||(Qi[r]=new WeakMap);var s=Qi[r],a=[],i=new Set,c=new Set(o),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};o.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))d(h);else try{var g=h.getAttribute(n),b=g!==null&&g!=="false",x=(Ko.get(h)||0)+1,w=(s.get(h)||0)+1;Ko.set(h,x),s.set(h,w),a.push(h),x===1&&b&&Ji.set(h,!0),w===1&&h.setAttribute(r,"true"),b||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),i.clear(),Vu++,function(){a.forEach(function(f){var h=Ko.get(f)-1,g=s.get(f)-1;Ko.set(f,h),s.set(f,g),h||(Ji.has(f)||f.removeAttribute(n),Ji.delete(f)),g||f.removeAttribute(r)}),Vu--,Vu||(Ko=new WeakMap,Ko=new WeakMap,Ji=new WeakMap,Qi={})}},Ph=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Lk(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),Fk(n,o,r,"aria-hidden")):function(){return null}},Mc="Dialog",[G0,P5]=Io(Mc),[zk,Or]=G0(Mc),q0=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,i=p.useRef(null),c=p.useRef(null),[u,d]=Ka({prop:n,defaultProp:o??!1,onChange:s,caller:Mc});return l.jsx(zk,{scope:t,triggerRef:i,contentRef:c,contentId:hn(),titleId:hn(),descriptionId:hn(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};q0.displayName=Mc;var K0="DialogTrigger",Uk=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(K0,r),s=Be(t,o.triggerRef);return l.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Oh(o.open),...n,ref:s,onClick:me(e.onClick,o.onOpenToggle)})});Uk.displayName=K0;var Th="DialogPortal",[Bk,Y0]=G0(Th,{forceMount:void 0}),J0=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,s=Or(Th,t);return l.jsx(Bk,{scope:t,forceMount:r,children:p.Children.map(n,a=>l.jsx(so,{present:r||s.open,children:l.jsx(Oc,{asChild:!0,container:o,children:a})}))})};J0.displayName=Th;var Kl="DialogOverlay",Q0=p.forwardRef((e,t)=>{const r=Y0(Kl,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=Or(Kl,e.__scopeDialog);return s.modal?l.jsx(so,{present:n||s.open,children:l.jsx(Hk,{...o,ref:t})}):null});Q0.displayName=Kl;var Vk=ko("DialogOverlay.RemoveScroll"),Hk=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Kl,r);return l.jsx(Ic,{as:Vk,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(Oe.div,{"data-state":Oh(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),No="DialogContent",X0=p.forwardRef((e,t)=>{const r=Y0(No,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=Or(No,e.__scopeDialog);return l.jsx(so,{present:n||s.open,children:s.modal?l.jsx(Wk,{...o,ref:t}):l.jsx(Gk,{...o,ref:t})})});X0.displayName=No;var Wk=p.forwardRef((e,t)=>{const r=Or(No,e.__scopeDialog),n=p.useRef(null),o=Be(t,r.contentRef,n);return p.useEffect(()=>{const s=n.current;if(s)return Ph(s)},[]),l.jsx(Z0,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,i=a.button===0&&a.ctrlKey===!0;(a.button===2||i)&&s.preventDefault()}),onFocusOutside:me(e.onFocusOutside,s=>s.preventDefault())})}),Gk=p.forwardRef((e,t)=>{const r=Or(No,e.__scopeDialog),n=p.useRef(!1),o=p.useRef(!1);return l.jsx(Z0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),Z0=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,...a}=e,i=Or(No,r),c=p.useRef(null),u=Be(t,c);return Rh(),l.jsxs(l.Fragment,{children:[l.jsx(Ac,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:l.jsx(Tc,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Oh(i.open),...a,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(qk,{titleId:i.titleId}),l.jsx(Yk,{contentRef:c,descriptionId:i.descriptionId})]})]})}),Ah="DialogTitle",ex=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Ah,r);return l.jsx(Oe.h2,{id:o.titleId,...n,ref:t})});ex.displayName=Ah;var tx="DialogDescription",rx=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(tx,r);return l.jsx(Oe.p,{id:o.descriptionId,...n,ref:t})});rx.displayName=tx;var nx="DialogClose",ox=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(nx,r);return l.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>o.onOpenChange(!1))})});ox.displayName=nx;function Oh(e){return e?"open":"closed"}var sx="DialogTitleWarning",[T5,ax]=_j(sx,{contentName:No,titleName:Ah,docsSlug:"dialog"}),qk=({titleId:e})=>{const t=ax(sx),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Kk="DialogDescriptionWarning",Yk=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ax(Kk).contentName}}.`;return p.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Jk=q0,Qk=J0,ix=Q0,lx=X0,cx=ex,ux=rx,Xk=ox;/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),ig=e=>{const t=eN(e);return t.charAt(0).toUpperCase()+t.slice(1)},dx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),tN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:s,iconNode:a,...i},c)=>p.createElement("svg",{ref:c,...rN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:dx("lucide",o),...!s&&!tN(i)&&{"aria-hidden":"true"},...i},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const r=p.forwardRef(({className:n,...o},s)=>p.createElement(nN,{ref:s,iconNode:t,className:dx(`lucide-${Zk(ig(e))}`,`lucide-${e}`,n),...o}));return r.displayName=ig(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fx=Re("bell",oN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nf=Re("calendar",sN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dh=Re("check",aN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lN=Re("chevron-down",iN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uN=Re("chevron-right",cN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ih=Re("circle-alert",dN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hN=Re("circle-check-big",fN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Mh=Re("circle-plus",pN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gN=Re("circle",mN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Yl=Re("clock",vN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xN=Re("dollar-sign",yN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],hx=Re("ellipsis",wN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_N=Re("eye-off",bN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CN=Re("eye",SN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],jN=Re("gift",EN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],NN=Re("layout-dashboard",kN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],px=Re("loader-circle",RN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lg=Re("log-out",PN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Lh=Re("mail",TN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],ON=Re("menu",AN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],cg=Re("message-square",DN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Lc=Re("pencil",IN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],LN=Re("power",MN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],FN=Re("refresh-cw",$N);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],mx=Re("rotate-cw",zN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],BN=Re("server",UN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HN=Re("settings",VN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],of=Re("shield",WN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],qN=Re("signal",GN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],YN=Re("toggle-left",KN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ci=Re("trash-2",JN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wn=Re("triangle-alert",QN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$c=Re("user-check",XN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gx=Re("user-cog",ZN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tR=Re("user-plus",eR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],$h=Re("user-x",rR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sf=Re("user",nR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wr=Re("users",oR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ui=Re("x",sR);function vx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=vx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function yx(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=vx(e))&&(n&&(n+=" "),n+=t);return n}const Fh="-",aR=e=>{const t=lR(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const i=a.split(Fh);return i[0]===""&&i.length!==1&&i.shift(),xx(i,t)||iR(a)},getConflictingClassGroupIds:(a,i)=>{const c=r[a]||[];return i&&n[a]?[...c,...n[a]]:c}}},xx=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?xx(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(Fh);return(a=t.validators.find(({validator:i})=>i(s)))==null?void 0:a.classGroupId},ug=/^\[(.+)\]$/,iR=e=>{if(ug.test(e)){const t=ug.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},lR=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const o in r)af(r[o],n,o,t);return n},af=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:dg(t,o);s.classGroupId=r;return}if(typeof o=="function"){if(cR(o)){af(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([s,a])=>{af(a,dg(t,s),r,n)})})},dg=(e,t)=>{let r=e;return t.split(Fh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},cR=e=>e.isThemeGetter,uR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(s,a)=>{r.set(s,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return o(s,a),a},set(s,a){r.has(s)?r.set(s,a):o(s,a)}}},lf="!",cf=":",dR=cf.length,fR=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const s=[];let a=0,i=0,c=0,u;for(let b=0;b<o.length;b++){let x=o[b];if(a===0&&i===0){if(x===cf){s.push(o.slice(c,b)),c=b+dR;continue}if(x==="/"){u=b;continue}}x==="["?a++:x==="]"?a--:x==="("?i++:x===")"&&i--}const d=s.length===0?o:o.substring(c),f=hR(d),h=f!==d,g=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}};if(t){const o=t+cf,s=n;n=a=>a.startsWith(o)?s(a.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const o=n;n=s=>r({className:s,parseClassName:o})}return n},hR=e=>e.endsWith(lf)?e.substring(0,e.length-1):e.startsWith(lf)?e.substring(1):e,pR=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const o=[];let s=[];return n.forEach(a=>{a[0]==="["||t[a]?(o.push(...s.sort(),a),s=[]):s.push(a)}),o.push(...s.sort()),o}},mR=e=>({cache:uR(e.cacheSize),parseClassName:fR(e),sortModifiers:pR(e),...aR(e)}),gR=/\s+/,vR=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:s}=t,a=[],i=e.trim().split(gR);let c="";for(let u=i.length-1;u>=0;u-=1){const d=i[u],{isExternal:f,modifiers:h,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:x}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!x,y=n(w?b.substring(0,x):b);if(!y){if(!w){c=d+(c.length>0?" "+c:c);continue}if(y=n(b),!y){c=d+(c.length>0?" "+c:c);continue}w=!1}const m=s(h).join(":"),v=g?m+lf:m,_=v+y;if(a.includes(_))continue;a.push(_);const S=o(y,w);for(let T=0;T<S.length;++T){const N=S[T];a.push(v+N)}c=d+(c.length>0?" "+c:c)}return c};function yR(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=wx(t))&&(n&&(n+=" "),n+=r);return n}const wx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=wx(e[n]))&&(r&&(r+=" "),r+=t);return r};function xR(e,...t){let r,n,o,s=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return r=mR(u),n=r.cache.get,o=r.cache.set,s=i,i(c)}function i(c){const u=n(c);if(u)return u;const d=vR(c,r);return o(c,d),d}return function(){return s(yR.apply(null,arguments))}}const dt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},bx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_x=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wR=/^\d+\/\d+$/,bR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_R=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ER=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=e=>wR.test(e),Ne=e=>!!e&&!Number.isNaN(Number(e)),Tn=e=>!!e&&Number.isInteger(Number(e)),Hu=e=>e.endsWith("%")&&Ne(e.slice(0,-1)),rn=e=>bR.test(e),jR=()=>!0,kR=e=>_R.test(e)&&!SR.test(e),Sx=()=>!1,NR=e=>CR.test(e),RR=e=>ER.test(e),PR=e=>!ue(e)&&!de(e),TR=e=>Bs(e,jx,Sx),ue=e=>bx.test(e),uo=e=>Bs(e,kx,kR),Wu=e=>Bs(e,MR,Ne),fg=e=>Bs(e,Cx,Sx),AR=e=>Bs(e,Ex,RR),Xi=e=>Bs(e,Nx,NR),de=e=>_x.test(e),ia=e=>Vs(e,kx),OR=e=>Vs(e,LR),hg=e=>Vs(e,Cx),DR=e=>Vs(e,jx),IR=e=>Vs(e,Ex),Zi=e=>Vs(e,Nx,!0),Bs=(e,t,r)=>{const n=bx.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Vs=(e,t,r=!1)=>{const n=_x.exec(e);return n?n[1]?t(n[1]):r:!1},Cx=e=>e==="position"||e==="percentage",Ex=e=>e==="image"||e==="url",jx=e=>e==="length"||e==="size"||e==="bg-size",kx=e=>e==="length",MR=e=>e==="number",LR=e=>e==="family-name",Nx=e=>e==="shadow",$R=()=>{const e=dt("color"),t=dt("font"),r=dt("text"),n=dt("font-weight"),o=dt("tracking"),s=dt("leading"),a=dt("breakpoint"),i=dt("container"),c=dt("spacing"),u=dt("radius"),d=dt("shadow"),f=dt("inset-shadow"),h=dt("text-shadow"),g=dt("drop-shadow"),b=dt("blur"),x=dt("perspective"),w=dt("aspect"),y=dt("ease"),m=dt("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[..._(),de,ue],T=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],R=()=>[de,ue,c],F=()=>[Yo,"full","auto",...R()],D=()=>[Tn,"none","subgrid",de,ue],Q=()=>["auto",{span:["full",Tn,de,ue]},Tn,de,ue],K=()=>[Tn,"auto",de,ue],W=()=>["auto","min","max","fr",de,ue],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],I=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...R()],V=()=>[Yo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],C=()=>[e,de,ue],k=()=>[..._(),hg,fg,{position:[de,ue]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",DR,TR,{size:[de,ue]}],U=()=>[Hu,ia,uo],q=()=>["","none","full",u,de,ue],$=()=>["",Ne,ia,uo],E=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[Ne,Hu,hg,fg],te=()=>["","none",b,de,ue],le=()=>["none",Ne,de,ue],ae=()=>["none",Ne,de,ue],he=()=>[Ne,de,ue],fe=()=>[Yo,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rn],breakpoint:[rn],color:[jR],container:[rn],"drop-shadow":[rn],ease:["in","out","in-out"],font:[PR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rn],shadow:[rn],spacing:["px",Ne],text:[rn],"text-shadow":[rn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yo,ue,de,w]}],container:["container"],columns:[{columns:[Ne,ue,de,i]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Tn,"auto",de,ue]}],basis:[{basis:[Yo,"full","auto",i,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ne,Yo,"auto","initial","none",ue]}],grow:[{grow:["",Ne,de,ue]}],shrink:[{shrink:["",Ne,de,ue]}],order:[{order:[Tn,"first","last","none",de,ue]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...I(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...I(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[i,"screen",...V()]}],"min-w":[{"min-w":[i,"screen","none",...V()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[a]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",r,ia,uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,de,Wu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hu,ue]}],"font-family":[{font:[OR,ue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,de,ue]}],"line-clamp":[{"line-clamp":[Ne,"none",de,Wu]}],leading:[{leading:[s,...R()]}],"list-image":[{"list-image":["none",de,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ne,"from-font","auto",de,uo]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[Ne,"auto",de,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:k()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Tn,de,ue],radial:["",de,ue],conic:[Tn,de,ue]},IR,AR]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...E(),"hidden","none"]}],"divide-style":[{divide:[...E(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...E(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ne,de,ue]}],"outline-w":[{outline:["",Ne,ia,uo]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",d,Zi,Xi]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",f,Zi,Xi]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[Ne,uo]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",h,Zi,Xi]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[Ne,de,ue]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ne]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[de,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Ne]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:k()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,ue]}],filter:[{filter:["","none",de,ue]}],blur:[{blur:te()}],brightness:[{brightness:[Ne,de,ue]}],contrast:[{contrast:[Ne,de,ue]}],"drop-shadow":[{"drop-shadow":["","none",g,Zi,Xi]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",Ne,de,ue]}],"hue-rotate":[{"hue-rotate":[Ne,de,ue]}],invert:[{invert:["",Ne,de,ue]}],saturate:[{saturate:[Ne,de,ue]}],sepia:[{sepia:["",Ne,de,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",de,ue]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[Ne,de,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Ne,de,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ne,de,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ne,de,ue]}],"backdrop-invert":[{"backdrop-invert":["",Ne,de,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Ne,de,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Ne,de,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Ne,de,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ne,"initial",de,ue]}],ease:[{ease:["linear","initial",y,de,ue]}],delay:[{delay:[Ne,de,ue]}],animate:[{animate:["none",m,de,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,de,ue]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[de,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,ue]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[Ne,ia,uo,Wu]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},FR=xR($R);function Me(...e){return FR(yx(e))}const Rx=Jk,zR=Qk,Px=p.forwardRef(({className:e,...t},r)=>l.jsx(ix,{ref:r,className:Me("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Px.displayName=ix.displayName;const zh=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(zR,{children:[l.jsx(Px,{}),l.jsxs(lx,{ref:n,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(Xk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ui,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zh.displayName=lx.displayName;const Uh=({className:e,...t})=>l.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Uh.displayName="DialogHeader";const Tx=({className:e,...t})=>l.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tx.displayName="DialogFooter";const Bh=p.forwardRef(({className:e,...t},r)=>l.jsx(cx,{ref:r,className:Me("text-lg font-semibold leading-none tracking-tight",e),...t}));Bh.displayName=cx.displayName;const Vh=p.forwardRef(({className:e,...t},r)=>l.jsx(ux,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));Vh.displayName=ux.displayName;const pg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mg=yx,UR=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return mg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:s}=t,a=Object.keys(o).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=pg(d)||pg(f);return o[u][h]}),i=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(b=>{let[x,w]=b;return Array.isArray(w)?w.includes({...s,...i}[x]):{...s,...i}[x]===w})?[...u,f,h]:u},[]);return mg(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},BR=UR("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),it=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},s)=>{const a=n?Rj:"button";return l.jsx(a,{className:Me(BR({variant:t,size:r,className:e})),ref:s,...o})});it.displayName="Button";const Br=p.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Br.displayName="Input";var VR="Label",Ax=p.forwardRef((e,t)=>l.jsx(Oe.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Ax.displayName=VR;var Ox=Ax;const Xt=p.forwardRef(({className:e,...t},r)=>l.jsx(Ox,{ref:r,className:Me("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));Xt.displayName=Ox.displayName;function HR(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const WR=e=>{switch(e){case"success":return KR;case"info":return JR;case"warning":return YR;case"error":return QR;default:return null}},GR=Array(12).fill(0),qR=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},GR.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),KR=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YR=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),JR=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QR=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XR=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ZR=()=>{const[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let uf=1;class eP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:uf++,a=this.toasts.find(c=>c.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:n}),{...c,...t,id:s,dismissible:i,title:n}):c):this.addToast({title:n,...o,dismissible:i,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,a;const i=o.then(async u=>{if(a=["resolve",u],Y.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(rP(u)&&!u.ok){s=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,b=typeof f=="object"&&!Y.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...b})}else if(u instanceof Error){s=!1;const f=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,b=typeof f=="object"&&!Y.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...b})}else if(r.success!==void 0){s=!1;const f=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,b=typeof f=="object"&&!Y.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:h,...b})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){s=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,g=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...g})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>i.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||uf++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Bt=new eP,tP=(e,t)=>{const r=(t==null?void 0:t.id)||uf++;return Bt.addToast({title:e,...t,id:r}),r},rP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nP=tP,oP=()=>Bt.toasts,sP=()=>Bt.getActiveToasts(),ne=Object.assign(nP,{success:Bt.success,info:Bt.info,warning:Bt.warning,error:Bt.error,custom:Bt.custom,message:Bt.message,promise:Bt.promise,dismiss:Bt.dismiss,loading:Bt.loading},{getHistory:oP,getToasts:sP});HR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function el(e){return e.label!==void 0}const aP=3,iP="24px",lP="16px",gg=4e3,cP=356,uP=14,dP=45,fP=200;function Mr(...e){return e.filter(Boolean).join(" ")}function hP(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const pP=e=>{var t,r,n,o,s,a,i,c,u;const{invert:d,toast:f,unstyled:h,interacting:g,setHeights:b,visibleToasts:x,heights:w,index:y,toasts:m,expanded:v,removeToast:_,defaultRichColors:S,closeButton:T,style:N,cancelButtonStyle:R,actionButtonStyle:F,className:D="",descriptionClassName:Q="",duration:K,position:W,gap:z,expandByDefault:I,classNames:A,icons:V,closeButtonAriaLabel:C="Close toast"}=e,[k,P]=Y.useState(null),[O,U]=Y.useState(null),[q,$]=Y.useState(!1),[E,Z]=Y.useState(!1),[B,te]=Y.useState(!1),[le,ae]=Y.useState(!1),[he,fe]=Y.useState(!1),[Te,ke]=Y.useState(0),[L,H]=Y.useState(0),re=Y.useRef(f.duration||K||gg),xe=Y.useRef(null),ce=Y.useRef(null),we=y===0,Se=y+1<=x,_e=f.type,oe=f.dismissible!==!1,ge=f.className||"",je=f.descriptionClassName||"",se=Y.useMemo(()=>w.findIndex(be=>be.toastId===f.id)||0,[w,f.id]),pe=Y.useMemo(()=>{var be;return(be=f.closeButton)!=null?be:T},[f.closeButton,T]),Fe=Y.useMemo(()=>f.duration||K||gg,[f.duration,K]),yt=Y.useRef(0),Qe=Y.useRef(0),Ot=Y.useRef(0),xt=Y.useRef(null),[Qr,nt]=W.split("-"),Xr=Y.useMemo(()=>w.reduce((be,We,Ge)=>Ge>=se?be:be+We.height,0),[w,se]),En=ZR(),qs=f.invert||d,Zr=_e==="loading";Qe.current=Y.useMemo(()=>se*z+Xr,[se,Xr]),Y.useEffect(()=>{re.current=Fe},[Fe]),Y.useEffect(()=>{$(!0)},[]),Y.useEffect(()=>{const be=ce.current;if(be){const We=be.getBoundingClientRect().height;return H(We),b(Ge=>[{toastId:f.id,height:We,position:f.position},...Ge]),()=>b(Ge=>Ge.filter(jt=>jt.toastId!==f.id))}},[b,f.id]),Y.useLayoutEffect(()=>{if(!q)return;const be=ce.current,We=be.style.height;be.style.height="auto";const Ge=be.getBoundingClientRect().height;be.style.height=We,H(Ge),b(jt=>jt.find(at=>at.toastId===f.id)?jt.map(at=>at.toastId===f.id?{...at,height:Ge}:at):[{toastId:f.id,height:Ge,position:f.position},...jt])},[q,f.title,f.description,b,f.id]);const zt=Y.useCallback(()=>{Z(!0),ke(Qe.current),b(be=>be.filter(We=>We.toastId!==f.id)),setTimeout(()=>{_(f)},fP)},[f,_,b,Qe]);Y.useEffect(()=>{if(f.promise&&_e==="loading"||f.duration===1/0||f.type==="loading")return;let be;return v||g||En?(()=>{if(Ot.current<yt.current){const jt=new Date().getTime()-yt.current;re.current=re.current-jt}Ot.current=new Date().getTime()})():(()=>{re.current!==1/0&&(yt.current=new Date().getTime(),be=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),zt()},re.current))})(),()=>clearTimeout(be)},[v,g,f,_e,En,zt]),Y.useEffect(()=>{f.delete&&zt()},[zt,f.delete]);function Yc(){var be;if(V!=null&&V.loading){var We;return Y.createElement("div",{className:Mr(A==null?void 0:A.loader,f==null||(We=f.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":_e==="loading"},V.loading)}return Y.createElement(qR,{className:Mr(A==null?void 0:A.loader,f==null||(be=f.classNames)==null?void 0:be.loader),visible:_e==="loading"})}const Jc=f.icon||(V==null?void 0:V[_e])||WR(_e);var Ks,Ys;return Y.createElement("li",{tabIndex:0,ref:ce,className:Mr(D,ge,A==null?void 0:A.toast,f==null||(t=f.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[_e],f==null||(r=f.classNames)==null?void 0:r[_e]),"data-sonner-toast":"","data-rich-colors":(Ks=f.richColors)!=null?Ks:S,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":q,"data-promise":!!f.promise,"data-swiped":he,"data-removed":E,"data-visible":Se,"data-y-position":Qr,"data-x-position":nt,"data-index":y,"data-front":we,"data-swiping":B,"data-dismissible":oe,"data-type":_e,"data-invert":qs,"data-swipe-out":le,"data-swipe-direction":O,"data-expanded":!!(v||I&&q),style:{"--index":y,"--toasts-before":y,"--z-index":m.length-y,"--offset":`${E?Te:Qe.current}px`,"--initial-height":I?"auto":`${L}px`,...N,...f.style},onDragEnd:()=>{te(!1),P(null),xt.current=null},onPointerDown:be=>{Zr||!oe||(xe.current=new Date,ke(Qe.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(te(!0),xt.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,We,Ge;if(le||!oe)return;xt.current=null;const jt=Number(((be=ce.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),en=Number(((We=ce.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),at=new Date().getTime()-((Ge=xe.current)==null?void 0:Ge.getTime()),Dt=k==="x"?jt:en,$o=Math.abs(Dt)/at;if(Math.abs(Dt)>=dP||$o>.11){ke(Qe.current),f.onDismiss==null||f.onDismiss.call(f,f),U(k==="x"?jt>0?"right":"left":en>0?"down":"up"),zt(),ae(!0);return}else{var kt,ct;(kt=ce.current)==null||kt.style.setProperty("--swipe-amount-x","0px"),(ct=ce.current)==null||ct.style.setProperty("--swipe-amount-y","0px")}fe(!1),te(!1),P(null)},onPointerMove:be=>{var We,Ge,jt;if(!xt.current||!oe||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;const at=be.clientY-xt.current.y,Dt=be.clientX-xt.current.x;var $o;const kt=($o=e.swipeDirections)!=null?$o:hP(W);!k&&(Math.abs(Dt)>1||Math.abs(at)>1)&&P(Math.abs(Dt)>Math.abs(at)?"x":"y");let ct={x:0,y:0};const Fo=Dr=>1/(1.5+Math.abs(Dr)/20);if(k==="y"){if(kt.includes("top")||kt.includes("bottom"))if(kt.includes("top")&&at<0||kt.includes("bottom")&&at>0)ct.y=at;else{const Dr=at*Fo(at);ct.y=Math.abs(Dr)<Math.abs(at)?Dr:at}}else if(k==="x"&&(kt.includes("left")||kt.includes("right")))if(kt.includes("left")&&Dt<0||kt.includes("right")&&Dt>0)ct.x=Dt;else{const Dr=Dt*Fo(Dt);ct.x=Math.abs(Dr)<Math.abs(Dt)?Dr:Dt}(Math.abs(ct.x)>0||Math.abs(ct.y)>0)&&fe(!0),(Ge=ce.current)==null||Ge.style.setProperty("--swipe-amount-x",`${ct.x}px`),(jt=ce.current)==null||jt.style.setProperty("--swipe-amount-y",`${ct.y}px`)}},pe&&!f.jsx&&_e!=="loading"?Y.createElement("button",{"aria-label":C,"data-disabled":Zr,"data-close-button":!0,onClick:Zr||!oe?()=>{}:()=>{zt(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Mr(A==null?void 0:A.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(Ys=V==null?void 0:V.close)!=null?Ys:XR):null,(_e||f.icon||f.promise)&&f.icon!==null&&((V==null?void 0:V[_e])!==null||f.icon)?Y.createElement("div",{"data-icon":"",className:Mr(A==null?void 0:A.icon,f==null||(o=f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Yc():null,f.type!=="loading"?Jc:null):null,Y.createElement("div",{"data-content":"",className:Mr(A==null?void 0:A.content,f==null||(s=f.classNames)==null?void 0:s.content)},Y.createElement("div",{"data-title":"",className:Mr(A==null?void 0:A.title,f==null||(a=f.classNames)==null?void 0:a.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?Y.createElement("div",{"data-description":"",className:Mr(Q,je,A==null?void 0:A.description,f==null||(i=f.classNames)==null?void 0:i.description)},typeof f.description=="function"?f.description():f.description):null),Y.isValidElement(f.cancel)?f.cancel:f.cancel&&el(f.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:be=>{el(f.cancel)&&oe&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,be),zt())},className:Mr(A==null?void 0:A.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,Y.isValidElement(f.action)?f.action:f.action&&el(f.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||F,onClick:be=>{el(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,be),!be.defaultPrevented&&zt())},className:Mr(A==null?void 0:A.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function vg(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function mP(e,t){const r={};return[e,t].forEach((n,o)=>{const s=o===1,a=s?"--mobile-offset":"--offset",i=s?lP:iP;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=i:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(i)}),r}const gP=Y.forwardRef(function(t,r){const{invert:n,position:o="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:c,offset:u,mobileOffset:d,theme:f="light",richColors:h,duration:g,style:b,visibleToasts:x=aP,toastOptions:w,dir:y=vg(),gap:m=uP,icons:v,containerAriaLabel:_="Notifications"}=t,[S,T]=Y.useState([]),N=Y.useMemo(()=>Array.from(new Set([o].concat(S.filter(O=>O.position).map(O=>O.position)))),[S,o]),[R,F]=Y.useState([]),[D,Q]=Y.useState(!1),[K,W]=Y.useState(!1),[z,I]=Y.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=Y.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=Y.useRef(null),k=Y.useRef(!1),P=Y.useCallback(O=>{T(U=>{var q;return(q=U.find($=>$.id===O.id))!=null&&q.delete||Bt.dismiss(O.id),U.filter(({id:$})=>$!==O.id)})},[]);return Y.useEffect(()=>Bt.subscribe(O=>{if(O.dismiss){requestAnimationFrame(()=>{T(U=>U.map(q=>q.id===O.id?{...q,delete:!0}:q))});return}setTimeout(()=>{Gy.flushSync(()=>{T(U=>{const q=U.findIndex($=>$.id===O.id);return q!==-1?[...U.slice(0,q),{...U[q],...O},...U.slice(q+1)]:[O,...U]})})})}),[S]),Y.useEffect(()=>{if(f!=="system"){I(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;const O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:U})=>{I(U?"dark":"light")})}catch{O.addListener(({matches:q})=>{try{I(q?"dark":"light")}catch($){console.error($)}})}},[f]),Y.useEffect(()=>{S.length<=1&&Q(!1)},[S]),Y.useEffect(()=>{const O=U=>{var q;if(s.every(Z=>U[Z]||U.code===Z)){var E;Q(!0),(E=A.current)==null||E.focus()}U.code==="Escape"&&(document.activeElement===A.current||(q=A.current)!=null&&q.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[s]),Y.useEffect(()=>{if(A.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,k.current=!1)}},[A.current]),Y.createElement("section",{ref:r,"aria-label":`${_} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((O,U)=>{var q;const[$,E]=O.split("-");return S.length?Y.createElement("ol",{key:O,dir:y==="auto"?vg():y,tabIndex:-1,ref:A,className:c,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":$,"data-lifted":D&&S.length>1&&!a,"data-x-position":E,style:{"--front-toast-height":`${((q=R[0])==null?void 0:q.height)||0}px`,"--width":`${cP}px`,"--gap":`${m}px`,...b,...mP(u,d)},onBlur:Z=>{k.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(k.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||k.current||(k.current=!0,C.current=Z.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{K||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},S.filter(Z=>!Z.position&&U===0||Z.position===O).map((Z,B)=>{var te,le;return Y.createElement(pP,{key:Z.id,icons:v,index:B,toast:Z,defaultRichColors:h,duration:(te=w==null?void 0:w.duration)!=null?te:g,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:x,closeButton:(le=w==null?void 0:w.closeButton)!=null?le:i,interacting:K,position:O,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:P,toasts:S.filter(ae=>ae.position==Z.position),heights:R.filter(ae=>ae.position==Z.position),setHeights:F,expandByDefault:a,gap:m,expanded:D,swipeDirections:t.swipeDirections})})):null}))});function vP({isOpen:e,onClose:t}){const[r,n]=p.useState(""),[o,s]=p.useState(""),[a,i]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(!1),[h,g]=p.useState(!1),b=S=>S.length<6?"La contraseña debe tener al menos 6 caracteres":null,[x,w]=p.useState(!1),[y,m]=p.useState(null),v=()=>{w(!1),t(),n(""),u(""),s(""),i(""),m(null)},_=async S=>{S.preventDefault(),m(null);const T=b(c);if(T){m(T);return}if(!r.includes("@")||!r.includes(".")){m("Por favor ingresa un correo electrónico válido");return}if(a&&!/^[0-9+\s()-]{7,15}$/.test(a)){m("Por favor ingresa un número de teléfono válido");return}g(!0);try{await fs.register(r,c,o,a),n(""),u(""),s(""),i(""),w(!0),ne.success("Cuenta creada exitosamente. A la espera de activación por el administrador.")}catch(N){const R=N.message||"Error al crear la cuenta";R.includes("ya está registrado")?(m("El correo electrónico ya está registrado"),ne.error("El correo electrónico ya está registrado")):R.includes("permission denied")?(n(""),u(""),w(!0),ne.success("Cuenta creada exitosamente. A la espera de activación por el administrador.")):R.includes("Invalid email")?(m("El correo electrónico no es válido"),ne.error("El correo electrónico no es válido")):(m("Error al crear la cuenta. Inténtalo de nuevo."),ne.error("Error al crear la cuenta. Inténtalo de nuevo."))}finally{g(!1)}};return l.jsx(Rx,{open:e,onOpenChange:x?()=>{}:t,children:l.jsxs(zh,{className:"sm:max-w-[425px] bg-card border-border",children:[l.jsxs(Uh,{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:"/xstream_logo.png",alt:"XtreamSales Logo",className:"h-12 w-auto"})}),l.jsx(Bh,{className:"text-2xl font-bold",children:"Registrarse"}),l.jsx(Vh,{className:"text-muted-foreground",children:"Crea una cuenta para acceder al sistema. Los revendedores necesitarán aprobación del administrador."})]}),x?l.jsxs("div",{className:"py-8 flex flex-col items-center justify-center space-y-4 text-center",children:[l.jsx(hN,{className:"h-16 w-16 text-green-500"}),l.jsx("h3",{className:"text-xl font-semibold",children:"¡Cuenta creada exitosamente!"}),l.jsx("p",{className:"text-muted-foreground",children:"Tu cuenta está pendiente de aprobación por el administrador."}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Deberás esperar a que un administrador active tu cuenta."}),l.jsx(it,{onClick:v,className:"mt-2 bg-green-600 hover:bg-green-700",children:"Aceptar"})]}):l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Xt,{htmlFor:"fullName",className:"text-right font-medium",children:"Nombre de Usuario"}),l.jsx(Br,{id:"fullName",type:"text",value:o,onChange:S=>s(S.target.value),placeholder:"Tu nombre de usuario",required:!0,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Xt,{htmlFor:"email",className:"text-right font-medium",children:"Correo Electrónico"}),l.jsx(Br,{id:"email",type:"email",value:r,onChange:S=>n(S.target.value),placeholder:"correo@ejemplo.com",required:!0,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Xt,{htmlFor:"phone",className:"text-right font-medium",children:"Teléfono WhatsApp"}),l.jsx("div",{className:"col-span-3 relative",children:l.jsxs("div",{className:"flex",children:[l.jsxs("select",{className:"flex h-10 w-20 rounded-l-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 border-r-0",defaultValue:"+57",children:[l.jsx("option",{value:"+1",children:"🇺🇸 +1"}),l.jsx("option",{value:"+52",children:"🇲🇽 +52"}),l.jsx("option",{value:"+57",children:"🇨🇴 +57"}),l.jsx("option",{value:"+54",children:"🇦🇷 +54"}),l.jsx("option",{value:"+56",children:"🇨🇱 +56"}),l.jsx("option",{value:"+51",children:"🇵🇪 +51"}),l.jsx("option",{value:"+58",children:"🇻🇪 +58"}),l.jsx("option",{value:"+55",children:"🇧🇷 +55"}),l.jsx("option",{value:"+593",children:"🇪🇨 +593"}),l.jsx("option",{value:"+507",children:"🇵🇦 +507"}),l.jsx("option",{value:"+506",children:"🇨🇷 +506"}),l.jsx("option",{value:"+503",children:"🇸🇻 +503"}),l.jsx("option",{value:"+502",children:"🇬🇹 +502"}),l.jsx("option",{value:"+504",children:"🇭🇳 +504"}),l.jsx("option",{value:"+505",children:"🇳🇮 +505"}),l.jsx("option",{value:"+34",children:"🇪🇸 +34"})]}),l.jsx(Br,{id:"phone",type:"tel",value:a,onChange:S=>{const T=S.target.value.replace(/\D/g,"");i(T)},placeholder:"300 123 4567",className:"rounded-l-none border-l-0 flex-1",maxLength:10})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Xt,{htmlFor:"password",className:"text-right font-medium",children:"Contraseña"}),l.jsxs("div",{className:"col-span-3 relative",children:[l.jsx(Br,{id:"password",type:d?"text":"password",value:c,onChange:S=>u(S.target.value),placeholder:"********",required:!0,className:"pr-10"}),l.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",children:d?l.jsx(_N,{className:"h-4 w-4"}):l.jsx(CN,{className:"h-4 w-4"})})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(it,{variant:"outline",type:"button",onClick:t,disabled:h,children:"Cancelar"}),l.jsx(it,{type:"submit",disabled:h,children:h?"Registrando...":"Registrarse"})]}),y&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 flex items-start space-x-2",children:[l.jsx(Ih,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-500",children:y})]})]})]})})}function yP(){const e=wc(),{user:t,login:r}=Yr(),[n,o]=p.useState(!1),[s,a]=p.useState(null),[i,c]=p.useState(!1),[u,d]=p.useState(""),[f,h]=p.useState(""),[g,b]=p.useState(!1),x=async w=>{w.preventDefault(),a(null),o(!0);try{(await r(u,f)).user.role==="admin"?e("/dashboard"):e("/resellers")}catch(y){y.message.includes("pendiente de aprobación")?a("Tu cuenta está pendiente de aprobación por el administrador. Por favor, espera a que tu cuenta sea activada o contacta al administrador."):y.message.includes("desactivada")?a("Tu cuenta ha sido desactivada. Por favor, contacta al administrador para más información."):y.message.includes("Credenciales incorrectas")?a("El correo electrónico o la contraseña son incorrectos. Por favor, verifica tus datos."):a(y.message)}finally{o(!1)}};return p.useEffect(()=>{(t==null?void 0:t.role)==="admin"?e("/dashboard"):(t==null?void 0:t.role)==="reseller"&&e("/resellers")},[t,e]),l.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[l.jsx("div",{className:"hidden md:flex md:w-1/2 bg-gradient-to-br from-cyan-500 to-blue-600 p-12 items-center justify-center",children:l.jsxs("div",{className:"max-w-xl text-white",children:[l.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Bienvenido a XtreamSales"}),l.jsx("p",{className:"text-lg opacity-90 mb-8",children:"Gestiona tus clientes y comunicaciones de manera profesional con nuestra plataforma integral."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsx("span",{children:"Gestión de Clientes"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),l.jsx("span",{children:"Mensajes por WhatsApp"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})})}),l.jsx("span",{children:"Dashboard con funcionalidades"})]})]})]})}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:l.jsxs("div",{className:"w-full max-w-md space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:"/xstream_logo.png",alt:"XStream",className:"h-12 mx-auto mb-6"}),l.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Accede a tu cuenta"}),l.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Ingresa tus credenciales para continuar"})]}),s&&l.jsx("div",{className:"p-4 mb-6 rounded-lg bg-red-500/10 border border-red-500/20 text-red-500 text-sm",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsx("span",{children:s})]})}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Correo electrónico"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"email",name:"email",type:"email",value:u,onChange:w=>d(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"nombre@ejemplo.com"}),l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-muted-foreground",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"Contraseña"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"password",name:"password",type:g?"text":"password",value:f,onChange:w=>h(w.target.value),required:!0,className:"w-full pl-10 pr-12 py-2 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"••••••••"}),l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-muted-foreground",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("button",{type:"button",onClick:()=>b(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-muted-foreground hover:text-foreground transition-colors",children:g?l.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),s&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 flex items-start space-x-2 mt-3 mb-4",children:[l.jsx(Ih,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-500",children:s})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-lg hover:from-cyan-600 hover:to-blue-700 transition-all disabled:opacity-50 font-medium shadow-lg shadow-blue-500/25",children:n?l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:"Iniciando sesión..."})]}):"Iniciar Sesión"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-border/10"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"O"})})]}),l.jsx("button",{type:"button",onClick:()=>c(!0),className:"w-full bg-card text-card-foreground py-3 rounded-lg border border-border hover:bg-accent hover:text-accent-foreground transition-colors font-medium",children:"Crear cuenta nueva"})]})]}),l.jsx(vP,{isOpen:i,onClose:()=>c(!1)})]})]})})]})}var xP=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(n,o,s){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var a in n)r.d(s,a,(function(i){return n[i]}).bind(null,a));return s},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=9)}([function(e,t){e.exports=p},function(e,t,r){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var o={}.hasOwnProperty;function s(){for(var a=[],i=0;i<arguments.length;i++){var c=arguments[i];if(c){var u=typeof c;if(u==="string"||u==="number")a.push(c);else if(Array.isArray(c)&&c.length){var d=s.apply(null,c);d&&a.push(d)}else if(u==="object")for(var f in c)o.call(c,f)&&c[f]&&a.push(f)}}return a.join(" ")}e.exports?(s.default=s,e.exports=s):(n=(function(){return s}).apply(t,[]))===void 0||(e.exports=n)})()},function(e,t,r){(function(n){var o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,u=typeof n=="object"&&n&&n.Object===Object&&n,d=typeof self=="object"&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),h=Object.prototype.toString,g=f.Symbol,b=g?g.prototype:void 0,x=b?b.toString:void 0;function w(_){if(typeof _=="string")return _;if(m(_))return x?x.call(_):"";var S=_+"";return S=="0"&&1/_==-1/0?"-0":S}function y(_){var S=typeof _;return!!_&&(S=="object"||S=="function")}function m(_){return typeof _=="symbol"||function(S){return!!S&&typeof S=="object"}(_)&&h.call(_)=="[object Symbol]"}function v(_){return _?(_=function(S){if(typeof S=="number")return S;if(m(S))return NaN;if(y(S)){var T=typeof S.valueOf=="function"?S.valueOf():S;S=y(T)?T+"":T}if(typeof S!="string")return S===0?S:+S;S=S.replace(o,"");var N=a.test(S);return N||i.test(S)?c(S.slice(2),N?2:8):s.test(S)?NaN:+S}(_))===1/0||_===-1/0?17976931348623157e292*(_<0?-1:1):_==_?_:0:_===0?_:0}e.exports=function(_,S,T){var N,R,F,D;return _=(N=_)==null?"":w(N),R=function(Q){var K=v(Q),W=K%1;return K==K?W?K-W:K:0}(T),F=0,D=_.length,R==R&&(D!==void 0&&(R=R<=D?R:D),F!==void 0&&(R=R>=F?R:F)),T=R,S=w(S),_.slice(T,T+S.length)==S}}).call(this,r(3))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}e.exports=r},function(e,t,r){(function(n){var o=/^\[object .+?Constructor\]$/,s=typeof n=="object"&&n&&n.Object===Object&&n,a=typeof self=="object"&&self&&self.Object===Object&&self,i=s||a||Function("return this")(),c,u=Array.prototype,d=Function.prototype,f=Object.prototype,h=i["__core-js_shared__"],g=(c=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",b=d.toString,x=f.hasOwnProperty,w=f.toString,y=RegExp("^"+b.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=u.splice,v=Q(i,"Map"),_=Q(Object,"create");function S(z){var I=-1,A=z?z.length:0;for(this.clear();++I<A;){var V=z[I];this.set(V[0],V[1])}}function T(z){var I=-1,A=z?z.length:0;for(this.clear();++I<A;){var V=z[I];this.set(V[0],V[1])}}function N(z){var I=-1,A=z?z.length:0;for(this.clear();++I<A;){var V=z[I];this.set(V[0],V[1])}}function R(z,I){for(var A,V,C=z.length;C--;)if((A=z[C][0])===(V=I)||A!=A&&V!=V)return C;return-1}function F(z){return!(!W(z)||(I=z,g&&g in I))&&(function(A){var V=W(A)?w.call(A):"";return V=="[object Function]"||V=="[object GeneratorFunction]"}(z)||function(A){var V=!1;if(A!=null&&typeof A.toString!="function")try{V=!!(A+"")}catch{}return V}(z)?y:o).test(function(A){if(A!=null){try{return b.call(A)}catch{}try{return A+""}catch{}}return""}(z));var I}function D(z,I){var A,V,C=z.__data__;return((V=typeof(A=I))=="string"||V=="number"||V=="symbol"||V=="boolean"?A!=="__proto__":A===null)?C[typeof I=="string"?"string":"hash"]:C.map}function Q(z,I){var A=function(V,C){return V==null?void 0:V[C]}(z,I);return F(A)?A:void 0}function K(z,I){if(typeof z!="function"||I&&typeof I!="function")throw new TypeError("Expected a function");var A=function(){var V=arguments,C=I?I.apply(this,V):V[0],k=A.cache;if(k.has(C))return k.get(C);var P=z.apply(this,V);return A.cache=k.set(C,P),P};return A.cache=new(K.Cache||N),A}function W(z){var I=typeof z;return!!z&&(I=="object"||I=="function")}S.prototype.clear=function(){this.__data__=_?_(null):{}},S.prototype.delete=function(z){return this.has(z)&&delete this.__data__[z]},S.prototype.get=function(z){var I=this.__data__;if(_){var A=I[z];return A==="__lodash_hash_undefined__"?void 0:A}return x.call(I,z)?I[z]:void 0},S.prototype.has=function(z){var I=this.__data__;return _?I[z]!==void 0:x.call(I,z)},S.prototype.set=function(z,I){return this.__data__[z]=_&&I===void 0?"__lodash_hash_undefined__":I,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(z){var I=this.__data__,A=R(I,z);return!(A<0)&&(A==I.length-1?I.pop():m.call(I,A,1),!0)},T.prototype.get=function(z){var I=this.__data__,A=R(I,z);return A<0?void 0:I[A][1]},T.prototype.has=function(z){return R(this.__data__,z)>-1},T.prototype.set=function(z,I){var A=this.__data__,V=R(A,z);return V<0?A.push([z,I]):A[V][1]=I,this},N.prototype.clear=function(){this.__data__={hash:new S,map:new(v||T),string:new S}},N.prototype.delete=function(z){return D(this,z).delete(z)},N.prototype.get=function(z){return D(this,z).get(z)},N.prototype.has=function(z){return D(this,z).has(z)},N.prototype.set=function(z,I){return D(this,z).set(z,I),this},K.Cache=N,e.exports=K}).call(this,r(3))},function(e,t,r){(function(n){var o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,u=typeof n=="object"&&n&&n.Object===Object&&n,d=typeof self=="object"&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),h=Object.prototype.toString,g=Math.max,b=Math.min,x=function(){return f.Date.now()};function w(m){var v=typeof m;return!!m&&(v=="object"||v=="function")}function y(m){if(typeof m=="number")return m;if(function(S){return typeof S=="symbol"||function(T){return!!T&&typeof T=="object"}(S)&&h.call(S)=="[object Symbol]"}(m))return NaN;if(w(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=w(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=m.replace(o,"");var _=a.test(m);return _||i.test(m)?c(m.slice(2),_?2:8):s.test(m)?NaN:+m}e.exports=function(m,v,_){var S,T,N,R,F,D,Q=0,K=!1,W=!1,z=!0;if(typeof m!="function")throw new TypeError("Expected a function");function I(O){var U=S,q=T;return S=T=void 0,Q=O,R=m.apply(q,U)}function A(O){return Q=O,F=setTimeout(C,v),K?I(O):R}function V(O){var U=O-D;return D===void 0||U>=v||U<0||W&&O-Q>=N}function C(){var O=x();if(V(O))return k(O);F=setTimeout(C,function(U){var q=v-(U-D);return W?b(q,N-(U-Q)):q}(O))}function k(O){return F=void 0,z&&S?I(O):(S=T=void 0,R)}function P(){var O=x(),U=V(O);if(S=arguments,T=this,D=O,U){if(F===void 0)return A(D);if(W)return F=setTimeout(C,v),I(D)}return F===void 0&&(F=setTimeout(C,v)),R}return v=y(v)||0,w(_)&&(K=!!_.leading,N=(W="maxWait"in _)?g(y(_.maxWait)||0,v):N,z="trailing"in _?!!_.trailing:z),P.cancel=function(){F!==void 0&&clearTimeout(F),Q=0,S=D=T=F=void 0},P.flush=function(){return F===void 0?R:k(x())},P}}).call(this,r(3))},function(e,t,r){(function(n,o){var s="[object Arguments]",a="[object Map]",i="[object Object]",c="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,b=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[s]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w[a]=w["[object Number]"]=w[i]=w["[object RegExp]"]=w[c]=w["[object String]"]=w["[object WeakMap]"]=!1;var y=typeof n=="object"&&n&&n.Object===Object&&n,m=typeof self=="object"&&self&&self.Object===Object&&self,v=y||m||Function("return this")(),_=t&&!t.nodeType&&t,S=_&&typeof o=="object"&&o&&!o.nodeType&&o,T=S&&S.exports===_&&y.process,N=function(){try{return T&&T.binding("util")}catch{}}(),R=N&&N.isTypedArray;function F(j,M,G,X){var ve=-1,ye=j?j.length:0;for(X&&ye&&(G=j[++ve]);++ve<ye;)G=M(G,j[ve],ve,j);return G}function D(j,M){for(var G=-1,X=j?j.length:0;++G<X;)if(M(j[G],G,j))return!0;return!1}function Q(j,M,G,X,ve){return ve(j,function(ye,Ce,qe){G=X?(X=!1,ye):M(G,ye,Ce,qe)}),G}function K(j){var M=!1;if(j!=null&&typeof j.toString!="function")try{M=!!(j+"")}catch{}return M}function W(j){var M=-1,G=Array(j.size);return j.forEach(function(X,ve){G[++M]=[ve,X]}),G}function z(j){var M=-1,G=Array(j.size);return j.forEach(function(X){G[++M]=X}),G}var I,A,V,C=Array.prototype,k=Function.prototype,P=Object.prototype,O=v["__core-js_shared__"],U=(I=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",q=k.toString,$=P.hasOwnProperty,E=P.toString,Z=RegExp("^"+q.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=v.Symbol,te=v.Uint8Array,le=P.propertyIsEnumerable,ae=C.splice,he=(A=Object.keys,V=Object,function(j){return A(V(j))}),fe=We(v,"DataView"),Te=We(v,"Map"),ke=We(v,"Promise"),L=We(v,"Set"),H=We(v,"WeakMap"),re=We(Object,"create"),xe=ct(fe),ce=ct(Te),we=ct(ke),Se=ct(L),_e=ct(H),oe=B?B.prototype:void 0,ge=oe?oe.valueOf:void 0,je=oe?oe.toString:void 0;function se(j){var M=-1,G=j?j.length:0;for(this.clear();++M<G;){var X=j[M];this.set(X[0],X[1])}}function pe(j){var M=-1,G=j?j.length:0;for(this.clear();++M<G;){var X=j[M];this.set(X[0],X[1])}}function Fe(j){var M=-1,G=j?j.length:0;for(this.clear();++M<G;){var X=j[M];this.set(X[0],X[1])}}function yt(j){var M=-1,G=j?j.length:0;for(this.__data__=new Fe;++M<G;)this.add(j[M])}function Qe(j){this.__data__=new pe(j)}function Ot(j,M){var G=jn(j)||Qc(j)?function(Ce,qe){for(var Ke=-1,ze=Array(Ce);++Ke<Ce;)ze[Ke]=qe(Ke);return ze}(j.length,String):[],X=G.length,ve=!!X;for(var ye in j)!$.call(j,ye)||ve&&(ye=="length"||jt(ye,X))||G.push(ye);return G}function xt(j,M){for(var G=j.length;G--;)if(Dr(j[G][0],M))return G;return-1}se.prototype.clear=function(){this.__data__=re?re(null):{}},se.prototype.delete=function(j){return this.has(j)&&delete this.__data__[j]},se.prototype.get=function(j){var M=this.__data__;if(re){var G=M[j];return G==="__lodash_hash_undefined__"?void 0:G}return $.call(M,j)?M[j]:void 0},se.prototype.has=function(j){var M=this.__data__;return re?M[j]!==void 0:$.call(M,j)},se.prototype.set=function(j,M){return this.__data__[j]=re&&M===void 0?"__lodash_hash_undefined__":M,this},pe.prototype.clear=function(){this.__data__=[]},pe.prototype.delete=function(j){var M=this.__data__,G=xt(M,j);return!(G<0)&&(G==M.length-1?M.pop():ae.call(M,G,1),!0)},pe.prototype.get=function(j){var M=this.__data__,G=xt(M,j);return G<0?void 0:M[G][1]},pe.prototype.has=function(j){return xt(this.__data__,j)>-1},pe.prototype.set=function(j,M){var G=this.__data__,X=xt(G,j);return X<0?G.push([j,M]):G[X][1]=M,this},Fe.prototype.clear=function(){this.__data__={hash:new se,map:new(Te||pe),string:new se}},Fe.prototype.delete=function(j){return be(this,j).delete(j)},Fe.prototype.get=function(j){return be(this,j).get(j)},Fe.prototype.has=function(j){return be(this,j).has(j)},Fe.prototype.set=function(j,M){return be(this,j).set(j,M),this},yt.prototype.add=yt.prototype.push=function(j){return this.__data__.set(j,"__lodash_hash_undefined__"),this},yt.prototype.has=function(j){return this.__data__.has(j)},Qe.prototype.clear=function(){this.__data__=new pe},Qe.prototype.delete=function(j){return this.__data__.delete(j)},Qe.prototype.get=function(j){return this.__data__.get(j)},Qe.prototype.has=function(j){return this.__data__.has(j)},Qe.prototype.set=function(j,M){var G=this.__data__;if(G instanceof pe){var X=G.__data__;if(!Te||X.length<199)return X.push([j,M]),this;G=this.__data__=new Fe(X)}return G.set(j,M),this};var Qr,nt=(Qr=function(j,M){return j&&Xr(j,M,vi)},function(j,M){if(j==null)return j;if(!Xc(j))return Qr(j,M);for(var G=j.length,X=-1,ve=Object(j);++X<G&&M(ve[X],X,ve)!==!1;);return j}),Xr=function(j){return function(M,G,X){for(var ve=-1,ye=Object(M),Ce=X(M),qe=Ce.length;qe--;){var Ke=Ce[++ve];if(G(ye[Ke],Ke,ye)===!1)break}return M}}();function En(j,M){for(var G=0,X=(M=en(M,j)?[M]:Ks(M)).length;j!=null&&G<X;)j=j[kt(M[G++])];return G&&G==X?j:void 0}function qs(j,M){return j!=null&&M in Object(j)}function Zr(j,M,G,X,ve){return j===M||(j==null||M==null||!mi(j)&&!gi(M)?j!=j&&M!=M:function(ye,Ce,qe,Ke,ze,Ie){var ir=jn(ye),wt=jn(Ce),ut="[object Array]",pt="[object Array]";ir||(ut=(ut=Ge(ye))==s?i:ut),wt||(pt=(pt=Ge(Ce))==s?i:pt);var gr=ut==i&&!K(ye),zo=pt==i&&!K(Ce),kn=ut==pt;if(kn&&!gr)return Ie||(Ie=new Qe),ir||qb(ye)?Ys(ye,Ce,qe,Ke,ze,Ie):function(Ue,Le,tu,lo,yi,Yt,tn){switch(tu){case"[object DataView]":if(Ue.byteLength!=Le.byteLength||Ue.byteOffset!=Le.byteOffset)return!1;Ue=Ue.buffer,Le=Le.buffer;case"[object ArrayBuffer]":return!(Ue.byteLength!=Le.byteLength||!lo(new te(Ue),new te(Le)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Dr(+Ue,+Le);case"[object Error]":return Ue.name==Le.name&&Ue.message==Le.message;case"[object RegExp]":case"[object String]":return Ue==Le+"";case a:var Nn=W;case c:var Js=2&Yt;if(Nn||(Nn=z),Ue.size!=Le.size&&!Js)return!1;var xi=tn.get(Ue);if(xi)return xi==Le;Yt|=1,tn.set(Ue,Le);var Uo=Ys(Nn(Ue),Nn(Le),lo,yi,Yt,tn);return tn.delete(Ue),Uo;case"[object Symbol]":if(ge)return ge.call(Ue)==ge.call(Le)}return!1}(ye,Ce,ut,qe,Ke,ze,Ie);if(!(2&ze)){var hp=gr&&$.call(ye,"__wrapped__"),pp=zo&&$.call(Ce,"__wrapped__");if(hp||pp){var Yb=hp?ye.value():ye,Jb=pp?Ce.value():Ce;return Ie||(Ie=new Qe),qe(Yb,Jb,Ke,ze,Ie)}}return kn?(Ie||(Ie=new Qe),function(Ue,Le,tu,lo,yi,Yt){var tn=2&yi,Nn=vi(Ue),Js=Nn.length,xi=vi(Le).length;if(Js!=xi&&!tn)return!1;for(var Uo=Js;Uo--;){var Rn=Nn[Uo];if(!(tn?Rn in Le:$.call(Le,Rn)))return!1}var mp=Yt.get(Ue);if(mp&&Yt.get(Le))return mp==Le;var wi=!0;Yt.set(Ue,Le),Yt.set(Le,Ue);for(var ru=tn;++Uo<Js;){Rn=Nn[Uo];var bi=Ue[Rn],_i=Le[Rn];if(lo)var gp=tn?lo(_i,bi,Rn,Le,Ue,Yt):lo(bi,_i,Rn,Ue,Le,Yt);if(!(gp===void 0?bi===_i||tu(bi,_i,lo,yi,Yt):gp)){wi=!1;break}ru||(ru=Rn=="constructor")}if(wi&&!ru){var Si=Ue.constructor,Ci=Le.constructor;Si==Ci||!("constructor"in Ue)||!("constructor"in Le)||typeof Si=="function"&&Si instanceof Si&&typeof Ci=="function"&&Ci instanceof Ci||(wi=!1)}return Yt.delete(Ue),Yt.delete(Le),wi}(ye,Ce,qe,Ke,ze,Ie)):!1}(j,M,Zr,G,X,ve))}function zt(j){return!(!mi(j)||function(M){return!!U&&U in M}(j))&&(fp(j)||K(j)?Z:b).test(ct(j))}function Yc(j){return typeof j=="function"?j:j==null?Kb:typeof j=="object"?jn(j)?function(X,ve){return en(X)&&at(ve)?Dt(kt(X),ve):function(ye){var Ce=function(qe,Ke,ze){var Ie=qe==null?void 0:En(qe,Ke);return Ie===void 0?ze:Ie}(ye,X);return Ce===void 0&&Ce===ve?function(qe,Ke){return qe!=null&&function(ze,Ie,ir){Ie=en(Ie,ze)?[Ie]:Ks(Ie);for(var wt,ut=-1,pt=Ie.length;++ut<pt;){var gr=kt(Ie[ut]);if(!(wt=ze!=null&&ir(ze,gr)))break;ze=ze[gr]}return wt||!!(pt=ze?ze.length:0)&&Zc(pt)&&jt(gr,pt)&&(jn(ze)||Qc(ze))}(qe,Ke,qs)}(ye,X):Zr(ve,Ce,void 0,3)}}(j[0],j[1]):function(X){var ve=function(ye){for(var Ce=vi(ye),qe=Ce.length;qe--;){var Ke=Ce[qe],ze=ye[Ke];Ce[qe]=[Ke,ze,at(ze)]}return Ce}(X);return ve.length==1&&ve[0][2]?Dt(ve[0][0],ve[0][1]):function(ye){return ye===X||function(Ce,qe,Ke,ze){var Ie=Ke.length,ir=Ie;if(Ce==null)return!ir;for(Ce=Object(Ce);Ie--;){var wt=Ke[Ie];if(wt[2]?wt[1]!==Ce[wt[0]]:!(wt[0]in Ce))return!1}for(;++Ie<ir;){var ut=(wt=Ke[Ie])[0],pt=Ce[ut],gr=wt[1];if(wt[2]){if(pt===void 0&&!(ut in Ce))return!1}else{var zo=new Qe,kn;if(!(kn===void 0?Zr(gr,pt,ze,3,zo):kn))return!1}}return!0}(ye,X,ve)}}(j):en(M=j)?(G=kt(M),function(X){return X==null?void 0:X[G]}):function(X){return function(ve){return En(ve,X)}}(M);var M,G}function Jc(j){if(G=(M=j)&&M.constructor,X=typeof G=="function"&&G.prototype||P,M!==X)return he(j);var M,G,X,ve=[];for(var ye in Object(j))$.call(j,ye)&&ye!="constructor"&&ve.push(ye);return ve}function Ks(j){return jn(j)?j:$o(j)}function Ys(j,M,G,X,ve,ye){var Ce=2&ve,qe=j.length,Ke=M.length;if(qe!=Ke&&!(Ce&&Ke>qe))return!1;var ze=ye.get(j);if(ze&&ye.get(M))return ze==M;var Ie=-1,ir=!0,wt=1&ve?new yt:void 0;for(ye.set(j,M),ye.set(M,j);++Ie<qe;){var ut=j[Ie],pt=M[Ie];if(X)var gr=Ce?X(pt,ut,Ie,M,j,ye):X(ut,pt,Ie,j,M,ye);if(gr!==void 0){if(gr)continue;ir=!1;break}if(wt){if(!D(M,function(zo,kn){if(!wt.has(kn)&&(ut===zo||G(ut,zo,X,ve,ye)))return wt.add(kn)})){ir=!1;break}}else if(ut!==pt&&!G(ut,pt,X,ve,ye)){ir=!1;break}}return ye.delete(j),ye.delete(M),ir}function be(j,M){var G,X,ve=j.__data__;return((X=typeof(G=M))=="string"||X=="number"||X=="symbol"||X=="boolean"?G!=="__proto__":G===null)?ve[typeof M=="string"?"string":"hash"]:ve.map}function We(j,M){var G=function(X,ve){return X==null?void 0:X[ve]}(j,M);return zt(G)?G:void 0}var Ge=function(j){return E.call(j)};function jt(j,M){return!!(M=M??9007199254740991)&&(typeof j=="number"||x.test(j))&&j>-1&&j%1==0&&j<M}function en(j,M){if(jn(j))return!1;var G=typeof j;return!(G!="number"&&G!="symbol"&&G!="boolean"&&j!=null&&!eu(j))||d.test(j)||!u.test(j)||M!=null&&j in Object(M)}function at(j){return j==j&&!mi(j)}function Dt(j,M){return function(G){return G!=null&&G[j]===M&&(M!==void 0||j in Object(G))}}(fe&&Ge(new fe(new ArrayBuffer(1)))!="[object DataView]"||Te&&Ge(new Te)!=a||ke&&Ge(ke.resolve())!="[object Promise]"||L&&Ge(new L)!=c||H&&Ge(new H)!="[object WeakMap]")&&(Ge=function(j){var M=E.call(j),G=M==i?j.constructor:void 0,X=G?ct(G):void 0;if(X)switch(X){case xe:return"[object DataView]";case ce:return a;case we:return"[object Promise]";case Se:return c;case _e:return"[object WeakMap]"}return M});var $o=Fo(function(j){var M;j=(M=j)==null?"":function(X){if(typeof X=="string")return X;if(eu(X))return je?je.call(X):"";var ve=X+"";return ve=="0"&&1/X==-1/0?"-0":ve}(M);var G=[];return f.test(j)&&G.push(""),j.replace(h,function(X,ve,ye,Ce){G.push(ye?Ce.replace(g,"$1"):ve||X)}),G});function kt(j){if(typeof j=="string"||eu(j))return j;var M=j+"";return M=="0"&&1/j==-1/0?"-0":M}function ct(j){if(j!=null){try{return q.call(j)}catch{}try{return j+""}catch{}}return""}function Fo(j,M){if(typeof j!="function"||M&&typeof M!="function")throw new TypeError("Expected a function");var G=function(){var X=arguments,ve=M?M.apply(this,X):X[0],ye=G.cache;if(ye.has(ve))return ye.get(ve);var Ce=j.apply(this,X);return G.cache=ye.set(ve,Ce),Ce};return G.cache=new(Fo.Cache||Fe),G}function Dr(j,M){return j===M||j!=j&&M!=M}function Qc(j){return function(M){return gi(M)&&Xc(M)}(j)&&$.call(j,"callee")&&(!le.call(j,"callee")||E.call(j)==s)}Fo.Cache=Fe;var jn=Array.isArray;function Xc(j){return j!=null&&Zc(j.length)&&!fp(j)}function fp(j){var M=mi(j)?E.call(j):"";return M=="[object Function]"||M=="[object GeneratorFunction]"}function Zc(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=9007199254740991}function mi(j){var M=typeof j;return!!j&&(M=="object"||M=="function")}function gi(j){return!!j&&typeof j=="object"}function eu(j){return typeof j=="symbol"||gi(j)&&E.call(j)=="[object Symbol]"}var qb=R?function(j){return function(M){return j(M)}}(R):function(j){return gi(j)&&Zc(j.length)&&!!w[E.call(j)]};function vi(j){return Xc(j)?Ot(j):Jc(j)}function Kb(j){return j}o.exports=function(j,M,G){var X=jn(j)?F:Q,ve=arguments.length<3;return X(j,Yc(M),G,ve,nt)}}).call(this,r(3),r(7)(e))},function(e,t){e.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(e,t){String.prototype.padEnd||(String.prototype.padEnd=function(r,n){return r>>=0,n=String(n!==void 0?n:" "),this.length>r?String(this):((r-=this.length)>n.length&&(n+=n.repeat(r/n.length)),String(this)+n.slice(0,r))})},function(e,t,r){function n(P,O,U){return O in P?Object.defineProperty(P,O,{value:U,enumerable:!0,configurable:!0,writable:!0}):P[O]=U,P}function o(P){if(Symbol.iterator in Object(P)||Object.prototype.toString.call(P)==="[object Arguments]")return Array.from(P)}function s(P){return function(O){if(Array.isArray(O)){for(var U=0,q=new Array(O.length);U<O.length;U++)q[U]=O[U];return q}}(P)||o(P)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(P){if(Array.isArray(P))return P}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function u(P,O){for(var U=0;U<O.length;U++){var q=O[U];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(P,q.key,q)}}function d(P){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(P)}function f(P){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(O){return d(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":d(O)})(P)}function h(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function g(P){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}function b(P,O){return(b=Object.setPrototypeOf||function(U,q){return U.__proto__=q,U})(P,O)}r.r(t);var x=r(0),w=r.n(x),y=r(5),m=r.n(y),v=r(4),_=r.n(v),S=r(6),T=r.n(S),N=r(2),R=r.n(N),F=r(1),D=r.n(F);r(8);function Q(P,O){return a(P)||function(U,q){var $=[],E=!0,Z=!1,B=void 0;try{for(var te,le=U[Symbol.iterator]();!(E=(te=le.next()).done)&&($.push(te.value),!q||$.length!==q);E=!0);}catch(ae){Z=!0,B=ae}finally{try{E||le.return==null||le.return()}finally{if(Z)throw B}}return $}(P,O)||i()}var K=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],W=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthélemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function z(P,O,U,q,$){return!U||$?P+"".padEnd(O.length,".")+" "+q:P+"".padEnd(O.length,".")+" "+U}function I(P,O,U,q,$){var E,Z,B=[];return Z=O===!0,[(E=[]).concat.apply(E,s(P.map(function(te){var le={name:te[0],regions:te[1],iso2:te[2],countryCode:te[3],dialCode:te[3],format:z(U,te[3],te[4],q,$),priority:te[5]||0},ae=[];return te[6]&&te[6].map(function(he){var fe=function(Te){for(var ke=1;ke<arguments.length;ke++){var L=arguments[ke]!=null?arguments[ke]:{},H=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(H=H.concat(Object.getOwnPropertySymbols(L).filter(function(re){return Object.getOwnPropertyDescriptor(L,re).enumerable}))),H.forEach(function(re){n(Te,re,L[re])})}return Te}({},le);fe.dialCode=te[3]+he,fe.isAreaCode=!0,fe.areaCodeLength=he.length,ae.push(fe)}),ae.length>0?(le.mainCode=!0,Z||O.constructor.name==="Array"&&O.includes(te[2])?(le.hasAreaCodes=!0,[le].concat(ae)):(B=B.concat(ae),[le])):[le]}))),B]}function A(P,O,U,q){if(U!==null){var $=Object.keys(U),E=Object.values(U);$.forEach(function(Z,B){if(q)return P.push([Z,E[B]]);var te=P.findIndex(function(ae){return ae[0]===Z});if(te===-1){var le=[Z];le[O]=E[B],P.push(le)}else P[te][O]=E[B]})}}function V(P,O){return O.length===0?P:P.map(function(U){var q=O.findIndex(function(E){return E[0]===U[2]});if(q===-1)return U;var $=O[q];return $[1]&&(U[4]=$[1]),$[3]&&(U[5]=$[3]),$[2]&&(U[6]=$[2]),U})}var C=function P(O,U,q,$,E,Z,B,te,le,ae,he,fe,Te,ke){c(this,P),this.filterRegions=function(oe,ge){if(typeof oe=="string"){var je=oe;return ge.filter(function(se){return se.regions.some(function(pe){return pe===je})})}return ge.filter(function(se){return oe.map(function(pe){return se.regions.some(function(Fe){return Fe===pe})}).some(function(pe){return pe})})},this.sortTerritories=function(oe,ge){var je=[].concat(s(oe),s(ge));return je.sort(function(se,pe){return se.name<pe.name?-1:se.name>pe.name?1:0}),je},this.getFilteredCountryList=function(oe,ge,je){return oe.length===0?ge:je?oe.map(function(se){var pe=ge.find(function(Fe){return Fe.iso2===se});if(pe)return pe}).filter(function(se){return se}):ge.filter(function(se){return oe.some(function(pe){return pe===se.iso2})})},this.localizeCountries=function(oe,ge,je){for(var se=0;se<oe.length;se++)ge[oe[se].iso2]!==void 0?oe[se].localName=ge[oe[se].iso2]:ge[oe[se].name]!==void 0&&(oe[se].localName=ge[oe[se].name]);return je||oe.sort(function(pe,Fe){return pe.localName<Fe.localName?-1:pe.localName>Fe.localName?1:0}),oe},this.getCustomAreas=function(oe,ge){for(var je=[],se=0;se<ge.length;se++){var pe=JSON.parse(JSON.stringify(oe));pe.dialCode+=ge[se],je.push(pe)}return je},this.excludeCountries=function(oe,ge){return ge.length===0?oe:oe.filter(function(je){return!ge.includes(je.iso2)})};var L=function(oe,ge,je){var se=[];return A(se,1,oe,!0),A(se,3,ge),A(se,2,je),se}(te,le,ae),H=V(JSON.parse(JSON.stringify(K)),L),re=V(JSON.parse(JSON.stringify(W)),L),xe=Q(I(H,O,fe,Te,ke),2),ce=xe[0],we=xe[1];if(U){var Se=Q(I(re,O,fe,Te,ke),2),_e=Se[0];Se[1],ce=this.sortTerritories(_e,ce)}q&&(ce=this.filterRegions(q,ce)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList($,ce,B.includes("onlyCountries")),Z),he,B.includes("onlyCountries")),this.preferredCountries=E.length===0?[]:this.localizeCountries(this.getFilteredCountryList(E,ce,B.includes("preferredCountries")),he,B.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList($,we),Z)},k=function(P){function O($){var E;c(this,O),(E=function(L,H){return!H||f(H)!=="object"&&typeof H!="function"?h(L):H}(this,g(O).call(this,$))).getProbableCandidate=_()(function(L){return L&&L.length!==0?E.state.onlyCountries.filter(function(H){return R()(H.name.toLowerCase(),L.toLowerCase())},h(h(E)))[0]:null}),E.guessSelectedCountry=_()(function(L,H,re,xe){var ce;if(E.props.enableAreaCodes===!1&&(xe.some(function(_e){if(R()(L,_e.dialCode))return re.some(function(oe){if(_e.iso2===oe.iso2&&oe.mainCode)return ce=oe,!0}),!0}),ce))return ce;var we=re.find(function(_e){return _e.iso2==H});if(L.trim()==="")return we;var Se=re.reduce(function(_e,oe){return R()(L,oe.dialCode)&&(oe.dialCode.length>_e.dialCode.length||oe.dialCode.length===_e.dialCode.length&&oe.priority<_e.priority)?oe:_e},{dialCode:"",priority:10001},h(h(E)));return Se.name?Se:we}),E.updateCountry=function(L){var H,re=E.state.onlyCountries;(H=L.indexOf(0)>="0"&&L.indexOf(0)<="9"?re.find(function(xe){return xe.dialCode==+L}):re.find(function(xe){return xe.iso2==L}))&&H.dialCode&&E.setState({selectedCountry:H,formattedNumber:E.props.disableCountryCode?"":E.formatNumber(H.dialCode,H)})},E.scrollTo=function(L,H){if(L){var re=E.dropdownRef;if(re&&document.body){var xe=re.offsetHeight,ce=re.getBoundingClientRect().top+document.body.scrollTop,we=ce+xe,Se=L,_e=Se.getBoundingClientRect(),oe=Se.offsetHeight,ge=_e.top+document.body.scrollTop,je=ge+oe,se=ge-ce+re.scrollTop,pe=xe/2-oe/2;if(E.props.enableSearch?ge<ce+32:ge<ce)H&&(se-=pe),re.scrollTop=se;else if(je>we){H&&(se+=pe);var Fe=xe-oe;re.scrollTop=se-Fe}}}},E.scrollToTop=function(){var L=E.dropdownRef;L&&document.body&&(L.scrollTop=0)},E.formatNumber=function(L,H){if(!H)return L;var re,xe=H.format,ce=E.props,we=ce.disableCountryCode,Se=ce.enableAreaCodeStretch,_e=ce.enableLongNumbers,oe=ce.autoFormat;if(we?((re=xe.split(" ")).shift(),re=re.join(" ")):Se&&H.isAreaCode?((re=xe.split(" "))[1]=re[1].replace(/\.+/,"".padEnd(H.areaCodeLength,".")),re=re.join(" ")):re=xe,!L||L.length===0)return we?"":E.props.prefix;if(L&&L.length<2||!re||!oe)return we?L:E.props.prefix+L;var ge,je=T()(re,function(se,pe){if(se.remainingText.length===0)return se;if(pe!==".")return{formattedText:se.formattedText+pe,remainingText:se.remainingText};var Fe,yt=a(Fe=se.remainingText)||o(Fe)||i(),Qe=yt[0],Ot=yt.slice(1);return{formattedText:se.formattedText+Qe,remainingText:Ot}},{formattedText:"",remainingText:L.split("")});return(ge=_e?je.formattedText+je.remainingText.join(""):je.formattedText).includes("(")&&!ge.includes(")")&&(ge+=")"),ge},E.cursorToEnd=function(){var L=E.numberInputRef;if(document.activeElement===L){L.focus();var H=L.value.length;L.value.charAt(H-1)===")"&&(H-=1),L.setSelectionRange(H,H)}},E.getElement=function(L){return E["flag_no_".concat(L)]},E.getCountryData=function(){return E.state.selectedCountry?{name:E.state.selectedCountry.name||"",dialCode:E.state.selectedCountry.dialCode||"",countryCode:E.state.selectedCountry.iso2||"",format:E.state.selectedCountry.format||""}:{}},E.handleFlagDropdownClick=function(L){if(L.preventDefault(),E.state.showDropdown||!E.props.disabled){var H=E.state,re=H.preferredCountries,xe=H.onlyCountries,ce=H.selectedCountry,we=E.concatPreferredCountries(re,xe).findIndex(function(Se){return Se.dialCode===ce.dialCode&&Se.iso2===ce.iso2});E.setState({showDropdown:!E.state.showDropdown,highlightCountryIndex:we},function(){E.state.showDropdown&&E.scrollTo(E.getElement(E.state.highlightCountryIndex))})}},E.handleInput=function(L){var H=L.target.value,re=E.props,xe=re.prefix,ce=re.onChange,we=E.props.disableCountryCode?"":xe,Se=E.state.selectedCountry,_e=E.state.freezeSelection;if(!E.props.countryCodeEditable){var oe=xe+(Se.hasAreaCodes?E.state.onlyCountries.find(function(nt){return nt.iso2===Se.iso2&&nt.mainCode}).dialCode:Se.dialCode);if(H.slice(0,oe.length)!==oe)return}if(H===xe)return ce&&ce("",E.getCountryData(),L,""),E.setState({formattedNumber:""});if(!(H.replace(/\D/g,"").length>15&&(E.props.enableLongNumbers===!1||typeof E.props.enableLongNumbers=="number"&&H.replace(/\D/g,"").length>E.props.enableLongNumbers))&&H!==E.state.formattedNumber){L.preventDefault?L.preventDefault():L.returnValue=!1;var ge=E.props.country,je=E.state,se=je.onlyCountries,pe=je.selectedCountry,Fe=je.hiddenAreaCodes;if(ce&&L.persist(),H.length>0){var yt=H.replace(/\D/g,"");(!E.state.freezeSelection||pe&&pe.dialCode.length>yt.length)&&(Se=E.props.disableCountryGuess?pe:E.guessSelectedCountry(yt.substring(0,6),ge,se,Fe)||pe,_e=!1),we=E.formatNumber(yt,Se),Se=Se.dialCode?Se:pe}var Qe=L.target.selectionStart,Ot=L.target.selectionStart,xt=E.state.formattedNumber,Qr=we.length-xt.length;E.setState({formattedNumber:we,freezeSelection:_e,selectedCountry:Se},function(){Qr>0&&(Ot-=Qr),we.charAt(we.length-1)==")"?E.numberInputRef.setSelectionRange(we.length-1,we.length-1):Ot>0&&xt.length>=we.length?E.numberInputRef.setSelectionRange(Ot,Ot):Qe<xt.length&&E.numberInputRef.setSelectionRange(Qe,Qe),ce&&ce(we.replace(/[^0-9]+/g,""),E.getCountryData(),L,we)})}},E.handleInputClick=function(L){E.setState({showDropdown:!1}),E.props.onClick&&E.props.onClick(L,E.getCountryData())},E.handleDoubleClick=function(L){var H=L.target.value.length;L.target.setSelectionRange(0,H)},E.handleFlagItemClick=function(L,H){var re=E.state.selectedCountry,xe=E.state.onlyCountries.find(function(_e){return _e==L});if(xe){var ce=E.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),we=ce.length>1?ce.replace(re.dialCode,xe.dialCode):xe.dialCode,Se=E.formatNumber(we.replace(/\D/g,""),xe);E.setState({showDropdown:!1,selectedCountry:xe,freezeSelection:!0,formattedNumber:Se,searchValue:""},function(){E.cursorToEnd(),E.props.onChange&&E.props.onChange(Se.replace(/[^0-9]+/g,""),E.getCountryData(),H,Se)})}},E.handleInputFocus=function(L){E.numberInputRef&&E.numberInputRef.value===E.props.prefix&&E.state.selectedCountry&&!E.props.disableCountryCode&&E.setState({formattedNumber:E.props.prefix+E.state.selectedCountry.dialCode},function(){E.props.jumpCursorToEnd&&setTimeout(E.cursorToEnd,0)}),E.setState({placeholder:""}),E.props.onFocus&&E.props.onFocus(L,E.getCountryData()),E.props.jumpCursorToEnd&&setTimeout(E.cursorToEnd,0)},E.handleInputBlur=function(L){L.target.value||E.setState({placeholder:E.props.placeholder}),E.props.onBlur&&E.props.onBlur(L,E.getCountryData())},E.handleInputCopy=function(L){if(E.props.copyNumbersOnly){var H=window.getSelection().toString().replace(/[^0-9]+/g,"");L.clipboardData.setData("text/plain",H),L.preventDefault()}},E.getHighlightCountryIndex=function(L){var H=E.state.highlightCountryIndex+L;return H<0||H>=E.state.onlyCountries.length+E.state.preferredCountries.length?H-L:E.props.enableSearch&&H>E.getSearchFilteredCountries().length?0:H},E.searchCountry=function(){var L=E.getProbableCandidate(E.state.queryString)||E.state.onlyCountries[0],H=E.state.onlyCountries.findIndex(function(re){return re==L})+E.state.preferredCountries.length;E.scrollTo(E.getElement(H),!0),E.setState({queryString:"",highlightCountryIndex:H})},E.handleKeydown=function(L){var H=E.props.keys,re=L.target.className;if(re.includes("selected-flag")&&L.which===H.ENTER&&!E.state.showDropdown)return E.handleFlagDropdownClick(L);if(re.includes("form-control")&&(L.which===H.ENTER||L.which===H.ESC))return L.target.blur();if(E.state.showDropdown&&!E.props.disabled&&(!re.includes("search-box")||L.which===H.UP||L.which===H.DOWN||L.which===H.ENTER||L.which===H.ESC&&L.target.value==="")){L.preventDefault?L.preventDefault():L.returnValue=!1;var xe=function(ce){E.setState({highlightCountryIndex:E.getHighlightCountryIndex(ce)},function(){E.scrollTo(E.getElement(E.state.highlightCountryIndex),!0)})};switch(L.which){case H.DOWN:xe(1);break;case H.UP:xe(-1);break;case H.ENTER:E.props.enableSearch?E.handleFlagItemClick(E.getSearchFilteredCountries()[E.state.highlightCountryIndex]||E.getSearchFilteredCountries()[0],L):E.handleFlagItemClick([].concat(s(E.state.preferredCountries),s(E.state.onlyCountries))[E.state.highlightCountryIndex],L);break;case H.ESC:case H.TAB:E.setState({showDropdown:!1},E.cursorToEnd);break;default:(L.which>=H.A&&L.which<=H.Z||L.which===H.SPACE)&&E.setState({queryString:E.state.queryString+String.fromCharCode(L.which)},E.state.debouncedQueryStingSearcher)}}},E.handleInputKeyDown=function(L){var H=E.props,re=H.keys,xe=H.onEnterKeyPress,ce=H.onKeyDown;L.which===re.ENTER&&xe&&xe(L),ce&&ce(L)},E.handleClickOutside=function(L){E.dropdownRef&&!E.dropdownContainerRef.contains(L.target)&&E.state.showDropdown&&E.setState({showDropdown:!1})},E.handleSearchChange=function(L){var H=L.currentTarget.value,re=E.state,xe=re.preferredCountries,ce=re.selectedCountry,we=0;if(H===""&&ce){var Se=E.state.onlyCountries;we=E.concatPreferredCountries(xe,Se).findIndex(function(_e){return _e==ce}),setTimeout(function(){return E.scrollTo(E.getElement(we))},100)}E.setState({searchValue:H,highlightCountryIndex:we})},E.concatPreferredCountries=function(L,H){return L.length>0?s(new Set(L.concat(H))):H},E.getDropdownCountryName=function(L){return L.localName||L.name},E.getSearchFilteredCountries=function(){var L=E.state,H=L.preferredCountries,re=L.onlyCountries,xe=L.searchValue,ce=E.props.enableSearch,we=E.concatPreferredCountries(H,re),Se=xe.trim().toLowerCase().replace("+","");if(ce&&Se){if(/^\d+$/.test(Se))return we.filter(function(ge){var je=ge.dialCode;return["".concat(je)].some(function(se){return se.toLowerCase().includes(Se)})});var _e=we.filter(function(ge){var je=ge.iso2;return["".concat(je)].some(function(se){return se.toLowerCase().includes(Se)})}),oe=we.filter(function(ge){var je=ge.name,se=ge.localName;return ge.iso2,["".concat(je),"".concat(se||"")].some(function(pe){return pe.toLowerCase().includes(Se)})});return E.scrollToTop(),s(new Set([].concat(_e,oe)))}return we},E.getCountryDropdownList=function(){var L=E.state,H=L.preferredCountries,re=L.highlightCountryIndex,xe=L.showDropdown,ce=L.searchValue,we=E.props,Se=we.disableDropdown,_e=we.prefix,oe=E.props,ge=oe.enableSearch,je=oe.searchNotFound,se=oe.disableSearchIcon,pe=oe.searchClass,Fe=oe.searchStyle,yt=oe.searchPlaceholder,Qe=oe.autocompleteSearch,Ot=E.getSearchFilteredCountries().map(function(nt,Xr){var En=re===Xr,qs=D()({country:!0,preferred:nt.iso2==="us"||nt.iso2==="gb",active:nt.iso2==="us",highlight:En}),Zr="flag ".concat(nt.iso2);return w.a.createElement("li",Object.assign({ref:function(zt){return E["flag_no_".concat(Xr)]=zt},key:"flag_no_".concat(Xr),"data-flag-key":"flag_no_".concat(Xr),className:qs,"data-dial-code":"1",tabIndex:Se?"-1":"0","data-country-code":nt.iso2,onClick:function(zt){return E.handleFlagItemClick(nt,zt)},role:"option"},En?{"aria-selected":!0}:{}),w.a.createElement("div",{className:Zr}),w.a.createElement("span",{className:"country-name"},E.getDropdownCountryName(nt)),w.a.createElement("span",{className:"dial-code"},nt.format?E.formatNumber(nt.dialCode,nt):_e+nt.dialCode))}),xt=w.a.createElement("li",{key:"dashes",className:"divider"});H.length>0&&(!ge||ge&&!ce.trim())&&Ot.splice(H.length,0,xt);var Qr=D()(n({"country-list":!0,hide:!xe},E.props.dropdownClass,!0));return w.a.createElement("ul",{ref:function(nt){return!ge&&nt&&nt.focus(),E.dropdownRef=nt},className:Qr,style:E.props.dropdownStyle,role:"listbox",tabIndex:"0"},ge&&w.a.createElement("li",{className:D()(n({search:!0},pe,pe))},!se&&w.a.createElement("span",{className:D()(n({"search-emoji":!0},"".concat(pe,"-emoji"),pe)),role:"img","aria-label":"Magnifying glass"},"🔎"),w.a.createElement("input",{className:D()(n({"search-box":!0},"".concat(pe,"-box"),pe)),style:Fe,type:"search",placeholder:yt,autoFocus:!0,autoComplete:Qe?"on":"off",value:ce,onChange:E.handleSearchChange})),Ot.length>0?Ot:w.a.createElement("li",{className:"no-entries-message"},w.a.createElement("span",null,je)))};var Z,B=new C($.enableAreaCodes,$.enableTerritories,$.regions,$.onlyCountries,$.preferredCountries,$.excludeCountries,$.preserveOrder,$.masks,$.priority,$.areaCodes,$.localization,$.prefix,$.defaultMask,$.alwaysDefaultMask),te=B.onlyCountries,le=B.preferredCountries,ae=B.hiddenAreaCodes,he=$.value?$.value.replace(/\D/g,""):"";Z=$.disableInitialCountryGuess?0:he.length>1?E.guessSelectedCountry(he.substring(0,6),$.country,te,ae)||0:$.country&&te.find(function(L){return L.iso2==$.country})||0;var fe,Te=he.length<2&&Z&&!R()(he,Z.dialCode)?Z.dialCode:"";fe=he===""&&Z===0?"":E.formatNumber(($.disableCountryCode?"":Te)+he,Z.name?Z:void 0);var ke=te.findIndex(function(L){return L==Z});return E.state={showDropdown:$.showDropdown,formattedNumber:fe,onlyCountries:te,preferredCountries:le,hiddenAreaCodes:ae,selectedCountry:Z,highlightCountryIndex:ke,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:m()(E.searchCountry,250),searchValue:""},E}var U,q;return function($,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(E&&E.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),E&&b($,E)}(O,P),U=O,(q=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function($,E,Z){$.country!==this.props.country?this.updateCountry(this.props.country):$.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function($){if($===null)return this.setState({selectedCountry:0,formattedNumber:""});var E=this.state,Z=E.onlyCountries,B=E.selectedCountry,te=E.hiddenAreaCodes,le=this.props,ae=le.country,he=le.prefix;if($==="")return this.setState({selectedCountry:B,formattedNumber:""});var fe,Te,ke=$.replace(/\D/g,"");if(B&&R()($,he+B.dialCode))Te=this.formatNumber(ke,B),this.setState({formattedNumber:Te});else{var L=(fe=this.props.disableCountryGuess?B:this.guessSelectedCountry(ke.substring(0,6),ae,Z,te)||B)&&R()(ke,he+fe.dialCode)?fe.dialCode:"";Te=this.formatNumber((this.props.disableCountryCode?"":L)+ke,fe||void 0),this.setState({selectedCountry:fe,formattedNumber:Te})}}},{key:"render",value:function(){var $,E,Z,B=this,te=this.state,le=te.onlyCountries,ae=te.selectedCountry,he=te.showDropdown,fe=te.formattedNumber,Te=te.hiddenAreaCodes,ke=this.props,L=ke.disableDropdown,H=ke.renderStringAsFlag,re=ke.isValid,xe=ke.defaultErrorMessage,ce=ke.specialLabel;if(typeof re=="boolean")E=re;else{var we=re(fe.replace(/\D/g,""),ae,le,Te);typeof we=="boolean"?(E=we)===!1&&(Z=xe):(E=!1,Z=we)}var Se=D()((n($={},this.props.containerClass,!0),n($,"react-tel-input",!0),$)),_e=D()({arrow:!0,up:he}),oe=D()(n({"form-control":!0,"invalid-number":!E,open:he},this.props.inputClass,!0)),ge=D()({"selected-flag":!0,open:he}),je=D()(n({"flag-dropdown":!0,"invalid-number":!E,open:he},this.props.buttonClass,!0)),se="flag ".concat(ae&&ae.iso2);return w.a.createElement("div",{className:"".concat(Se," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},ce&&w.a.createElement("div",{className:"special-label"},ce),Z&&w.a.createElement("div",{className:"invalid-number-message"},Z),w.a.createElement("input",Object.assign({className:oe,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:fe,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(pe){B.numberInputRef=pe,typeof B.props.inputProps.ref=="function"?B.props.inputProps.ref(pe):typeof B.props.inputProps.ref=="object"&&(B.props.inputProps.ref.current=pe)}})),w.a.createElement("div",{className:je,style:this.props.buttonStyle,ref:function(pe){return B.dropdownContainerRef=pe}},H?w.a.createElement("div",{className:ge},H):w.a.createElement("div",{onClick:L?void 0:this.handleFlagDropdownClick,className:ge,title:ae?"".concat(ae.localName||ae.name,": + ").concat(ae.dialCode):"",tabIndex:L?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!he||void 0},w.a.createElement("div",{className:se},!L&&w.a.createElement("div",{className:_e}))),he&&this.getCountryDropdownList()))}}])&&u(U.prototype,q),O}(w.a.Component);k.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},t.default=k}]);const Dx=bf(xP);function wP({isOpen:e,onClose:t,onSubmit:r,reseller:n}){const[o,s]=Y.useState(!1),a=h=>{const g=new Date;let b;switch(h){case"Demo (24 Hrs)":b=new Date(g),b.setDate(g.getDate()+1);break;case"1 Mes":b=new Date(g),b.setMonth(g.getMonth()+1);break;case"3 Meses":b=new Date(g),b.setMonth(g.getMonth()+3);break;case"6 Meses":b=new Date(g),b.setMonth(g.getMonth()+6);break;case"12 Meses":b=new Date(g),b.setMonth(g.getMonth()+12);break;default:b=new Date(g),b.setMonth(g.getMonth()+1)}return console.log(`Calculando fecha fin para plan ${h}: ${b.toISOString()}`),b},i=h=>h.toISOString().split("T")[0],[c,u]=Y.useState(()=>{const h=i(a("1 Mes"));return console.log("Inicializando formulario con fecha de fin por defecto:",h),{fullName:(n==null?void 0:n.fullName)||"",email:(n==null?void 0:n.email)||"",password:"",phone:(n==null?void 0:n.phone)||"",phoneCountry:(n==null?void 0:n.phoneCountry)||"co",plan:(n==null?void 0:n.plan)||"1 Mes",endDate:(n==null?void 0:n.endDate)||h}});Y.useEffect(()=>{const h=g=>i(a(g||"1 Mes"));if(n){const g=h(n.plan);console.log("Fecha calculada para edición:",g),u({fullName:n.fullName,email:n.email,password:"",phone:n.phone||"",phoneCountry:n.phoneCountry||"co",plan:n.plan||"1 Mes",endDate:g})}else{const g=h("1 Mes");console.log("Fecha de fin por defecto para nuevo revendedor:",g),u({fullName:"",email:"",password:"",phone:"",phoneCountry:"co",plan:"1 Mes",endDate:g})}},[n]);const d=h=>{h.preventDefault(),r(c)};if(!e)return null;const f=!!n;return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:l.jsx("div",{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]",children:l.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 w-[400px] shadow-xl",children:[l.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",children:l.jsx(ui,{className:"w-5 h-5"})}),l.jsx("style",{children:`
            select option:hover {
              background-color: #a855f7 !important;
            }
          `}),l.jsxs("div",{className:"p-4 border-b border-border/10",children:[l.jsx("h2",{className:"text-lg font-medium",children:f?"Editar Revendedor":"Agregar Nuevo Revendedor"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Modifica la información del revendedor.":"Completa la información del nuevo revendedor. Se creará un usuario y un perfil de revendedor."})]}),l.jsxs("form",{onSubmit:d,className:"p-4 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Nombre Completo / Empresa"}),l.jsx("input",{type:"text",value:c.fullName,onChange:h=>u(g=>({...g,fullName:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Email"}),l.jsx("input",{type:"email",value:c.email,onChange:h=>u(g=>({...g,email:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0,readOnly:f,style:f?{backgroundColor:"#222",color:"#888",cursor:"not-allowed"}:{}})]}),!f&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Contraseña"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:o?"text":"password",value:c.password,onChange:h=>u(g=>({...g,password:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm pr-10",placeholder:"Mínimo 6 caracteres",minLength:6,required:!0}),l.jsx("button",{type:"button",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-muted-foreground hover:text-foreground",onClick:()=>s(h=>!h),tabIndex:-1,children:o?"Ocultar":"Mostrar"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",htmlFor:"phone",children:"Teléfono"}),l.jsx(Dx,{country:c.phoneCountry,value:c.phone,onChange:(h,g)=>{u(b=>({...b,phone:h,phoneCountry:g.countryCode||"co"}))},inputProps:{id:"phone",required:!0},containerClass:"phone-input-container",inputClass:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",buttonClass:"phone-input-button",dropdownClass:"phone-input-dropdown",specialLabel:"",preferredCountries:["co","mx","pe","ar","cl","ec","ve"],enableSearch:!0,searchPlaceholder:"Buscar país..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Plan de Suscripción"}),l.jsxs("select",{value:c.plan,onChange:h=>{const g=h.target.value,b=i(a(g));u(x=>({...x,plan:g,endDate:b}))},className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm [&>option]:bg-[#0e121d]",required:!0,children:[l.jsx("option",{children:"1 Mes"}),l.jsx("option",{children:"3 Meses"}),l.jsx("option",{children:"6 Meses"}),l.jsx("option",{children:"12 Meses"}),l.jsx("option",{children:"Demo (24 Hrs)"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Fecha Fin Suscripción"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"date",value:c.endDate,onChange:h=>u(g=>({...g,endDate:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",required:!0}),l.jsx(nf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#00A8FF] pointer-events-none"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border/10",children:[l.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-border/10 hover:bg-[#a855f7]/20 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:f?"Guardar Cambios":"Agregar Revendedor"})]})]})]})})})}const yg=["1 Mes","3 Meses","6 Meses","12 Meses"];function Hh({isOpen:e,onClose:t,onSubmit:r}){const[n,o]=Y.useState(yg[0]);return e?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:l.jsx("div",{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]",children:l.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 w-[300px] shadow-xl",children:[l.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",children:l.jsx(ui,{className:"w-5 h-5"})}),l.jsxs("div",{className:"p-4 border-b border-border/10",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Renovar Plan"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona el nuevo plan de suscripción."})]}),l.jsxs("form",{onSubmit:s=>{s.preventDefault(),r(n)},className:"p-4 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Plan de Suscripción"}),l.jsx("select",{value:n,onChange:s=>o(s.target.value),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm [&>option]:bg-[#0e121d]",required:!0,children:yg.map(s=>l.jsx("option",{value:s,children:s},s))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border/10",children:[l.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-border/10 hover:bg-[#a855f7]/20 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:"Renovar Plan"})]})]})]})})}):null}const _t=[];for(let e=0;e<256;++e)_t.push((e+256).toString(16).slice(1));function bP(e,t=0){return(_t[e[t+0]]+_t[e[t+1]]+_t[e[t+2]]+_t[e[t+3]]+"-"+_t[e[t+4]]+_t[e[t+5]]+"-"+_t[e[t+6]]+_t[e[t+7]]+"-"+_t[e[t+8]]+_t[e[t+9]]+"-"+_t[e[t+10]]+_t[e[t+11]]+_t[e[t+12]]+_t[e[t+13]]+_t[e[t+14]]+_t[e[t+15]]).toLowerCase()}let Gu;const _P=new Uint8Array(16);function SP(){if(!Gu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gu=crypto.getRandomValues.bind(crypto)}return Gu(_P)}const CP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xg={randomUUID:CP};function EP(e,t,r){var o;if(xg.randomUUID&&!e)return xg.randomUUID();e=e||{};const n=e.random??((o=e.rng)==null?void 0:o.call(e))??SP();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,bP(n)}const an={async createReseller({email:e,full_name:t,phone:r,plan_type:n,plan_end_date:o}){const s=EP(),{data:a,error:i}=await ee.rpc("create_user_profile",{p_user_id:s,p_user_email:e,p_user_role:"reseller",p_user_status:"active",p_user_full_name:t,p_user_phone:r||""});if(i)throw console.error("Error en RPC create_user_profile (profileError):",i),new Error(i.message||"Error en la llamada RPC para crear perfil");if(!a)throw console.error("Respuesta nula de RPC create_user_profile"),new Error("Respuesta nula al crear perfil");if(!a.success)throw console.error("Fallo en RPC create_user_profile (profileResult.success false):",a.message),new Error(a.message||"Error creando perfil (fallo reportado por RPC)");const c=a.id;if(!c)throw console.error("ID de usuario final no encontrado en la respuesta de create_user_profile a pesar de success:true"),new Error("No se pudo obtener el ID de usuario final del perfil para crear el revendedor.");const{data:u,error:d}=await ee.rpc("create_reseller",{user_id:c,user_email:e,user_full_name:t,user_phone:r||"",user_plan_type:n,user_status:"active",user_plan_end_date:o});if(d||!(u&&u.success))throw new Error(u&&u.message||d&&d.message||"Error creando revendedor");return{success:!0,user_id:s,message:"Revendedor creado correctamente"}},async getAll(e=!1){console.log("DEPURACIÓN - Fetching resellers... forceReload:",e);try{console.log("Obteniendo datos de resellers...");const{data:t,error:r}=await ee.rpc("get_all_resellers");if(r||!Array.isArray(t))return console.error("Error al obtener resellers con RPC:",r),[];console.log("Obteniendo perfiles con rol reseller...");const{data:n,error:o}=await ee.rpc("get_all_profiles");if(o||!Array.isArray(n))return console.error("Error al obtener perfiles con RPC:",o),[];const s=n.filter(i=>i&&i.role==="reseller"&&t.some(c=>c.id===i.id));return console.log(`Encontrados ${s.length} perfiles de revendedores`),s.map(i=>{const c=t.find(u=>u.id===i.id||u.user_id===i.id);return c?{...i,...c}:i})}catch(t){return console.error("Error inesperado al obtener revendedores:",t),[]}console.log("DEPURACIÓN - Fetching resellers... forceReload:",e);try{console.log("Obteniendo perfiles con rol reseller...");const{data:t,error:r}=await ee.rpc("get_all_profiles");if(r||!Array.isArray(t))return console.error("Error al obtener perfiles con RPC:",r),[];const n=t.filter(i=>i&&i.role==="reseller"&&(o==null?void 0:o.some(c=>c.id===i.id)));console.log(`Encontrados ${n.length} perfiles de revendedores`),console.log("Obteniendo datos de resellers...");const{data:o,error:s}=await ee.rpc("get_all_resellers");if(s||!Array.isArray(o))return console.error("Error al obtener resellers con RPC:",s),console.log("Usando solo datos de perfiles para revendedores"),n.map(i=>({id:i.id,user_id:i.id,created_at:i.created_at,full_name:i.full_name||"Sin nombre",email:i.email||"sin-email@ejemplo.com",phone:i.phone||"",plan_type:"Basic",plan_end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),status:i.status||"pending"}));console.log(`Encontrados ${(o==null?void 0:o.length)||0} registros en tabla resellers`);const a=n.map(i=>{const c=o==null?void 0:o.find(u=>u.id===i.id||u.user_id===i.id);return c?{...c,id:c.id||i.id,user_id:c.user_id||i.id,full_name:i.full_name||c.full_name||"Sin nombre",email:i.email||c.email||"sin-email@ejemplo.com",phone:c.phone||i.phone||"",plan_type:c.plan_type||"Basic",plan_end_date:c.plan_end_date||new Date(Date.now()+30*24*60*60*1e3).toISOString(),status:i.status||c.status||"pending"}:{id:i.id,user_id:i.id,created_at:i.created_at,full_name:i.full_name||"Sin nombre",email:i.email||"sin-email@ejemplo.com",phone:i.phone||"",plan_type:"Basic",plan_end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),status:i.status||"pending"}});return console.log(`Devolviendo ${a.length} revendedores`),a}catch(t){return console.error("Error inesperado al obtener revendedores:",t),[]}},async getById(e){try{console.log("Obteniendo revendedor por ID con RPC:",e);const{data:t,error:r}=await ee.rpc("get_reseller_by_id",{reseller_id:e});if(r)throw console.error("Error al obtener revendedor con RPC:",r),r;if(!t)throw new Error("No se encontró el revendedor con el ID proporcionado");const n=t;return console.log("Revendedor obtenido correctamente:",n),n}catch(t){console.error("Error al obtener revendedor:",t);try{console.log("Intentando obtener revendedor con método de respaldo usando get_all_resellers...");const{data:r,error:n}=await ee.rpc("get_all_resellers");if(n)throw console.error("Error al obtener lista de revendedores con RPC:",n),n;const o=r==null?void 0:r.find(s=>s.id===e);if(!o)throw new Error("No se encontró el revendedor con el ID proporcionado");return console.log("Revendedor obtenido correctamente con método de respaldo:",o),o}catch(r){return console.error("Error en método de respaldo:",r),{id:e,full_name:"Revendedor",email:"email@ejemplo.com",phone:"",plan_type:"1 Mes",plan_end_date:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"active",role:"reseller"}}}},async update(e,t){t.full_name&&await ee.rpc("update_profile_name",{user_id:e,new_name:t.full_name});let r=null;t.plan_end_date&&typeof t.plan_end_date=="string"&&(r=new Date(t.plan_end_date).toISOString());const{error:n}=await ee.rpc("update_reseller_info",{reseller_id:e,reseller_phone:typeof t.phone=="string"?t.phone:"",reseller_plan_type:typeof t.plan_type=="string"?t.plan_type:"",reseller_plan_end_date:r});if(n)throw n;return t.email&&await ee.from("profiles").update({email:t.email}).eq("id",e),await an.getById(e)},async delete(e){const{data:t,error:r}=await ee.rpc("delete_reseller",{reseller_id:e});if(r){if(r.message&&r.message.includes("No se encontró el revendedor"))return{success:!0,message:"Revendedor ya no existe (idempotente)",id:e};throw r}return!t||t.success===!1?{success:!0,message:(t==null?void 0:t.message)||"Revendedor ya no existe (idempotente)",id:e}:{success:!0,message:"Revendedor eliminado correctamente",id:e}}},jP=[{name:"Mensaje de Bienvenida",content:`Hola {cliente}, Gracias por adquirir el servicio {plataforma}. Aquí están tus credenciales:

USUARIO: {usuario}
CONTRASEÑA: {contraseña}
Vencimiento: {fecha_fin}.

Para una mejor experiencia NO COMPARTIR TU ACCESO`,category:"credenciales"},{name:"Recordatorio de Vencimiento",content:"Buen día estimad@ {cliente}. Te recuerdo que tu servicio {plataforma} vence en {dias_restantes} días. Vence el {fecha_fin}. Agradecemos tu preferencia, confirma tu renovación para seguir brindándote nuestros servicios.",category:"recordatorio"}],la=e=>{var t;throw console.error("Error de Supabase:",e),(t=e.message)!=null&&t.includes("does not exist")?new Error("La tabla templates no existe en la base de datos. Por favor, crea la tabla primero."):new Error(`Error de Supabase: ${e.message} (${e.code})`)},er={async initializeDefaultTemplates(){try{const{data:e,error:t}=await ee.from("templates").select("*").is("owner_id",null);if(t&&la(t),console.log("Verificación de plantillas del sistema:",{existingTemplates:e}),!e||e.length===0){const r=jP.map(o=>({...o,owner_id:null})),{error:n}=await ee.from("templates").insert(r);n&&la(n),console.log("Plantillas predeterminadas del sistema creadas")}}catch(e){throw console.error("Error al inicializar plantillas:",e),e}},async getAll(e){try{let t=ee.from("templates").select("*");e&&(t=t.or(`owner_id.eq.${e},owner_id.is.null`));const{data:r,error:n}=await t.order("created_at",{ascending:!1});return n&&la(n),r}catch(t){throw console.error("Error al obtener plantillas:",t),t}},async create(e,t){try{const r={...e,owner_id:t},{data:n,error:o}=await ee.from("templates").insert([r]).select().single();return o&&la(o),n}catch(r){throw console.error("Error al crear plantilla:",r),r}},async update(e,t){try{const{data:r,error:n}=await ee.from("templates").select("*").eq("id",e).single();if(n)throw n;if(!r)throw new Error("Plantilla no encontrada");if((r.name==="Mensaje de Bienvenida"||r.name==="Recordatorio de Vencimiento")&&t.name&&t.name!==r.name)throw new Error("No se puede cambiar el nombre de las plantillas prediseñadas. Solo puedes editar el contenido.");const o={...t};(r.name==="Mensaje de Bienvenida"||r.name==="Recordatorio de Vencimiento")&&(delete o.name,t.category&&(o.category=t.category)),console.log("Actualizando plantilla con:",o);const{data:s,error:a}=await ee.from("templates").update(o).eq("id",e).select().single();return a&&la(a),s}catch(r){throw console.error("Error al actualizar plantilla:",r),r}},async delete(e,t){try{const{data:r,error:n}=await ee.from("templates").select("*").eq("id",e).single();if(n)throw n;if(!r)throw new Error("Plantilla no encontrada");if(r.owner_id===null)throw new Error("No se pueden eliminar las plantillas del sistema.");if(r.owner_id!==t)throw new Error("No tienes permiso para eliminar esta plantilla.");const{error:o}=await ee.from("templates").delete().eq("id",e);if(o)throw o}catch(r){throw console.error("Error al eliminar la plantilla:",r),r}}},Ts=(e,t)=>e.replace(/\{([^}]+)\}/g,(r,n)=>{const o=t[n];return o!==void 0?o:`{${n}}`}),Ya=(e,t)=>{const r=encodeURIComponent(t);window.open(`https://wa.me/${e}?text=${r}`,"_blank")},kP={async sendCredentials(e){try{const{data:t,error:r}=await ee.rpc("get_reseller_by_id",{reseller_id:e});if(r)throw new Error("No tienes permisos para leer los datos del revendedor o hubo un error de conexión.");if(!t)throw new Error("Revendedor no encontrado");if(!t.phone)throw new Error("El revendedor no tiene teléfono registrado.");if(!t.email)throw new Error("El revendedor no tiene correo registrado.");if(!t.plan_end_date)throw new Error("El revendedor no tiene fecha de vencimiento.");const o=(await er.getAll()).find(a=>a.name==="Mensaje de Bienvenida");if(!o)throw new Error("Plantilla de bienvenida no encontrada");const s=Ts(o.content,{cliente:t.full_name||"",plataforma:t.plan_type||"",usuario:t.email||"",contraseña:t.password||"",fecha_fin:t.plan_end_date?new Date(t.plan_end_date).toLocaleDateString():""});if(s.includes("{"))throw new Error("Faltan datos para completar el mensaje. Revisa los datos del revendedor.");Ya(t.phone,s)}catch(t){throw console.error("Error al enviar credenciales:",t),t instanceof Error?t:new Error("Error desconocido al enviar credenciales")}},async sendReminder(e){try{const{data:t,error:r}=await ee.rpc("get_reseller_by_id",{reseller_id:e});if(r)throw new Error("No tienes permisos para leer los datos del revendedor o hubo un error de conexión.");if(!t)throw new Error("Revendedor no encontrado");if(!t.phone)throw new Error("El revendedor no tiene teléfono registrado.");if(!t.plan_end_date)throw new Error("El revendedor no tiene fecha de vencimiento.");if(!t.full_name)throw new Error("El revendedor no tiene nombre registrado.");const o=(await er.getAll()).find(u=>u.name==="Recordatorio de Vencimiento");if(!o)throw new Error("Plantilla de recordatorio no encontrada");const s=new Date(t.plan_end_date),a=new Date,i=Math.ceil((s.getTime()-a.getTime())/(1e3*60*60*24)),c=Ts(o.content,{cliente:t.full_name||"",plataforma:t.plan_type||"",dias_restantes:`${i} días`,fecha_fin:s.toLocaleDateString()});if(c.includes("{"))throw new Error("Faltan datos para completar el mensaje. Revisa los datos del revendedor.");Ya(t.phone,c)}catch(t){throw console.error("Error al enviar recordatorio:",t),t instanceof Error?t:new Error("Error desconocido al enviar recordatorio")}},async renew(e,t){try{console.log("Renovando plan de revendedor con RPC:",{id:e,months:t});const{data:r,error:n}=await ee.rpc("renew_plan",{reseller_id:e,months:t});if(n)throw console.error("Error al renovar plan con RPC:",n),n;if(!r)throw new Error("No se pudo renovar el plan");return console.log("Plan renovado correctamente"),await an.getById(e)}catch(r){throw console.error("Error en el proceso de renovación de plan:",r),r}}};function Wh(e){const t=e+"CollectionProvider",[r,n]=Io(t),[o,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:w,children:y}=x,m=Y.useRef(null),v=Y.useRef(new Map).current;return l.jsx(o,{scope:w,itemMap:v,collectionRef:m,children:y})};a.displayName=t;const i=e+"CollectionSlot",c=ko(i),u=Y.forwardRef((x,w)=>{const{scope:y,children:m}=x,v=s(i,y),_=Be(w,v.collectionRef);return l.jsx(c,{ref:_,children:m})});u.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=ko(d),g=Y.forwardRef((x,w)=>{const{scope:y,children:m,...v}=x,_=Y.useRef(null),S=Be(w,_),T=s(d,y);return Y.useEffect(()=>(T.itemMap.set(_,{ref:_,...v}),()=>void T.itemMap.delete(_))),l.jsx(h,{[f]:"",ref:S,children:m})});g.displayName=d;function b(x){const w=s(e+"CollectionConsumer",x);return Y.useCallback(()=>{const m=w.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((T,N)=>v.indexOf(T.ref.current)-v.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},b,n]}var NP=p.createContext(void 0);function Gh(e){const t=p.useContext(NP);return e||t||"ltr"}const RP=["top","right","bottom","left"],Zn=Math.min,Zt=Math.max,Jl=Math.round,tl=Math.floor,Gr=e=>({x:e,y:e}),PP={left:"right",right:"left",bottom:"top",top:"bottom"},TP={start:"end",end:"start"};function df(e,t,r){return Zt(e,Zn(t,r))}function bn(e,t){return typeof e=="function"?e(t):e}function _n(e){return e.split("-")[0]}function Hs(e){return e.split("-")[1]}function qh(e){return e==="x"?"y":"x"}function Kh(e){return e==="y"?"height":"width"}function pn(e){return["top","bottom"].includes(_n(e))?"y":"x"}function Yh(e){return qh(pn(e))}function AP(e,t,r){r===void 0&&(r=!1);const n=Hs(e),o=Yh(e),s=Kh(o);let a=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Ql(a)),[a,Ql(a)]}function OP(e){const t=Ql(e);return[ff(e),t,ff(t)]}function ff(e){return e.replace(/start|end/g,t=>TP[t])}function DP(e,t,r){const n=["left","right"],o=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?s:a;default:return[]}}function IP(e,t,r,n){const o=Hs(e);let s=DP(_n(e),r==="start",n);return o&&(s=s.map(a=>a+"-"+o),t&&(s=s.concat(s.map(ff)))),s}function Ql(e){return e.replace(/left|right|bottom|top/g,t=>PP[t])}function MP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ix(e){return typeof e!="number"?MP(e):{top:e,right:e,bottom:e,left:e}}function Xl(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function wg(e,t,r){let{reference:n,floating:o}=e;const s=pn(t),a=Yh(t),i=Kh(a),c=_n(t),u=s==="y",d=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2,h=n[i]/2-o[i]/2;let g;switch(c){case"top":g={x:d,y:n.y-o.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-o.width,y:f};break;default:g={x:n.x,y:n.y}}switch(Hs(t)){case"start":g[a]-=h*(r&&u?-1:1);break;case"end":g[a]+=h*(r&&u?-1:1);break}return g}const LP=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:s=[],platform:a}=r,i=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=wg(u,n,c),h=n,g={},b=0;for(let x=0;x<i.length;x++){const{name:w,fn:y}=i[x],{x:m,y:v,data:_,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:o,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});d=m??d,f=v??f,g={...g,[w]:{...g[w],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:d,y:f}=wg(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:o,middlewareData:g}};async function Ja(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:s,rects:a,elements:i,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=bn(t,e),b=Ix(g),w=i[h?f==="floating"?"reference":"floating":f],y=Xl(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:c})),m=f==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),_=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},S=Xl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:m,offsetParent:v,strategy:c}):m);return{top:(y.top-S.top+b.top)/_.y,bottom:(S.bottom-y.bottom+b.bottom)/_.y,left:(y.left-S.left+b.left)/_.x,right:(S.right-y.right+b.right)/_.x}}const $P=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:s,platform:a,elements:i,middlewareData:c}=t,{element:u,padding:d=0}=bn(e,t)||{};if(u==null)return{};const f=Ix(d),h={x:r,y:n},g=Yh(o),b=Kh(g),x=await a.getDimensions(u),w=g==="y",y=w?"top":"left",m=w?"bottom":"right",v=w?"clientHeight":"clientWidth",_=s.reference[b]+s.reference[g]-h[g]-s.floating[b],S=h[g]-s.reference[g],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=T?T[v]:0;(!N||!await(a.isElement==null?void 0:a.isElement(T)))&&(N=i.floating[v]||s.floating[b]);const R=_/2-S/2,F=N/2-x[b]/2-1,D=Zn(f[y],F),Q=Zn(f[m],F),K=D,W=N-x[b]-Q,z=N/2-x[b]/2+R,I=df(K,z,W),A=!c.arrow&&Hs(o)!=null&&z!==I&&s.reference[b]/2-(z<K?D:Q)-x[b]/2<0,V=A?z<K?z-K:z-W:0;return{[g]:h[g]+V,data:{[g]:I,centerOffset:z-I-V,...A&&{alignmentOffset:V}},reset:A}}}),FP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:s,rects:a,initialPlacement:i,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...w}=bn(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=_n(o),m=pn(i),v=_n(i)===i,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(v||!x?[Ql(i)]:OP(i)),T=b!=="none";!h&&T&&S.push(...IP(i,x,b,_));const N=[i,...S],R=await Ja(t,w),F=[];let D=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&F.push(R[y]),f){const I=AP(o,a,_);F.push(R[I[0]],R[I[1]])}if(D=[...D,{placement:o,overflows:F}],!F.every(I=>I<=0)){var Q,K;const I=(((Q=s.flip)==null?void 0:Q.index)||0)+1,A=N[I];if(A){var W;const C=f==="alignment"?m!==pn(A):!1,k=((W=D[0])==null?void 0:W.overflows[0])>0;if(!C||k)return{data:{index:I,overflows:D},reset:{placement:A}}}let V=(K=D.filter(C=>C.overflows[0]<=0).sort((C,k)=>C.overflows[1]-k.overflows[1])[0])==null?void 0:K.placement;if(!V)switch(g){case"bestFit":{var z;const C=(z=D.filter(k=>{if(T){const P=pn(k.placement);return P===m||P==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(P=>P>0).reduce((P,O)=>P+O,0)]).sort((k,P)=>k[1]-P[1])[0])==null?void 0:z[0];C&&(V=C);break}case"initialPlacement":V=i;break}if(o!==V)return{reset:{placement:V}}}return{}}}};function bg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _g(e){return RP.some(t=>e[t]>=0)}const zP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=bn(e,t);switch(n){case"referenceHidden":{const s=await Ja(t,{...o,elementContext:"reference"}),a=bg(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:_g(a)}}}case"escaped":{const s=await Ja(t,{...o,altBoundary:!0}),a=bg(s,r.floating);return{data:{escapedOffsets:a,escaped:_g(a)}}}default:return{}}}}};async function UP(e,t){const{placement:r,platform:n,elements:o}=e,s=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=_n(r),i=Hs(r),c=pn(r)==="y",u=["left","top"].includes(a)?-1:1,d=s&&c?-1:1,f=bn(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof b=="number"&&(g=i==="end"?b*-1:b),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const BP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:s,placement:a,middlewareData:i}=t,c=await UP(t,e);return a===((r=i.offset)==null?void 0:r.placement)&&(n=i.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:a}}}}},VP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:i={fn:w=>{let{x:y,y:m}=w;return{x:y,y:m}}},...c}=bn(e,t),u={x:r,y:n},d=await Ja(t,c),f=pn(_n(o)),h=qh(f);let g=u[h],b=u[f];if(s){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",m=g+d[w],v=g-d[y];g=df(m,g,v)}if(a){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",m=b+d[w],v=b-d[y];b=df(m,b,v)}const x=i.fn({...t,[h]:g,[f]:b});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:s,[f]:a}}}}}},HP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:s,middlewareData:a}=t,{offset:i=0,mainAxis:c=!0,crossAxis:u=!0}=bn(e,t),d={x:r,y:n},f=pn(o),h=qh(f);let g=d[h],b=d[f];const x=bn(i,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=h==="y"?"height":"width",_=s.reference[h]-s.floating[v]+w.mainAxis,S=s.reference[h]+s.reference[v]-w.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var y,m;const v=h==="y"?"width":"height",_=["top","left"].includes(_n(o)),S=s.reference[f]-s.floating[v]+(_&&((y=a.offset)==null?void 0:y[f])||0)+(_?0:w.crossAxis),T=s.reference[f]+s.reference[v]+(_?0:((m=a.offset)==null?void 0:m[f])||0)-(_?w.crossAxis:0);b<S?b=S:b>T&&(b=T)}return{[h]:g,[f]:b}}}},WP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:s,platform:a,elements:i}=t,{apply:c=()=>{},...u}=bn(e,t),d=await Ja(t,u),f=_n(o),h=Hs(o),g=pn(o)==="y",{width:b,height:x}=s.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=h===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(y=f,w=h==="end"?"top":"bottom");const m=x-d.top-d.bottom,v=b-d.left-d.right,_=Zn(x-d[w],m),S=Zn(b-d[y],v),T=!t.middlewareData.shift;let N=_,R=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=m),T&&!h){const D=Zt(d.left,0),Q=Zt(d.right,0),K=Zt(d.top,0),W=Zt(d.bottom,0);g?R=b-2*(D!==0||Q!==0?D+Q:Zt(d.left,d.right)):N=x-2*(K!==0||W!==0?K+W:Zt(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:N});const F=await a.getDimensions(i.floating);return b!==F.width||x!==F.height?{reset:{rects:!0}}:{}}}};function Fc(){return typeof window<"u"}function Ws(e){return Mx(e)?(e.nodeName||"").toLowerCase():"#document"}function nr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(Mx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Mx(e){return Fc()?e instanceof Node||e instanceof nr(e).Node:!1}function Rr(e){return Fc()?e instanceof Element||e instanceof nr(e).Element:!1}function Kr(e){return Fc()?e instanceof HTMLElement||e instanceof nr(e).HTMLElement:!1}function Sg(e){return!Fc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nr(e).ShadowRoot}function di(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function GP(e){return["table","td","th"].includes(Ws(e))}function zc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Jh(e){const t=Qh(),r=Rr(e)?Pr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function qP(e){let t=eo(e);for(;Kr(t)&&!As(t);){if(Jh(t))return t;if(zc(t))return null;t=eo(t)}return null}function Qh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function As(e){return["html","body","#document"].includes(Ws(e))}function Pr(e){return nr(e).getComputedStyle(e)}function Uc(e){return Rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eo(e){if(Ws(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Sg(e)&&e.host||Jr(e);return Sg(t)?t.host:t}function Lx(e){const t=eo(e);return As(t)?e.ownerDocument?e.ownerDocument.body:e.body:Kr(t)&&di(t)?t:Lx(t)}function Qa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=Lx(e),s=o===((n=e.ownerDocument)==null?void 0:n.body),a=nr(o);if(s){const i=hf(a);return t.concat(a,a.visualViewport||[],di(o)?o:[],i&&r?Qa(i):[])}return t.concat(o,Qa(o,[],r))}function hf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $x(e){const t=Pr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Kr(e),s=o?e.offsetWidth:r,a=o?e.offsetHeight:n,i=Jl(r)!==s||Jl(n)!==a;return i&&(r=s,n=a),{width:r,height:n,$:i}}function Xh(e){return Rr(e)?e:e.contextElement}function bs(e){const t=Xh(e);if(!Kr(t))return Gr(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:s}=$x(t);let a=(s?Jl(r.width):r.width)/n,i=(s?Jl(r.height):r.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const KP=Gr(0);function Fx(e){const t=nr(e);return!Qh()||!t.visualViewport?KP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==nr(e)?!1:t}function Ro(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),s=Xh(e);let a=Gr(1);t&&(n?Rr(n)&&(a=bs(n)):a=bs(e));const i=YP(s,r,n)?Fx(s):Gr(0);let c=(o.left+i.x)/a.x,u=(o.top+i.y)/a.y,d=o.width/a.x,f=o.height/a.y;if(s){const h=nr(s),g=n&&Rr(n)?nr(n):n;let b=h,x=hf(b);for(;x&&n&&g!==b;){const w=bs(x),y=x.getBoundingClientRect(),m=Pr(x),v=y.left+(x.clientLeft+parseFloat(m.paddingLeft))*w.x,_=y.top+(x.clientTop+parseFloat(m.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=v,u+=_,b=nr(x),x=hf(b)}}return Xl({width:d,height:f,x:c,y:u})}function Zh(e,t){const r=Uc(e).scrollLeft;return t?t.left+r:Ro(Jr(e)).left+r}function zx(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:Zh(e,n)),s=n.top+t.scrollTop;return{x:o,y:s}}function JP(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const s=o==="fixed",a=Jr(n),i=t?zc(t.floating):!1;if(n===a||i&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Gr(1);const d=Gr(0),f=Kr(n);if((f||!f&&!s)&&((Ws(n)!=="body"||di(a))&&(c=Uc(n)),Kr(n))){const g=Ro(n);u=bs(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=a&&!f&&!s?zx(a,c,!0):Gr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function QP(e){return Array.from(e.getClientRects())}function XP(e){const t=Jr(e),r=Uc(e),n=e.ownerDocument.body,o=Zt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Zt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Zh(e);const i=-r.scrollTop;return Pr(n).direction==="rtl"&&(a+=Zt(t.clientWidth,n.clientWidth)-o),{width:o,height:s,x:a,y:i}}function ZP(e,t){const r=nr(e),n=Jr(e),o=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,i=0,c=0;if(o){s=o.width,a=o.height;const u=Qh();(!u||u&&t==="fixed")&&(i=o.offsetLeft,c=o.offsetTop)}return{width:s,height:a,x:i,y:c}}function eT(e,t){const r=Ro(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,s=Kr(e)?bs(e):Gr(1),a=e.clientWidth*s.x,i=e.clientHeight*s.y,c=o*s.x,u=n*s.y;return{width:a,height:i,x:c,y:u}}function Cg(e,t,r){let n;if(t==="viewport")n=ZP(e,r);else if(t==="document")n=XP(Jr(e));else if(Rr(t))n=eT(t,r);else{const o=Fx(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Xl(n)}function Ux(e,t){const r=eo(e);return r===t||!Rr(r)||As(r)?!1:Pr(r).position==="fixed"||Ux(r,t)}function tT(e,t){const r=t.get(e);if(r)return r;let n=Qa(e,[],!1).filter(i=>Rr(i)&&Ws(i)!=="body"),o=null;const s=Pr(e).position==="fixed";let a=s?eo(e):e;for(;Rr(a)&&!As(a);){const i=Pr(a),c=Jh(a);!c&&i.position==="fixed"&&(o=null),(s?!c&&!o:!c&&i.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||di(a)&&!c&&Ux(e,a))?n=n.filter(d=>d!==a):o=i,a=eo(a)}return t.set(e,n),n}function rT(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const a=[...r==="clippingAncestors"?zc(t)?[]:tT(t,this._c):[].concat(r),n],i=a[0],c=a.reduce((u,d)=>{const f=Cg(t,d,o);return u.top=Zt(f.top,u.top),u.right=Zn(f.right,u.right),u.bottom=Zn(f.bottom,u.bottom),u.left=Zt(f.left,u.left),u},Cg(t,i,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nT(e){const{width:t,height:r}=$x(e);return{width:t,height:r}}function oT(e,t,r){const n=Kr(t),o=Jr(t),s=r==="fixed",a=Ro(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const c=Gr(0);function u(){c.x=Zh(o)}if(n||!n&&!s)if((Ws(t)!=="body"||di(o))&&(i=Uc(t)),n){const g=Ro(t,!0,s,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else o&&u();s&&!n&&o&&u();const d=o&&!n&&!s?zx(o,i):Gr(0),f=a.left+i.scrollLeft-c.x-d.x,h=a.top+i.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function qu(e){return Pr(e).position==="static"}function Eg(e,t){if(!Kr(e)||Pr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Jr(e)===r&&(r=r.ownerDocument.body),r}function Bx(e,t){const r=nr(e);if(zc(e))return r;if(!Kr(e)){let o=eo(e);for(;o&&!As(o);){if(Rr(o)&&!qu(o))return o;o=eo(o)}return r}let n=Eg(e,t);for(;n&&GP(n)&&qu(n);)n=Eg(n,t);return n&&As(n)&&qu(n)&&!Jh(n)?r:n||qP(e)||r}const sT=async function(e){const t=this.getOffsetParent||Bx,r=this.getDimensions,n=await r(e.floating);return{reference:oT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aT(e){return Pr(e).direction==="rtl"}const iT={convertOffsetParentRelativeRectToViewportRelativeRect:JP,getDocumentElement:Jr,getClippingRect:rT,getOffsetParent:Bx,getElementRects:sT,getClientRects:QP,getDimensions:nT,getScale:bs,isElement:Rr,isRTL:aT};function Vx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lT(e,t){let r=null,n;const o=Jr(e);function s(){var i;clearTimeout(n),(i=r)==null||i.disconnect(),r=null}function a(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(i||t(),!h||!g)return;const b=tl(f),x=tl(o.clientWidth-(d+h)),w=tl(o.clientHeight-(f+g)),y=tl(d),v={rootMargin:-b+"px "+-x+"px "+-w+"px "+-y+"px",threshold:Zt(0,Zn(1,c))||1};let _=!0;function S(T){const N=T[0].intersectionRatio;if(N!==c){if(!_)return a();N?a(!1,N):n=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!Vx(u,e.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(S,{...v,root:o.ownerDocument})}catch{r=new IntersectionObserver(S,v)}r.observe(e)}return a(!0),s}function cT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Xh(e),d=o||s?[...u?Qa(u):[],...Qa(t)]:[];d.forEach(y=>{o&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&i?lT(u,r):null;let h=-1,g=null;a&&(g=new ResizeObserver(y=>{let[m]=y;m&&m.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let b,x=c?Ro(e):null;c&&w();function w(){const y=Ro(e);x&&!Vx(x,y)&&r(),x=y,b=requestAnimationFrame(w)}return r(),()=>{var y;d.forEach(m=>{o&&m.removeEventListener("scroll",r),s&&m.removeEventListener("resize",r)}),f==null||f(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const uT=BP,dT=VP,fT=FP,hT=WP,pT=zP,jg=$P,mT=HP,gT=(e,t,r)=>{const n=new Map,o={platform:iT,...r},s={...o.platform,_c:n};return LP(e,t,{...o,platform:s})};var yl=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Zl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Zl(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const s=o[n];if(!(s==="_owner"&&e.$$typeof)&&!Zl(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Hx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kg(e,t){const r=Hx(e);return Math.round(t*r)/r}function Ku(e){const t=p.useRef(e);return yl(()=>{t.current=e}),t}function vT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:s,floating:a}={},transform:i=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=p.useState(n);Zl(h,n)||g(n);const[b,x]=p.useState(null),[w,y]=p.useState(null),m=p.useCallback(C=>{C!==T.current&&(T.current=C,x(C))},[]),v=p.useCallback(C=>{C!==N.current&&(N.current=C,y(C))},[]),_=s||b,S=a||w,T=p.useRef(null),N=p.useRef(null),R=p.useRef(d),F=c!=null,D=Ku(c),Q=Ku(o),K=Ku(u),W=p.useCallback(()=>{if(!T.current||!N.current)return;const C={placement:t,strategy:r,middleware:h};Q.current&&(C.platform=Q.current),gT(T.current,N.current,C).then(k=>{const P={...k,isPositioned:K.current!==!1};z.current&&!Zl(R.current,P)&&(R.current=P,Ms.flushSync(()=>{f(P)}))})},[h,t,r,Q,K]);yl(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const z=p.useRef(!1);yl(()=>(z.current=!0,()=>{z.current=!1}),[]),yl(()=>{if(_&&(T.current=_),S&&(N.current=S),_&&S){if(D.current)return D.current(_,S,W);W()}},[_,S,W,D,F]);const I=p.useMemo(()=>({reference:T,floating:N,setReference:m,setFloating:v}),[m,v]),A=p.useMemo(()=>({reference:_,floating:S}),[_,S]),V=p.useMemo(()=>{const C={position:r,left:0,top:0};if(!A.floating)return C;const k=kg(A.floating,d.x),P=kg(A.floating,d.y);return i?{...C,transform:"translate("+k+"px, "+P+"px)",...Hx(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:k,top:P}},[r,i,A.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:W,refs:I,elements:A,floatingStyles:V}),[d,W,I,A,V])}const yT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?jg({element:n.current,padding:o}).fn(r):{}:n?jg({element:n,padding:o}).fn(r):{}}}},xT=(e,t)=>({...uT(e),options:[e,t]}),wT=(e,t)=>({...dT(e),options:[e,t]}),bT=(e,t)=>({...mT(e),options:[e,t]}),_T=(e,t)=>({...fT(e),options:[e,t]}),ST=(e,t)=>({...hT(e),options:[e,t]}),CT=(e,t)=>({...pT(e),options:[e,t]}),ET=(e,t)=>({...yT(e),options:[e,t]});var jT="Arrow",Wx=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...s}=e;return l.jsx(Oe.svg,{...s,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wx.displayName=jT;var kT=Wx;function NT(e){const[t,r]=p.useState(void 0);return At(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let a,i;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,i=u.blockSize}else a=e.offsetWidth,i=e.offsetHeight;r({width:a,height:i})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ep="Popper",[Gx,Bc]=Io(ep),[RT,qx]=Gx(ep),Kx=e=>{const{__scopePopper:t,children:r}=e,[n,o]=p.useState(null);return l.jsx(RT,{scope:t,anchor:n,onAnchorChange:o,children:r})};Kx.displayName=ep;var Yx="PopperAnchor",Jx=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,s=qx(Yx,r),a=p.useRef(null),i=Be(t,a);return p.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:l.jsx(Oe.div,{...o,ref:i})});Jx.displayName=Yx;var tp="PopperContent",[PT,TT]=Gx(tp),Qx=p.forwardRef((e,t)=>{var B,te,le,ae,he,fe;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:s="center",alignOffset:a=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:b,...x}=e,w=qx(tp,r),[y,m]=p.useState(null),v=Be(t,Te=>m(Te)),[_,S]=p.useState(null),T=NT(_),N=(T==null?void 0:T.width)??0,R=(T==null?void 0:T.height)??0,F=n+(s!=="center"?"-"+s:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Q=Array.isArray(u)?u:[u],K=Q.length>0,W={padding:D,boundary:Q.filter(OT),altBoundary:K},{refs:z,floatingStyles:I,placement:A,isPositioned:V,middlewareData:C}=vT({strategy:"fixed",placement:F,whileElementsMounted:(...Te)=>cT(...Te,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[xT({mainAxis:o+R,alignmentAxis:a}),c&&wT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bT():void 0,...W}),c&&_T({...W}),ST({...W,apply:({elements:Te,rects:ke,availableWidth:L,availableHeight:H})=>{const{width:re,height:xe}=ke.reference,ce=Te.floating.style;ce.setProperty("--radix-popper-available-width",`${L}px`),ce.setProperty("--radix-popper-available-height",`${H}px`),ce.setProperty("--radix-popper-anchor-width",`${re}px`),ce.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),_&&ET({element:_,padding:i}),DT({arrowWidth:N,arrowHeight:R}),h&&CT({strategy:"referenceHidden",...W})]}),[k,P]=ew(A),O=qr(b);At(()=>{V&&(O==null||O())},[V,O]);const U=(B=C.arrow)==null?void 0:B.x,q=(te=C.arrow)==null?void 0:te.y,$=((le=C.arrow)==null?void 0:le.centerOffset)!==0,[E,Z]=p.useState();return At(()=>{y&&Z(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:V?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(ae=C.transformOrigin)==null?void 0:ae.x,(he=C.transformOrigin)==null?void 0:he.y].join(" "),...((fe=C.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(PT,{scope:r,placedSide:k,onArrowChange:S,arrowX:U,arrowY:q,shouldHideArrow:$,children:l.jsx(Oe.div,{"data-side":k,"data-align":P,...x,ref:v,style:{...x.style,animation:V?void 0:"none"}})})})});Qx.displayName=tp;var Xx="PopperArrow",AT={top:"bottom",right:"left",bottom:"top",left:"right"},Zx=p.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,s=TT(Xx,n),a=AT[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(kT,{...o,ref:r,style:{...o.style,display:"block"}})})});Zx.displayName=Xx;function OT(e){return e!==null}var DT=e=>({name:"transformOrigin",options:e,fn(t){var w,y,m;const{placement:r,rects:n,middlewareData:o}=t,a=((w=o.arrow)==null?void 0:w.centerOffset)!==0,i=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=ew(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=o.arrow)==null?void 0:y.x)??0)+i/2,g=(((m=o.arrow)==null?void 0:m.y)??0)+c/2;let b="",x="";return u==="bottom"?(b=a?f:`${h}px`,x=`${-c}px`):u==="top"?(b=a?f:`${h}px`,x=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,x=a?f:`${g}px`):u==="left"&&(b=`${n.floating.width+c}px`,x=a?f:`${g}px`),{data:{x:b,y:x}}}});function ew(e){const[t,r="center"]=e.split("-");return[t,r]}var tw=Kx,rw=Jx,nw=Qx,ow=Zx,Yu="rovingFocusGroup.onEntryFocus",IT={bubbles:!1,cancelable:!0},fi="RovingFocusGroup",[pf,sw,MT]=Wh(fi),[LT,aw]=Io(fi,[MT]),[$T,FT]=LT(fi),iw=p.forwardRef((e,t)=>l.jsx(pf.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(pf.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(zT,{...e,ref:t})})}));iw.displayName=fi;var zT=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),g=Be(t,h),b=Gh(s),[x,w]=Ka({prop:a,defaultProp:i??null,onChange:c,caller:fi}),[y,m]=p.useState(!1),v=qr(u),_=sw(r),S=p.useRef(!1),[T,N]=p.useState(0);return p.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Yu,v),()=>R.removeEventListener(Yu,v)},[v]),l.jsx($T,{scope:r,orientation:n,dir:b,loop:o,currentTabStopId:x,onItemFocus:p.useCallback(R=>w(R),[w]),onItemShiftTab:p.useCallback(()=>m(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(R=>R+1),[]),onFocusableItemRemove:p.useCallback(()=>N(R=>R-1),[]),children:l.jsx(Oe.div,{tabIndex:y||T===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{S.current=!0}),onFocus:me(e.onFocus,R=>{const F=!S.current;if(R.target===R.currentTarget&&F&&!y){const D=new CustomEvent(Yu,IT);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const Q=_().filter(A=>A.focusable),K=Q.find(A=>A.active),W=Q.find(A=>A.id===x),I=[K,W,...Q].filter(Boolean).map(A=>A.ref.current);uw(I,d)}}S.current=!1}),onBlur:me(e.onBlur,()=>m(!1))})})}),lw="RovingFocusGroupItem",cw=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:s,children:a,...i}=e,c=hn(),u=s||c,d=FT(lw,r),f=d.currentTabStopId===u,h=sw(r),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:x}=d;return p.useEffect(()=>{if(n)return g(),()=>b()},[n,g,b]),l.jsx(pf.ItemSlot,{scope:r,id:u,focusable:n,active:o,children:l.jsx(Oe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:me(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:me(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:me(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=VT(w,d.orientation,d.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const _=v.indexOf(w.currentTarget);v=d.loop?HT(v,_+1):v.slice(_+1)}setTimeout(()=>uw(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});cw.displayName=lw;var UT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BT(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function VT(e,t,r){const n=BT(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return UT[n]}function uw(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function HT(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var WT=iw,GT=cw,mf=["Enter"," "],qT=["ArrowDown","PageUp","Home"],dw=["ArrowUp","PageDown","End"],KT=[...qT,...dw],YT={ltr:[...mf,"ArrowRight"],rtl:[...mf,"ArrowLeft"]},JT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hi="Menu",[Xa,QT,XT]=Wh(hi),[Mo,fw]=Io(hi,[XT,Bc,aw]),Vc=Bc(),hw=aw(),[ZT,Lo]=Mo(hi),[e4,pi]=Mo(hi),pw=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:s,modal:a=!0}=e,i=Vc(t),[c,u]=p.useState(null),d=p.useRef(!1),f=qr(s),h=Gh(o);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),l.jsx(tw,{...i,children:l.jsx(ZT,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(e4,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:n})})})};pw.displayName=hi;var t4="MenuAnchor",rp=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Vc(r);return l.jsx(rw,{...o,...n,ref:t})});rp.displayName=t4;var np="MenuPortal",[r4,mw]=Mo(np,{forceMount:void 0}),gw=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,s=Lo(np,t);return l.jsx(r4,{scope:t,forceMount:r,children:l.jsx(so,{present:r||s.open,children:l.jsx(Oc,{asChild:!0,container:o,children:n})})})};gw.displayName=np;var fr="MenuContent",[n4,op]=Mo(fr),vw=p.forwardRef((e,t)=>{const r=mw(fr,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,s=Lo(fr,e.__scopeMenu),a=pi(fr,e.__scopeMenu);return l.jsx(Xa.Provider,{scope:e.__scopeMenu,children:l.jsx(so,{present:n||s.open,children:l.jsx(Xa.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(o4,{...o,ref:t}):l.jsx(s4,{...o,ref:t})})})})}),o4=p.forwardRef((e,t)=>{const r=Lo(fr,e.__scopeMenu),n=p.useRef(null),o=Be(t,n);return p.useEffect(()=>{const s=n.current;if(s)return Ph(s)},[]),l.jsx(sp,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),s4=p.forwardRef((e,t)=>{const r=Lo(fr,e.__scopeMenu);return l.jsx(sp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),a4=ko("MenuContent.ScrollLock"),sp=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:b,...x}=e,w=Lo(fr,r),y=pi(fr,r),m=Vc(r),v=hw(r),_=QT(r),[S,T]=p.useState(null),N=p.useRef(null),R=Be(t,N,w.onContentChange),F=p.useRef(0),D=p.useRef(""),Q=p.useRef(0),K=p.useRef(null),W=p.useRef("right"),z=p.useRef(0),I=b?Ic:p.Fragment,A=b?{as:a4,allowPinchZoom:!0}:void 0,V=k=>{var B,te;const P=D.current+k,O=_().filter(le=>!le.disabled),U=document.activeElement,q=(B=O.find(le=>le.ref.current===U))==null?void 0:B.textValue,$=O.map(le=>le.textValue),E=y4($,P,q),Z=(te=O.find(le=>le.textValue===E))==null?void 0:te.ref.current;(function le(ae){D.current=ae,window.clearTimeout(F.current),ae!==""&&(F.current=window.setTimeout(()=>le(""),1e3))})(P),Z&&setTimeout(()=>Z.focus())};p.useEffect(()=>()=>window.clearTimeout(F.current),[]),Rh();const C=p.useCallback(k=>{var O,U;return W.current===((O=K.current)==null?void 0:O.side)&&w4(k,(U=K.current)==null?void 0:U.area)},[]);return l.jsx(n4,{scope:r,searchRef:D,onItemEnter:p.useCallback(k=>{C(k)&&k.preventDefault()},[C]),onItemLeave:p.useCallback(k=>{var P;C(k)||((P=N.current)==null||P.focus(),T(null))},[C]),onTriggerLeave:p.useCallback(k=>{C(k)&&k.preventDefault()},[C]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:p.useCallback(k=>{K.current=k},[]),children:l.jsx(I,{...A,children:l.jsx(Ac,{asChild:!0,trapped:o,onMountAutoFocus:me(s,k=>{var P;k.preventDefault(),(P=N.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:l.jsx(WT,{asChild:!0,...v,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:T,onEntryFocus:me(c,k=>{y.isUsingKeyboardRef.current||k.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(nw,{role:"menu","aria-orientation":"vertical","data-state":Ow(w.open),"data-radix-menu-content":"",dir:y.dir,...m,...x,ref:R,style:{outline:"none",...x.style},onKeyDown:me(x.onKeyDown,k=>{const O=k.target.closest("[data-radix-menu-content]")===k.currentTarget,U=k.ctrlKey||k.altKey||k.metaKey,q=k.key.length===1;O&&(k.key==="Tab"&&k.preventDefault(),!U&&q&&V(k.key));const $=N.current;if(k.target!==$||!KT.includes(k.key))return;k.preventDefault();const Z=_().filter(B=>!B.disabled).map(B=>B.ref.current);dw.includes(k.key)&&Z.reverse(),g4(Z)}),onBlur:me(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(F.current),D.current="")}),onPointerMove:me(e.onPointerMove,Za(k=>{const P=k.target,O=z.current!==k.clientX;if(k.currentTarget.contains(P)&&O){const U=k.clientX>z.current?"right":"left";W.current=U,z.current=k.clientX}}))})})})})})})});vw.displayName=fr;var i4="MenuGroup",ap=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Oe.div,{role:"group",...n,ref:t})});ap.displayName=i4;var l4="MenuLabel",yw=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Oe.div,{...n,ref:t})});yw.displayName=l4;var ec="MenuItem",Ng="menu.itemSelect",Hc=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,s=p.useRef(null),a=pi(ec,e.__scopeMenu),i=op(ec,e.__scopeMenu),c=Be(t,s),u=p.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(Ng,{bubbles:!0,cancelable:!0});f.addEventListener(Ng,g=>n==null?void 0:n(g),{once:!0}),D0(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx(xw,{...o,ref:c,disabled:r,onClick:me(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:me(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:me(e.onKeyDown,f=>{const h=i.searchRef.current!=="";r||h&&f.key===" "||mf.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Hc.displayName=ec;var xw=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...s}=e,a=op(ec,r),i=hw(r),c=p.useRef(null),u=Be(t,c),[d,f]=p.useState(!1),[h,g]=p.useState("");return p.useEffect(()=>{const b=c.current;b&&g((b.textContent??"").trim())},[s.children]),l.jsx(Xa.ItemSlot,{scope:r,disabled:n,textValue:o??h,children:l.jsx(GT,{asChild:!0,...i,focusable:!n,children:l.jsx(Oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:me(e.onPointerMove,Za(b=>{n?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,Za(b=>a.onItemLeave(b))),onFocus:me(e.onFocus,()=>f(!0)),onBlur:me(e.onBlur,()=>f(!1))})})})}),c4="MenuCheckboxItem",ww=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return l.jsx(Ew,{scope:e.__scopeMenu,checked:r,children:l.jsx(Hc,{role:"menuitemcheckbox","aria-checked":tc(r)?"mixed":r,...o,ref:t,"data-state":lp(r),onSelect:me(o.onSelect,()=>n==null?void 0:n(tc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ww.displayName=c4;var bw="MenuRadioGroup",[u4,d4]=Mo(bw,{value:void 0,onValueChange:()=>{}}),_w=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,s=qr(n);return l.jsx(u4,{scope:e.__scopeMenu,value:r,onValueChange:s,children:l.jsx(ap,{...o,ref:t})})});_w.displayName=bw;var Sw="MenuRadioItem",Cw=p.forwardRef((e,t)=>{const{value:r,...n}=e,o=d4(Sw,e.__scopeMenu),s=r===o.value;return l.jsx(Ew,{scope:e.__scopeMenu,checked:s,children:l.jsx(Hc,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":lp(s),onSelect:me(n.onSelect,()=>{var a;return(a=o.onValueChange)==null?void 0:a.call(o,r)},{checkForDefaultPrevented:!1})})})});Cw.displayName=Sw;var ip="MenuItemIndicator",[Ew,f4]=Mo(ip,{checked:!1}),jw=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,s=f4(ip,r);return l.jsx(so,{present:n||tc(s.checked)||s.checked===!0,children:l.jsx(Oe.span,{...o,ref:t,"data-state":lp(s.checked)})})});jw.displayName=ip;var h4="MenuSeparator",kw=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});kw.displayName=h4;var p4="MenuArrow",Nw=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Vc(r);return l.jsx(ow,{...o,...n,ref:t})});Nw.displayName=p4;var m4="MenuSub",[A5,Rw]=Mo(m4),pa="MenuSubTrigger",Pw=p.forwardRef((e,t)=>{const r=Lo(pa,e.__scopeMenu),n=pi(pa,e.__scopeMenu),o=Rw(pa,e.__scopeMenu),s=op(pa,e.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),c(null)}},[i,c]),l.jsx(rp,{asChild:!0,...u,children:l.jsx(xw,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":Ow(r.open),...e,ref:Pc(t,o.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,Za(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:me(e.onPointerLeave,Za(f=>{var g,b;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const x=(b=r.content)==null?void 0:b.dataset.side,w=x==="right",y=w?-5:5,m=h[w?"left":"right"],v=h[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:m,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:m,y:h.bottom}],side:x}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,f=>{var g;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||YT[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});Pw.displayName=pa;var Tw="MenuSubContent",Aw=p.forwardRef((e,t)=>{const r=mw(fr,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,s=Lo(fr,e.__scopeMenu),a=pi(fr,e.__scopeMenu),i=Rw(Tw,e.__scopeMenu),c=p.useRef(null),u=Be(t,c);return l.jsx(Xa.Provider,{scope:e.__scopeMenu,children:l.jsx(so,{present:n||s.open,children:l.jsx(Xa.Slot,{scope:e.__scopeMenu,children:l.jsx(sp,{id:i.contentId,"aria-labelledby":i.triggerId,...o,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:me(e.onFocusOutside,d=>{d.target!==i.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:me(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=JT[a.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(g=i.trigger)==null||g.focus(),d.preventDefault())})})})})})});Aw.displayName=Tw;function Ow(e){return e?"open":"closed"}function tc(e){return e==="indeterminate"}function lp(e){return tc(e)?"indeterminate":e?"checked":"unchecked"}function g4(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function v4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function y4(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=v4(e,Math.max(s,0));o.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function x4(e,t){const{x:r,y:n}=e;let o=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const i=t[s],c=t[a],u=i.x,d=i.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(o=!o)}return o}function w4(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return x4(r,t)}function Za(e){return t=>t.pointerType==="mouse"?e(t):void 0}var b4=pw,_4=rp,S4=gw,C4=vw,E4=ap,j4=yw,k4=Hc,N4=ww,R4=_w,P4=Cw,T4=jw,A4=kw,O4=Nw,D4=Pw,I4=Aw,Wc="DropdownMenu",[M4,O5]=Io(Wc,[fw]),Ft=fw(),[L4,Dw]=M4(Wc),Iw=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,c=Ft(t),u=p.useRef(null),[d,f]=Ka({prop:o,defaultProp:s??!1,onChange:a,caller:Wc});return l.jsx(L4,{scope:t,triggerId:hn(),triggerRef:u,contentId:hn(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:i,children:l.jsx(b4,{...c,open:d,onOpenChange:f,dir:n,modal:i,children:r})})};Iw.displayName=Wc;var Mw="DropdownMenuTrigger",Lw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,s=Dw(Mw,r),a=Ft(r);return l.jsx(_4,{asChild:!0,...a,children:l.jsx(Oe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:Pc(t,s.triggerRef),onPointerDown:me(e.onPointerDown,i=>{!n&&i.button===0&&i.ctrlKey===!1&&(s.onOpenToggle(),s.open||i.preventDefault())}),onKeyDown:me(e.onKeyDown,i=>{n||(["Enter"," "].includes(i.key)&&s.onOpenToggle(),i.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});Lw.displayName=Mw;var $4="DropdownMenuPortal",$w=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ft(t);return l.jsx(S4,{...n,...r})};$w.displayName=$4;var Fw="DropdownMenuContent",zw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Dw(Fw,r),s=Ft(r),a=p.useRef(!1);return l.jsx(C4,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...n,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,i=>{var c;a.current||(c=o.triggerRef.current)==null||c.focus(),a.current=!1,i.preventDefault()}),onInteractOutside:me(e.onInteractOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!o.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zw.displayName=Fw;var F4="DropdownMenuGroup",z4=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(E4,{...o,...n,ref:t})});z4.displayName=F4;var U4="DropdownMenuLabel",Uw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(j4,{...o,...n,ref:t})});Uw.displayName=U4;var B4="DropdownMenuItem",Bw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(k4,{...o,...n,ref:t})});Bw.displayName=B4;var V4="DropdownMenuCheckboxItem",Vw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(N4,{...o,...n,ref:t})});Vw.displayName=V4;var H4="DropdownMenuRadioGroup",W4=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(R4,{...o,...n,ref:t})});W4.displayName=H4;var G4="DropdownMenuRadioItem",Hw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(P4,{...o,...n,ref:t})});Hw.displayName=G4;var q4="DropdownMenuItemIndicator",Ww=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(T4,{...o,...n,ref:t})});Ww.displayName=q4;var K4="DropdownMenuSeparator",Gw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(A4,{...o,...n,ref:t})});Gw.displayName=K4;var Y4="DropdownMenuArrow",J4=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(O4,{...o,...n,ref:t})});J4.displayName=Y4;var Q4="DropdownMenuSubTrigger",qw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(D4,{...o,...n,ref:t})});qw.displayName=Q4;var X4="DropdownMenuSubContent",Kw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return l.jsx(I4,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Kw.displayName=X4;var Z4=Iw,eA=Lw,tA=$w,Yw=zw,Jw=Uw,Qw=Bw,Xw=Vw,Zw=Hw,eb=Ww,tb=Gw,rb=qw,nb=Kw;const ob=Z4,sb=eA,rA=p.forwardRef(({className:e,inset:t,children:r,...n},o)=>l.jsxs(rb,{ref:o,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(uN,{className:"ml-auto h-4 w-4"})]}));rA.displayName=rb.displayName;const nA=p.forwardRef(({className:e,...t},r)=>l.jsx(nb,{ref:r,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));nA.displayName=nb.displayName;const cp=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(tA,{children:l.jsx(Yw,{ref:n,sideOffset:t,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));cp.displayName=Yw.displayName;const Cr=p.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(Qw,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Cr.displayName=Qw.displayName;const oA=p.forwardRef(({className:e,children:t,checked:r,...n},o)=>l.jsxs(Xw,{ref:o,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(eb,{children:l.jsx(Dh,{className:"h-4 w-4"})})}),t]}));oA.displayName=Xw.displayName;const sA=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Zw,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(eb,{children:l.jsx(gN,{className:"h-2 w-2 fill-current"})})}),t]}));sA.displayName=Zw.displayName;const aA=p.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(Jw,{ref:n,className:Me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));aA.displayName=Jw.displayName;const iA=p.forwardRef(({className:e,...t},r)=>l.jsx(tb,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));iA.displayName=tb.displayName;function lA({onEdit:e,onRenew:t,onSendCredentials:r,onSendReminder:n,onDelete:o}){return l.jsxs(ob,{children:[l.jsx(sb,{asChild:!0,children:l.jsx(it,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(hx,{className:"h-4 w-4"})})}),l.jsxs(cp,{align:"end",className:"w-[160px]",children:[l.jsxs(Cr,{onClick:e,className:"cursor-pointer",children:[l.jsx(Lc,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Editar"})]}),l.jsxs(Cr,{onClick:t,className:"cursor-pointer",children:[l.jsx(mx,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Renovar"})]}),l.jsxs(Cr,{onClick:r,className:"cursor-pointer",children:[l.jsx(Lh,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Enviar Credenciales"})]}),l.jsxs(Cr,{onClick:n,className:"cursor-pointer",children:[l.jsx(fx,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Enviar Recordatorio"})]}),l.jsxs(Cr,{onClick:o,className:"cursor-pointer text-red-500 focus:text-red-500 focus:bg-red-500/10",children:[l.jsx(ci,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Eliminar"})]})]})]})}function up({isOpen:e,onClose:t,onSelect:r,type:n}){const{user:o}=Yr(),[s,a]=p.useState([]),[i,c]=p.useState(!0);return p.useEffect(()=>{e&&(c(!0),er.getAll().then(u=>{const d=u.filter(f=>f.category===n);a(d)}).catch(u=>{console.error("Error al obtener plantillas:",u)}).finally(()=>c(!1)))},[e,n]),e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center",children:l.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 shadow-xl p-6 w-full max-w-md",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:["Selecciona plantilla de"," ",n==="credenciales"?"credenciales":"recordatorio"]}),i?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando plantillas..."}):s.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay plantillas disponibles."}):l.jsx("ul",{className:"space-y-2 mb-4 max-h-96 overflow-y-auto",children:s.map(u=>l.jsx(cA,{template:u,onSelect:r,onClose:t},u.id))}),l.jsx("div",{className:"flex justify-end",children:l.jsx(it,{variant:"outline",onClick:t,children:"Cancelar"})})]})}):null}function cA({template:e,onSelect:t,onClose:r}){const n=s=>{switch(s){case"credenciales":return l.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-500/20 text-green-400 rounded-full",children:"Credenciales"});case"recordatorio":return l.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-500/20 text-yellow-400 rounded-full",children:"Recordatorio"});default:return null}},o=e.name==="Mensaje de Bienvenida"||e.name==="Recordatorio de Vencimiento";return l.jsxs("li",{className:"border border-border/10 rounded px-3 py-2 flex items-center justify-between bg-background/60",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-sm text-foreground",children:e.name}),n(e.category),o&&l.jsx("span",{className:"px-2 py-0.5 text-xs bg-purple-500/20 text-purple-400 rounded-full",children:"Por defecto"})]}),l.jsx(it,{size:"sm",onClick:()=>{t(e),r()},children:"Usar"})]})}const uA=e=>{switch(e){case"active":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"inactive":case"expired":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},dA=e=>{switch(e){case"active":return"Activo";case"pending":return"Pendiente";case"inactive":return"Inactivo";case"expired":return"Vencido";default:return"Desconocido"}},fA=e=>{const t=new Date,r=new Date;r.setDate(t.getDate()+30);const n=e.length,o=e.filter(c=>c.status==="active").length,s=e.filter(c=>{if(!c.plan_end_date)return!1;const u=new Date(c.plan_end_date);return u>t&&u<=r&&c.status==="active"}).length,a=e.filter(c=>c.status==="expired").length,i=e.filter(c=>{var u;return(u=c.plan_type)==null?void 0:u.toLowerCase().includes("demo")}).length;return[{title:"Total Revendedores",value:n.toString(),Icon:Wr,color:"text-blue-400"},{title:"Activos",value:o.toString(),Icon:$c,color:"text-green-400"},{title:"Próximos a Vencer",value:s.toString(),Icon:wn,color:"text-yellow-400"},{title:"Vencidos",value:a.toString(),Icon:$h,color:"text-red-400"},{title:"Cuentas Demo",value:i.toString(),Icon:jN,color:"text-purple-400"}]},hA=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState([]),[o,s]=p.useState([]),[a,i]=p.useState(!0),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,g]=p.useState(null),[b,x]=p.useState(""),[w,y]=p.useState("all"),[m,v]=p.useState(!1),[_,S]=p.useState(null),[T,N]=p.useState(null),R=p.useMemo(()=>fA(r),[r]),F=p.useCallback(async()=>{try{i(!0);const C=await an.getAll();n(Array.isArray(C)?C:[])}catch(C){console.error("Error fetching resellers:",C),ne.error("Error al cargar los revendedores"),n([])}finally{i(!1)}},[]),D=p.useCallback(()=>{let C=[...r];b&&(C=C.filter(k=>{var P,O;return((P=k.full_name)==null?void 0:P.toLowerCase().includes(b.toLowerCase()))||((O=k.email)==null?void 0:O.toLowerCase().includes(b.toLowerCase()))})),w!=="all"&&(C=C.filter(k=>k.status===w)),s(C)},[r,b,w]),Q=p.useCallback(async()=>{await F()},[F]);p.useEffect(()=>{Q()},[]),p.useEffect(()=>{D()},[r,b,w]),p.useEffect(()=>{const C=ee.channel("custom-resellers-channel").on("postgres_changes",{event:"*",schema:"public",table:"resellers"},k=>{console.log("Cambio en tiempo real recibido en la tabla resellers:",k),ne.info("Actualizando lista de revendedores...",{duration:2e3}),F()}).subscribe((k,P)=>{k==="SUBSCRIBED"&&console.log("Conectado a Supabase Realtime para revendedores!"),k==="CHANNEL_ERROR"&&(console.error("Error en el canal de Supabase Realtime para revendedores:",P),ne.error("Error en la conexión de tiempo real para revendedores."))});return()=>{ee.removeChannel(C),console.log("Desconectado de Supabase Realtime para revendedores.")}},[F]);const K=p.useCallback(async C=>{try{await an.delete(C),ne.success("Revendedor eliminado exitosamente"),F()}catch(k){console.error("Error deleting reseller:",k);const P=k instanceof Error?k.message:"Error desconocido";ne.error(`Error al eliminar el revendedor: ${P}`)}},[F]),W=p.useCallback(C=>{N(C),S("credenciales"),v(!0)},[]),z=p.useCallback(C=>{N(C),S("recordatorio"),v(!0)},[]),I=p.useCallback(async C=>{try{if(c){const k={full_name:C.fullName,email:C.email,phone:C.phone,plan_type:C.plan,plan_end_date:C.endDate};await an.update(c.id,k),ne.success("Revendedor actualizado exitosamente")}else await an.createReseller({full_name:C.fullName,email:C.email,phone:C.phone,plan_type:C.plan,plan_end_date:C.endDate}),ne.success("Revendedor agregado exitosamente");t(!1),u(null),F()}catch(k){console.error("Error saving reseller:",k);const P=k instanceof Error?k.message:"Error desconocido";ne.error(`Error al guardar el revendedor: ${P}`)}},[c,F]),A=p.useCallback(C=>{u(C),t(!0)},[]),V=p.useCallback(C=>{g(C),f(!0)},[]);return l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Gestión de Revendedores"}),l.jsx("div",{className:"grid grid-cols-5 gap-4 mb-6",children:R.map((C,k)=>l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm text-muted-foreground",children:C.title}),l.jsx("p",{className:`text-2xl font-semibold mt-1 ${C.color}`,children:C.value})]}),l.jsx(C.Icon,{className:`w-5 h-5 ${C.color}`})]},k))}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{value:w,onChange:C=>y(C.target.value),className:"bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",children:[l.jsx("option",{value:"all",children:"Todos los estados"}),l.jsx("option",{value:"active",children:"Activos"}),l.jsx("option",{value:"pending",children:"Pendientes"}),l.jsx("option",{value:"inactive",children:"Inactivos"}),l.jsx("option",{value:"expired",children:"Vencidos"})]}),l.jsx("input",{type:"text",placeholder:"Buscar revendedor...",value:b,onChange:C=>x(C.target.value),className:"bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm w-[250px]"})]}),l.jsxs("button",{onClick:()=>t(!0),className:"bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",children:[l.jsx(Mh,{className:"w-4 h-4"}),l.jsx("span",{children:"Nuevo Revendedor"})]})]}),l.jsx("div",{className:"overflow-x-auto bg-[#191c23] rounded-xl border border-border/10",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-muted/50 border-b border-border/10 text-left",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 font-medium",children:"Nombre"}),l.jsx("th",{className:"p-4 font-medium",children:"Email"}),l.jsx("th",{className:"p-4 font-medium",children:"Teléfono"}),l.jsx("th",{className:"p-4 font-medium",children:"Plan"}),l.jsx("th",{className:"p-4 font-medium",children:"Fin Suscripción"}),l.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Clientes"}),l.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Estado"}),l.jsx("th",{className:"text-right p-4 text-muted-foreground font-medium",children:"Acciones"})]})}),l.jsx("tbody",{className:"text-muted-foreground",children:a?l.jsx("tr",{children:l.jsx("td",{colSpan:9,className:"p-4 text-center",children:l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),l.jsx("span",{children:"Cargando revendedores..."})]})})}):o.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:9,className:"p-4 text-center",children:"No se encontraron revendedores."})}):o.map((C,k)=>l.jsxs("tr",{className:`border-b border-border/10 hover:bg-muted/10 transition-colors ${k%2===0?"bg-transparent":"bg-muted/5"}`,children:[l.jsx("td",{className:"p-4",children:C.full_name}),l.jsx("td",{className:"p-4",children:C.email}),l.jsx("td",{className:"p-4",children:C.phone}),l.jsx("td",{className:"p-4",children:C.plan_type}),l.jsx("td",{className:"p-4",children:C.plan_end_date?new Date(C.plan_end_date).toLocaleDateString():""}),l.jsx("td",{className:"p-4",children:C.clients_count??"-"}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${uA(C.status)}`,children:dA(C.status)})}),l.jsx("td",{className:"p-4 text-right",children:l.jsx(lA,{onEdit:()=>A(C),onRenew:()=>V(C),onSendCredentials:()=>W(C),onSendReminder:()=>z(C),onDelete:()=>K(C.id)})})]},C.id))})]})}),l.jsx(up,{isOpen:m,type:_,onClose:()=>v(!1),onSelect:async C=>{if(!T)return;const k=await an.getById(T.id);if(!k)throw new Error("Revendedor no encontrado o error al obtener datos.");let P="";if(_==="credenciales")P=Ts(C.content,{cliente:k.full_name||"",plataforma:k.plan_type||"",usuario:k.email||"",contraseña:k.password||"",fecha_fin:k.plan_end_date?new Date(k.plan_end_date).toLocaleDateString():""});else{if(!k.plan_end_date)throw new Error("Fecha de fin de plan no disponible.");const O=new Date(k.plan_end_date),U=new Date,q=Math.ceil((O.getTime()-U.getTime())/(1e3*60*60*24));P=Ts(C.content,{cliente:k.full_name||"",plataforma:k.plan_type||"",dias_restantes:`${q} días`,fecha_fin:O.toLocaleDateString()})}if(P.includes("{"))throw new Error("Faltan datos para completar el mensaje. Revisa los datos del revendedor.");Ya(T.phone,P),ne.success("Mensaje enviado por WhatsApp")}}),l.jsx(wP,{isOpen:e,onClose:()=>{t(!1),u(null)},onSubmit:I,reseller:c?{id:c.id,status:c.status,fullName:c.full_name,email:c.email,phone:c.phone,plan:c.plan_type,endDate:c.plan_end_date}:void 0}),l.jsx(Hh,{isOpen:d,onClose:()=>{f(!1),g(null)},onSubmit:async C=>{try{if(!h)return;await an.update(h.id,{plan_type:C}),await kP.renew(h.id,C==="1 Mes"?1:C==="3 Meses"?3:C==="6 Meses"?6:12),ne.success("Plan renovado exitosamente"),f(!1),g(null),F()}catch(k){console.error("Error al renovar plan:",k),ne.error("Error al renovar el plan")}}})]})};function pA({onEdit:e,onRenew:t,onSendCredentials:r,onSendReminder:n,onDelete:o}){return l.jsxs(ob,{children:[l.jsx(sb,{asChild:!0,children:l.jsx(it,{variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(hx,{className:"h-4 w-4"})})}),l.jsxs(cp,{align:"end",className:"w-[160px]",children:[l.jsxs(Cr,{onClick:e,className:"cursor-pointer",children:[l.jsx(Lc,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Editar Cliente"})]}),l.jsxs(Cr,{onClick:t,className:"cursor-pointer",children:[l.jsx(mx,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Renovar Plan"})]}),l.jsxs(Cr,{onClick:r,className:"cursor-pointer",children:[l.jsx(Lh,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Enviar Credenciales"})]}),l.jsxs(Cr,{onClick:n,className:"cursor-pointer",children:[l.jsx(fx,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Enviar Recordatorio"})]}),l.jsxs(Cr,{onClick:o,className:"cursor-pointer text-red-500 focus:text-red-500 focus:bg-red-500/10",children:[l.jsx(ci,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Eliminar Cliente"})]})]})]})}const ab=({clients:e,isLoading:t,onEdit:r,onDelete:n,onRenew:o,onSendCredentials:s,onSendReminder:a})=>{if(t)return l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{children:"Cargando clientes..."})]});if(!e.length)return l.jsxs("div",{className:"text-center py-12 text-muted-foreground border border-dashed border-border/50 rounded-lg",children:[l.jsx("p",{className:"text-base",children:"No hay clientes registrados."}),l.jsx("p",{className:"text-sm mt-1",children:"Agrega un nuevo cliente para comenzar."})]});const i=d=>d?new Date(d).toLocaleDateString():"",c=d=>{switch(d){case"active":return"bg-green-500/20 text-green-500";case"expiring":return"bg-yellow-500/20 text-yellow-500";case"expired":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},u=d=>{switch(d){case"active":return"ACTIVO";case"expiring":return"POR VENCER";case"expired":return"VENCIDO";default:return"DESCONOCIDO"}};return l.jsx("div",{className:"overflow-x-auto rounded-lg border border-border/10 bg-card shadow-sm",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-muted/50 border-b border-border/10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 text-left font-medium",children:"Cliente"}),l.jsx("th",{className:"p-3 text-left font-medium",children:"Whatsapp"}),l.jsx("th",{className:"p-3 text-left font-medium",children:"Plataforma"}),l.jsx("th",{className:"p-3 text-left font-medium",children:"Disp."}),l.jsx("th",{className:"p-3 text-left font-medium",children:"Usuario"}),l.jsx("th",{className:"p-3 text-left font-medium",children:"Contraseña"}),l.jsx("th",{className:"p-3 text-left font-medium",children:"Fecha Fin"}),l.jsx("th",{className:"p-3 text-left font-medium",children:"Días"}),l.jsx("th",{className:"p-3 text-left font-medium",children:"Estado"}),l.jsx("th",{className:"p-3 text-left font-medium",children:"Precio"}),l.jsx("th",{className:"p-3 text-center font-medium",children:"Acciones"})]})}),l.jsx("tbody",{children:e.map((d,f)=>l.jsxs("tr",{className:`border-b border-border/10 hover:bg-muted/10 transition-colors ${f%2===0?"bg-transparent":"bg-muted/5"}`,children:[l.jsx("td",{className:"p-3 font-medium",children:d.cliente}),l.jsx("td",{className:"p-3",children:d.whatsapp}),l.jsx("td",{className:"p-3",children:d.plataforma}),l.jsx("td",{className:"p-3 text-center",children:d.dispositivos}),l.jsx("td",{className:"p-3",children:d.usuario}),l.jsx("td",{className:"p-3",children:d.contraseña}),l.jsx("td",{className:"p-3",children:i(d.fecha_fin)}),l.jsx("td",{className:"p-3 text-center",children:l.jsx("span",{className:d.dias_restantes>10?"text-green-500 font-medium":d.dias_restantes>0?"text-yellow-500 font-medium":"text-red-500 font-medium",children:d.dias_restantes})}),l.jsx("td",{className:"p-3",children:l.jsx("span",{className:`${c(d.status)} px-2 py-1 rounded text-xs font-medium`,children:u(d.status)})}),l.jsxs("td",{className:"p-3 text-right",children:["$",d.precio.toFixed(2)]}),l.jsx("td",{className:"p-2 text-right",children:l.jsx(pA,{onEdit:()=>r&&r(d),onRenew:()=>o&&o(d),onSendCredentials:()=>s&&s(d),onSendReminder:()=>a&&a(d),onDelete:()=>{window.confirm(`¿Estás seguro de eliminar al cliente ${d.cliente}?`)&&n&&n(d.id)}})})]},d.id))})]})})},ib=({isOpen:e,onClose:t,onSubmit:r,client:n})=>{const o=d=>{const f=new Date;let h;switch(d){case"Demo (24 Hrs)":h=new Date(f),h.setDate(f.getDate()+1);break;case"1 Mes":h=new Date(f),h.setMonth(f.getMonth()+1);break;case"3 Meses":h=new Date(f),h.setMonth(f.getMonth()+3);break;case"6 Meses":h=new Date(f),h.setMonth(f.getMonth()+6);break;case"12 Meses":h=new Date(f),h.setMonth(f.getMonth()+12);break;default:h=new Date(f),h.setMonth(f.getMonth()+1)}return h},s=d=>d.toISOString().split("T")[0],[a,i]=p.useState(()=>{const f=s(new Date),h="1 Mes",g=s(o(h));return n?{cliente:n.cliente,whatsapp:n.whatsapp,phoneCountry:"co",plataforma:n.plataforma,dispositivos:n.dispositivos,precio:n.precio,usuario:n.usuario,contraseña:n.contraseña,fecha_inicio:n.fecha_inicio,fecha_fin:n.fecha_fin,status:n.status,observacion:n.observacion||"",plan:n.plan||h}:{cliente:"",whatsapp:"",phoneCountry:"co",plataforma:"",dispositivos:1,precio:0,usuario:"",contraseña:"",fecha_inicio:f,fecha_fin:g,status:"active",observacion:"",plan:h}});p.useEffect(()=>{if(n){const d=n.plan||"1 Mes",f=n.fecha_fin||s(o(d));i({cliente:n.cliente,whatsapp:n.whatsapp,phoneCountry:"co",plataforma:n.plataforma,dispositivos:n.dispositivos,precio:n.precio,usuario:n.usuario,contraseña:n.contraseña,fecha_inicio:n.fecha_inicio,fecha_fin:f,status:n.status,observacion:n.observacion||"",plan:d})}else{const f=s(new Date),h="1 Mes",g=s(o(h));i({cliente:"",whatsapp:"",phoneCountry:"co",plataforma:"",dispositivos:1,precio:0,usuario:"",contraseña:"",fecha_inicio:f,fecha_fin:g,status:"active",observacion:"",plan:h})}},[n]);const c=d=>{d.preventDefault();const{phoneCountry:f,...h}=a;r(h)};if(!e)return null;const u=!!n;return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:l.jsx("div",{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]",children:l.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 w-[500px] shadow-xl",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border/10",children:[l.jsx("h2",{className:"text-lg font-semibold",children:u?"Editar Cliente":"Nuevo Cliente"}),l.jsx("button",{onClick:t,className:"text-muted-foreground hover:text-white transition-colors",children:l.jsx(ui,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:c,className:"p-4 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Nombre del Cliente"}),l.jsx("input",{type:"text",value:a.cliente,onChange:d=>i({...a,cliente:d.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Nombre completo del cliente",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"WhatsApp"}),l.jsx(Dx,{country:a.phoneCountry,value:a.whatsapp,onChange:(d,f)=>{i(h=>({...h,whatsapp:d,phoneCountry:f.countryCode||"co"}))},inputProps:{required:!0},containerClass:"phone-input-container",inputClass:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",buttonClass:"phone-input-button",dropdownClass:"phone-input-dropdown",specialLabel:"",preferredCountries:["co","mx","pe","ar","cl","ec","ve"],enableSearch:!0,searchPlaceholder:"Buscar país..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Plataforma"}),l.jsx("input",{type:"text",value:a.plataforma,onChange:d=>i({...a,plataforma:d.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Tipo de plataforma",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Dispositivos"}),l.jsx("input",{type:"number",min:1,value:a.dispositivos,onChange:d=>i({...a,dispositivos:parseInt(d.target.value)}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Precio"}),l.jsxs("div",{className:"relative",children:[l.jsx(xN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx("input",{type:"number",min:0,step:"0.01",value:a.precio,onChange:d=>i({...a,precio:parseFloat(d.target.value)}),className:"w-full bg-background/50 border border-border/10 rounded-lg pl-9 pr-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",required:!0})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Usuario"}),l.jsx("input",{type:"text",value:a.usuario,onChange:d=>i({...a,usuario:d.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Nombre de usuario",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Contraseña"}),l.jsx("input",{type:"text",value:a.contraseña,onChange:d=>i({...a,contraseña:d.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Contraseña",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Plan de Suscripción"}),l.jsxs("select",{value:a.plan,onChange:d=>{const f=d.target.value,h=s(o(f));i(g=>({...g,plan:f,fecha_fin:h}))},className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm [&>option]:bg-[#0e121d]",required:!0,children:[l.jsx("option",{children:"1 Mes"}),l.jsx("option",{children:"3 Meses"}),l.jsx("option",{children:"6 Meses"}),l.jsx("option",{children:"12 Meses"}),l.jsx("option",{children:"Demo (24 Hrs)"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Fecha Inicio"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"date",value:a.fecha_inicio,onChange:d=>i({...a,fecha_inicio:d.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",required:!0}),l.jsx(nf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#00A8FF] pointer-events-none"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Fecha Fin"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"date",value:a.fecha_fin,onChange:d=>i({...a,fecha_fin:d.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",required:!0}),l.jsx(nf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#00A8FF] pointer-events-none"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Estado"}),l.jsxs("select",{value:a.status,onChange:d=>i({...a,status:d.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm [&>option]:bg-[#0e121d] hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",children:[l.jsx("option",{value:"active",children:"Activo"}),l.jsx("option",{value:"expiring",children:"Por vencer"}),l.jsx("option",{value:"expired",children:"Vencido"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Observación"}),l.jsx("input",{type:"text",value:a.observacion||"",onChange:d=>i({...a,observacion:d.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Observación (opcional)"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border/10",children:[l.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-border/10 hover:bg-[#a855f7]/20 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:u?"Guardar Cambios":"Agregar Cliente"})]})]})]})})})},Jo=e=>{const t=new Date,n=new Date(e).getTime()-t.getTime();return Math.ceil(n/(1e3*60*60*24))},Qo=e=>e<=0?"expired":e<=7?"expiring":"active",Ur={async getAll(){try{const{data:e,error:t}=await ee.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw t;return e.map(r=>{const n=Jo(r.fecha_fin),o=Qo(n);return{...r,dias_restantes:n,status:o}})}catch(e){throw console.error("Error al obtener clientes:",e),e}},async create(e){try{const t=await fs.getCurrentUser(),r=Jo(e.fecha_fin),n=Qo(r),o=e.plan||"1 Mes",s=(t==null?void 0:t.role)==="reseller"?t.id:null,{error:a}=await ee.from("clients").insert([{...e,plan:o,dias_restantes:r,status:n,owner_id:s,created_at:new Date().toISOString()}]);if(a)throw a}catch(t){throw console.error("Error al crear cliente:",t),t}},async update(e,t){try{let r={...t};if(t.fecha_fin){const o=Jo(t.fecha_fin);r.dias_restantes=o,r.status=Qo(o)}if(t.plan&&!t.fecha_fin){const o=new Date;let s;switch(t.plan){case"Demo (24 Hrs)":s=new Date(o),s.setDate(o.getDate()+1);break;case"1 Mes":s=new Date(o),s.setMonth(o.getMonth()+1);break;case"3 Meses":s=new Date(o),s.setMonth(o.getMonth()+3);break;case"6 Meses":s=new Date(o),s.setMonth(o.getMonth()+6);break;case"12 Meses":s=new Date(o),s.setMonth(o.getMonth()+12);break;default:s=new Date(o),s.setMonth(o.getMonth()+1)}const a=s.toISOString().split("T")[0],i=Jo(a);r.fecha_fin=a,r.dias_restantes=i,r.status=Qo(i)}const{error:n}=await ee.from("clients").update(r).eq("id",e);if(n)throw n}catch(r){throw console.error("Error al actualizar cliente:",r),r}},async delete(e){try{const{error:t}=await ee.from("clients").delete().eq("id",e);if(t)throw t}catch(t){throw console.error("Error al eliminar cliente:",t),t}},async getClientsByReseller(e){try{const{data:t,error:r}=await ee.from("clients").select("*").eq("owner_id",e).order("created_at",{ascending:!1});if(r)throw r;return t.map(n=>{const o=Jo(n.fecha_fin),s=Qo(o);return{...n,dias_restantes:o,status:s}})}catch(t){throw console.error("Error al obtener clientes del revendedor:",t),t}},async getClientsByOwner(e){try{const{data:t,error:r}=await ee.from("clients").select("*").eq("owner_id",e).order("created_at",{ascending:!1});if(r)throw r;return t.map(n=>{const o=Jo(n.fecha_fin),s=Qo(o);return{...n,dias_restantes:o,status:s}})}catch(t){throw console.error("Error al obtener clientes por propietario:",t),t}}},mA=e=>{const t=new Date,r=new Date;r.setDate(t.getDate()+30);const n=e.length,o=e.filter(i=>i.status==="active").length,s=e.filter(i=>{if(!i.fecha_fin)return!1;const c=new Date(i.fecha_fin);return c>t&&c<=r&&i.status==="expiring"}).length,a=e.filter(i=>i.status==="expired").length;return[{title:"Total Clientes",value:n.toString(),Icon:Wr,color:"text-blue-400"},{title:"Activos",value:o.toString(),Icon:$c,color:"text-green-400"},{title:"Próximos a Vencer",value:s.toString(),Icon:wn,color:"text-yellow-400"},{title:"Vencidos",value:a.toString(),Icon:$h,color:"text-red-400"}]},gA=()=>{const[e,t]=p.useState([]),[r,n]=p.useState([]),[o,s]=p.useState(!1),[a,i]=p.useState(null),[c,u]=p.useState(""),[d,f]=p.useState("all"),[h,g]=p.useState("all"),[b,x]=p.useState([]),[w,y]=p.useState(!0),[m,v]=p.useState(!1),[_,S]=p.useState(null),[T,N]=p.useState(!1),[R,F]=p.useState(null),[D,Q]=p.useState(null),K=async()=>{try{const k=await an.getAll();x(k)}catch(k){console.error("Error al cargar revendedores:",k)}},W=async()=>{y(!0);try{const k=await Ur.getAll();t(k),z(k,c,d,h)}catch(k){console.error("Error al cargar clientes:",k),ne.error("Error al cargar los clientes")}finally{y(!1)}},z=(k,P,O,U)=>{const q=k.filter($=>{var te,le;const E=P?((te=$.cliente)==null?void 0:te.toLowerCase().includes(P.toLowerCase()))||((le=$.whatsapp)==null?void 0:le.toLowerCase().includes(P.toLowerCase()))||($.usuario?$.usuario.toLowerCase().includes(P.toLowerCase()):!1):!0,Z=O==="all"||$.status===O,B=U==="all"||U==="admin"&&!$.owner_id||$.owner_id===U;return E&&Z&&B});n(q)};p.useEffect(()=>{W(),K()},[]),p.useEffect(()=>{const k=ee.channel("custom-clients-channel").on("postgres_changes",{event:"*",schema:"public",table:"clients"},P=>{console.log("Cambio en tiempo real recibido en la tabla clients:",P),ne.info("Actualizando lista de clientes...",{duration:2e3}),W()}).subscribe((P,O)=>{P==="SUBSCRIBED"&&console.log("Conectado a Supabase Realtime para clientes!"),P==="CHANNEL_ERROR"&&(console.error("Error en el canal de Supabase Realtime para clientes:",O),ne.error("Error en la conexión de tiempo real para clientes."))});return()=>{ee.removeChannel(k),console.log("Desconectado de Supabase Realtime para clientes.")}},[]),p.useEffect(()=>{z(e,c,d,h)},[e,c,d,h]);const I=async k=>{try{a?(await Ur.update(a.id,k),ne.success("Cliente actualizado correctamente")):(await Ur.create(k),ne.success("Cliente creado correctamente")),s(!1),W()}catch(P){console.error("Error al guardar cliente:",P),ne.error("Error al guardar el cliente")}},A=async k=>{try{await Ur.delete(k),ne.success("Cliente eliminado correctamente"),W()}catch(P){console.error("Error al eliminar cliente:",P),ne.error("Error al eliminar el cliente")}},V=async k=>{if(_)try{const P=new Date;let O=new Date(P);k.includes("1 Mes")?O.setMonth(P.getMonth()+1):k.includes("3 Meses")?O.setMonth(P.getMonth()+3):k.includes("6 Meses")?O.setMonth(P.getMonth()+6):k.includes("12 Meses")&&O.setFullYear(P.getFullYear()+1),await Ur.update(_.id,{fecha_fin:O.toISOString(),plataforma:k}),ne.success(`Plan renovado exitosamente hasta ${O.toLocaleDateString()}`),v(!1),W()}catch(P){console.error("Error al renovar plan:",P),ne.error("Error al renovar el plan")}},C=async k=>{if(!(!D||!R))try{const P=new Date(D.fecha_fin),O=new Date,U=Math.ceil((P.getTime()-O.getTime())/(1e3*60*60*24)),q=Ts(k.content,{cliente:D.cliente||"",plataforma:D.plataforma||"",fecha_fin:D.fecha_fin?new Date(D.fecha_fin).toLocaleDateString():"",dias_restantes:`${U} días`,usuario:D.usuario||"",contraseña:D.contraseña||""});let $=D.whatsapp||"";$.startsWith("+")?$=$.substring(1).replace(/\D/g,""):($=$.replace(/\D/g,""),!$.startsWith("52")&&!$.startsWith("57")&&!$.startsWith("54")&&!$.startsWith("55")&&!$.startsWith("56")&&!$.startsWith("58")&&!$.startsWith("51")&&!$.startsWith("50")&&$.length>0&&($="52"+$)),Ya($,q),ne.success("Mensaje preparado para enviar"),N(!1)}catch(P){console.error("Error al enviar plantilla:",P),ne.error("Error al preparar el mensaje")}};return l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Gestión de Clientes"}),l.jsxs("button",{className:"bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",onClick:()=>{i(null),s(!0)},children:[l.jsx(Mh,{className:"w-4 h-4"}),l.jsx("span",{children:"Nuevo Cliente"})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:mA(e).map((k,P)=>l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm text-muted-foreground",children:k.title}),l.jsx("p",{className:`text-2xl font-semibold mt-1 ${k.color}`,children:k.value})]}),l.jsx(k.Icon,{className:`w-5 h-5 ${k.color}`})]},P))}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[l.jsx("div",{className:"relative flex-1",children:l.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:c,onChange:k=>u(k.target.value)})}),l.jsxs("select",{className:"px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:d,onChange:k=>f(k.target.value),children:[l.jsx("option",{value:"all",children:"Todos los estados"}),l.jsx("option",{value:"active",children:"Activos"}),l.jsx("option",{value:"expiring",children:"Por vencer"}),l.jsx("option",{value:"expired",children:"Vencidos"})]}),l.jsxs("select",{className:"px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:h,onChange:k=>g(k.target.value),children:[l.jsx("option",{value:"all",children:"Todos los clientes"}),l.jsx("option",{value:"admin",children:"Mis clientes"}),b.map(k=>l.jsxs("option",{value:k.id,children:["Clientes de ",k.full_name]},k.id))]})]}),l.jsx("div",{className:"overflow-x-auto bg-[#191c23] rounded-xl border border-border/10",children:l.jsx(ab,{clients:r,isLoading:w,onEdit:k=>{i(k),s(!0)},onDelete:A,onRenew:k=>{S(k),v(!0)},onSendCredentials:k=>{Q(k),F("credenciales"),N(!0)},onSendReminder:k=>{Q(k),F("recordatorio"),N(!0)}})})]}),l.jsx(ib,{isOpen:o,onClose:()=>s(!1),onSubmit:I,client:a}),l.jsx(Hh,{isOpen:m,onClose:()=>v(!1),onSubmit:V}),l.jsx(up,{isOpen:T,onClose:()=>N(!1),onSelect:C,type:R})]})};function lb({alerts:e,isLoading:t=!1}){const r=o=>{switch(o){case"high":return"text-red-400";case"medium":return"text-yellow-400";case"low":return"text-blue-400"}},n=o=>{switch(o){case"expiring":return Yl;case"payment":return Ih;case"demo":return wn}};return t?l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Alertas del Sistema"}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>l.jsxs("div",{className:"animate-pulse flex items-start space-x-4",children:[l.jsx("div",{className:"h-5 w-5 rounded bg-muted-foreground/10"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-muted-foreground/10 rounded w-1/4"}),l.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-3/4"})]})]},o))})]}):l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Alertas del Sistema"}),e.length===0?l.jsx("p",{className:"text-muted-foreground text-sm",children:"No hay alertas pendientes."}):l.jsx("div",{className:"space-y-4",children:e.map(o=>{const s=n(o.type);return l.jsx("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-background/5 border border-border/5 hover:bg-background/10 transition-colors",children:o.type==="demo"&&o.title.includes("Pendiente")?l.jsxs(_c,{to:"/admin/users",className:"flex items-start space-x-4 w-full",children:[l.jsx(s,{className:`w-5 h-5 mt-0.5 ${r(o.severity)}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium",children:o.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:o.message}),l.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:o.timestamp}),l.jsx("p",{className:"text-xs text-primary mt-1",children:"Haz clic para gestionar usuarios"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(s,{className:`w-5 h-5 mt-0.5 ${r(o.severity)}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium",children:o.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:o.message}),l.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:o.timestamp})]})]})},o.id)})})]})}function cb({activities:e,isLoading:t=!1}){const r=o=>{switch(o){case"renewal":return FN;case"activation":return LN;case"status_change":return YN}},n=o=>{switch(o){case"renewal":return"text-blue-400";case"activation":return"text-green-400";case"status_change":return"text-yellow-400"}};return t?l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Actividad Reciente"}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>l.jsxs("div",{className:"animate-pulse flex items-start space-x-4",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-muted-foreground/10"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-muted-foreground/10 rounded w-1/3"}),l.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-1/4"})]})]},o))})]}):l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Actividad Reciente"}),e.length===0?l.jsx("p",{className:"text-muted-foreground text-sm",children:"No hay actividad reciente."}):l.jsx("div",{className:"space-y-4",children:e.map(o=>{const s=r(o.type),a=n(o.type);return l.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-background/5 border border-border/5",children:[l.jsx("div",{className:`rounded-full p-2 ${a} bg-background/10`,children:l.jsx(s,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium",children:o.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:o.description}),l.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:new Date(o.timestamp).toLocaleString()})]})]},o.id)})})]})}function ub({services:e,incidents:t,isLoading:r=!1}){const n=i=>{switch(i){case"operational":return"text-green-400";case"degraded":return"text-yellow-400";case"down":return"text-red-400"}},o=i=>{switch(i){case"operational":return qN;case"degraded":return wn;case"down":return BN}},s=i=>{switch(i){case"high":return"text-red-400";case"medium":return"text-yellow-400";case"low":return"text-blue-400"}},a=i=>{const c="px-2 py-0.5 rounded-full text-xs font-medium";switch(i){case"investigating":return`${c} bg-yellow-400/10 text-yellow-400`;case"identified":return`${c} bg-blue-400/10 text-blue-400`;case"monitoring":return`${c} bg-purple-400/10 text-purple-400`;case"resolved":return`${c} bg-green-400/10 text-green-400`}};return r?l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Estado del Servicio"}),l.jsx("div",{className:"space-y-4",children:[1,2].map(i=>l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted-foreground/10 rounded w-1/4 mb-2"}),l.jsx("div",{className:"h-12 bg-muted-foreground/10 rounded"})]},i))})]}):l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Estado del Servicio"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:e.map(i=>{const c=o(i.status),u=n(i.status);return l.jsxs("div",{className:"p-4 rounded-lg bg-background/5 border border-border/5",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium",children:i.name}),l.jsx(c,{className:`w-5 h-5 ${u}`})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:`text-sm ${u}`,children:i.status==="operational"?"Operativo":i.status==="degraded"?"Rendimiento Degradado":"Fuera de Servicio"}),i.latency&&l.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.latency,"ms"]})]}),i.message&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:i.message})]},i.id)})}),l.jsx("h3",{className:"text-sm font-medium mb-3",children:"Incidencias Activas"}),t.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay incidencias activas."}):l.jsx("div",{className:"space-y-4",children:t.map(i=>l.jsxs("div",{className:"p-4 rounded-lg bg-background/5 border border-border/5",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:`text-sm font-medium ${s(i.severity)}`,children:i.title}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.message})]}),l.jsx("span",{className:a(i.status),children:i.status==="investigating"?"Investigando":i.status==="identified"?"Identificado":i.status==="monitoring"?"Monitoreando":"Resuelto"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Última actualización: ",new Date(i.updatedAt).toLocaleString()]})]},i.id))})]})}const vA={async getDashboardStats(){let e=[],t=[],r=[];try{console.log("Obteniendo perfiles de revendedores desde profiles...");const{data:m,error:v}=await ee.rpc("get_all_profiles");if(v)console.error("Error al obtener perfiles con RPC:",v),e=[];else{const _=(m==null?void 0:m.filter(N=>N.role==="reseller"))||[];console.log(`Encontrados ${_.length} perfiles de revendedores`),console.log("Revendedores activos en profiles:",_.filter(N=>N.status==="active").length);const{data:S,error:T}=await ee.rpc("get_all_resellers");console.log("Datos de la tabla resellers:",{count:(S==null?void 0:S.length)||0,error:T?T.message:null}),e=_.map(N=>{const R=S==null?void 0:S.find(F=>F.id===N.id||F.user_id===N.id);return R?{...R,id:N.id,full_name:N.full_name||R.full_name,email:N.email,status:N.status,plan_end_date:R.plan_end_date||new Date(Date.now()+30*24*60*60*1e3).toISOString()}:{id:N.id,user_id:N.id,created_at:N.created_at,full_name:N.full_name,email:N.email,status:N.status,plan_end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString()}}),t=e.filter(N=>N.status==="pending"),console.log("Datos combinados de revendedores:",{total:e.length,activos:e.filter(N=>N.status==="active").length,pendientes:t.length})}console.log("Obteniendo revendedores recientes...");try{const{data:_,error:S}=await ee.rpc("get_all_profiles").order("created_at",{ascending:!1}).limit(10);if(console.log("Perfiles recientes obtenidos:",{count:(_==null?void 0:_.length)||0,error:S?S.message:null}),S)console.error("Error al obtener perfiles recientes:",S),r=[];else{const T=(_==null?void 0:_.filter(D=>D.role==="reseller"))||[];console.log(`Encontrados ${T.length} perfiles de revendedores recientes`);const N=T.map(D=>D.id),{data:R,error:F}=await ee.from("resellers").select("*").in("id",N);console.log("Detalles de revendedores recientes:",{count:(R==null?void 0:R.length)||0,error:F?F.message:null}),r=T.map(D=>{const Q=R==null?void 0:R.find(K=>K.id===D.id||K.user_id===D.id);return Q?{...Q,full_name:D.full_name||Q.full_name,email:D.email,status:D.status}:{id:D.id,user_id:D.id,created_at:D.created_at,full_name:D.full_name,email:D.email,status:D.status}}),r=r.slice(0,5),console.log(`Devolviendo ${r.length} revendedores recientes combinados`)}}catch(_){console.error("Error al obtener revendedores recientes:",_),r=[]}}catch(m){console.error("Error al obtener estadísticas:",m),e=[],r=[]}let n={total:0,active:0,pending:0,recentRegistrations:[]},o=[];try{console.log("Obteniendo estadísticas de clientes...");const{data:m,error:v}=await ee.from("clients").select("*").order("created_at",{ascending:!1});if(o=m||[],v)console.error("Error al obtener clientes:",v);else{console.log(`Encontrados ${(o==null?void 0:o.length)||0} clientes`);const _=(o||[]).map(S=>{const T=new Date,N=new Date(S.fecha_fin),R=Math.ceil((N.getTime()-T.getTime())/(1e3*60*60*24));let F;return R<=0?F="expired":R<=7?F="expiring":F="active",{...S,dias_restantes:R,status:F}});n={total:_.length,active:_.filter(S=>S.status==="active").length,pending:0,recentRegistrations:_.slice(0,5).map(S=>({id:S.id,full_name:S.cliente,reseller_name:"Admin",status:S.status,created_at:S.created_at||new Date().toISOString()}))},console.log("Estadísticas de clientes calculadas:",{total:n.total,active:n.active,pending:n.pending})}}catch(m){console.error("Error al procesar estadísticas de clientes:",m)}const s=new Date,a=[],i=new Set;console.log("Datos de revendedores pendientes:",t);try{const{data:m,error:v}=await ee.rpc("get_pending_users");if(console.log("Usuarios pendientes encontrados con RPC:",m,"Error:",v),v){console.log("Error con RPC, intentando enfoque alternativo");const{data:_,error:S}=await ee.from("profiles").select("id, full_name, status").eq("status","pending");if(console.log("Perfiles pendientes encontrados directamente:",_,"Error:",S),!S&&_&&_.length>0)for(const T of _)i.has(T.id)||(i.add(T.id),console.log("Agregando alerta para perfil pendiente:",T),a.push({id:`pending-${T.id}`,type:"demo",title:"Usuario Pendiente de Activación",message:`${T.full_name} está pendiente de activación.`,severity:"high",timestamp:new Date().toISOString()}))}else if(m&&m.length>0)for(const _ of m)i.has(_.id)||(i.add(_.id),console.log("Agregando alerta para usuario pendiente de RPC:",_),a.push({id:`pending-${_.id}`,type:"demo",title:"Usuario Pendiente de Activación",message:`${_.full_name||_.email} está pendiente de activación.`,severity:"high",timestamp:new Date().toISOString()}));for(const _ of t)i.has(_.id)||(i.add(_.id),console.log("Agregando alerta para revendedor pendiente:",_),a.push({id:`pending-${_.id}`,type:"demo",title:"Usuario Pendiente de Activación",message:`${_.full_name} está pendiente de activación.`,severity:"high",timestamp:new Date().toISOString()}))}catch(m){console.error("Error al buscar usuarios pendientes:",m)}console.log("Alertas generadas:",a);const c=e.filter(m=>{if(!m||!m.plan_end_date)return!1;try{const v=new Date(m.plan_end_date),_=Math.ceil((v.getTime()-s.getTime())/(1e3*60*60*24));return _<=5&&_>0}catch(v){return console.error("Error al procesar fecha de vencimiento:",v),!1}});for(const m of c)try{const v=new Date(m.plan_end_date);a.push({id:`expiring-${m.id}`,type:"expiring",title:"Suscripción Próxima a Vencer",message:`La suscripción de ${m.full_name} vence en ${v.toLocaleDateString()}.`,severity:"medium",timestamp:new Date().toISOString()})}catch(v){console.error("Error al crear alerta para revendedor:",v)}let u=[];const d=[{id:"main-server",name:"Servidor Principal",status:"operational",latency:45,lastChecked:new Date().toISOString()},{id:"backup-server",name:"Servidor de Respaldo",status:"operational",latency:62,lastChecked:new Date().toISOString()},{id:"cdn-server",name:"Red de Distribución",status:"operational",latency:28,lastChecked:new Date().toISOString()}],f=[];console.log("Generando actividad reciente para revendedores:",r);for(const m of r)u.push({id:`registration-${m.id}`,type:"activation",title:"Nuevo Registro",description:`${m.full_name} se registró como revendedor`,timestamp:m.created_at,metadata:{resellerName:m.full_name}}),m.status==="active"&&u.push({id:`activation-${m.id}`,type:"activation",title:"Cuenta Activada",description:`Se activó la cuenta de ${m.full_name}`,timestamp:m.created_at,metadata:{resellerName:m.full_name}});u.sort((m,v)=>new Date(v.timestamp).getTime()-new Date(m.timestamp).getTime());const h=u.slice(0,5);console.log(`Generadas ${h.length} actividades recientes`),u=h;const g=e.filter(m=>{if(!m||!m.plan_end_date||m.status!=="active")return!1;try{const v=new Date(m.plan_end_date),_=Math.ceil((v.getTime()-s.getTime())/(1e3*60*60*24));return _<=5&&_>0}catch(v){return console.error("Error al procesar fecha de vencimiento:",v),!1}}),b=e.filter(m=>{if(!m||!m.plan_end_date||m.status!=="active")return!1;try{return new Date(m.plan_end_date)<s}catch(v){return console.error("Error al procesar fecha de vencimiento:",v),!1}});console.log(`Revendedores por vencer (5 días): ${g.length}`),console.log(`Revendedores vencidos: ${b.length}`);const x=n.total>0?(o||[]).filter(m=>{const v=new Date,_=new Date(m.fecha_fin),S=Math.ceil((_.getTime()-v.getTime())/(1e3*60*60*24));return S<=7&&S>0}).length:0,w=n.total>0?(o||[]).filter(m=>{const v=new Date;return new Date(m.fecha_fin)<v}).length:0;console.log(`Clientes por vencer (7 días): ${x}`),console.log(`Clientes vencidos: ${w}`);const y={resellers:{total:e.length||0,active:e.filter(m=>m.status==="active").length||0,pending:e.filter(m=>m.status==="pending").length||0,expiringSoon:g.length||0,expired:b.length||0,recentRegistrations:r.map(m=>({id:m.id||"",full_name:m.full_name||"Sin nombre",status:m.status||"pending",created_at:m.created_at||new Date().toISOString()}))},clients:{...n,expiringSoon:x,expired:w},alerts:a,recentActivity:u,services:d,incidents:f};return console.log("Estadísticas finales a devolver:",y),y}};function yA(){const[e,t]=p.useState(!0),[r,n]=p.useState(null),[o,s]=p.useState(null);p.useEffect(()=>{a();const i=setInterval(()=>{console.log("Actualizando estadísticas..."),a()},1e4);return()=>clearInterval(i)},[]);const a=async()=>{try{const i=await vA.getDashboardStats();console.log("Estadísticas recibidas en DashboardPage:",i),console.log("Alertas recibidas:",i.alerts),n(i)}catch(i){console.error("Error al cargar estadísticas:",i),s(i.message)}finally{t(!1)}};return e?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(px,{className:"w-8 h-8 animate-spin text-primary"})}):o?l.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500",children:["Error al cargar estadísticas: ",o]}):l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Dashboard"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Clientes Activos"}),l.jsx(Wr,{className:"w-5 h-5 text-green-400"})]}),l.jsx("p",{className:"text-3xl font-semibold text-green-400",children:(r==null?void 0:r.clients.active)||0})]}),l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Clientes por Vencer (5 días)"}),l.jsx(Yl,{className:"w-5 h-5 text-yellow-400"})]}),l.jsx("p",{className:"text-3xl font-semibold text-yellow-400",children:(r==null?void 0:r.clients.expiringSoon)||0})]}),l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Clientes Vencidos"}),l.jsx(Wr,{className:"w-5 h-5 text-red-400"})]}),l.jsx("p",{className:"text-3xl font-semibold text-red-400",children:(r==null?void 0:r.clients.expired)||0})]}),l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Revendedores Activos"}),l.jsx($c,{className:"w-5 h-5 text-green-400"})]}),l.jsx("p",{className:"text-3xl font-semibold text-green-400",children:(r==null?void 0:r.resellers.active)||0})]}),l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Revendedores por Vencer (5 días)"}),l.jsx(Yl,{className:"w-5 h-5 text-yellow-400"})]}),l.jsx("p",{className:"text-3xl font-semibold text-yellow-400",children:(r==null?void 0:r.resellers.expiringSoon)||0})]}),l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Revendedores Vencidos"}),l.jsx(Wr,{className:"w-5 h-5 text-red-400"})]}),l.jsx("p",{className:"text-3xl font-semibold text-red-400",children:(r==null?void 0:r.resellers.expired)||0})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx(lb,{alerts:(r==null?void 0:r.alerts)||[],isLoading:e})}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Últimos Registros"}),l.jsx("div",{className:"bg-card rounded-xl border border-border/10 shadow-sm overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-border/10 bg-muted/50",children:[l.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Nombre"}),l.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Estado"}),l.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Fecha"})]})}),l.jsxs("tbody",{children:[r==null?void 0:r.resellers.recentRegistrations.map(i=>l.jsxs("tr",{className:"border-b border-border/10 last:border-0",children:[l.jsx("td",{className:"p-4",children:i.full_name}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i.status==="active"?"bg-green-500/10 text-green-500":"bg-yellow-500/10 text-yellow-500"}`,children:i.status==="active"?"Activo":"Pendiente"})}),l.jsx("td",{className:"p-4 text-muted-foreground",children:new Date(i.created_at).toLocaleDateString()})]},i.id)),!(r!=null&&r.resellers.recentRegistrations.length)&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"No hay registros recientes"})})]})]})})]}),l.jsx("div",{className:"mt-6",children:l.jsx(cb,{activities:(r==null?void 0:r.recentActivity)||[],isLoading:e})}),l.jsx("div",{className:"mt-6",children:l.jsx(ub,{services:(r==null?void 0:r.services)||[],incidents:(r==null?void 0:r.incidents)||[],isLoading:e})})]})})}const db=[{key:"cliente",description:"Nombre del cliente"},{key:"plataforma",description:"Nombre de la plataforma"},{key:"usuario",description:"Nombre de usuario"},{key:"contraseña",description:"Contraseña del usuario"},{key:"fecha_inicio",description:"Fecha de inicio del servicio"},{key:"fecha_fin",description:"Fecha de fin del servicio"},{key:"dias_restantes",description:"Días restantes de suscripción"}];function xA(){const[e,t]=p.useState([]),[r,n]=p.useState({name:"",content:"",category:"credenciales"}),[o,s]=p.useState(!0),a=async()=>{try{const d=await er.getAll();t(d)}catch(d){console.error("Error fetching templates:",d),ne.error("Error al cargar las plantillas")}finally{s(!1)}};p.useEffect(()=>{(async()=>{try{await er.initializeDefaultTemplates(),await a()}catch(f){console.error("Error initializing templates:",f),ne.error("Error al cargar las plantillas")}})()},[]);const i=async d=>{d.preventDefault();try{r.id?(await er.update(r.id,{name:r.name,content:r.content,category:r.category}),ne.success("Plantilla actualizada exitosamente")):(await er.create(r,"admin"),ne.success("Plantilla creada exitosamente")),n({name:"",content:"",category:"credenciales"}),a()}catch(f){console.error("Error al guardar plantilla:",f),ne.error("Error al guardar la plantilla")}},c=async d=>{if(window.confirm("¿Estás seguro de eliminar esta plantilla?"))try{await er.delete(d,"admin"),ne.success("Plantilla eliminada exitosamente"),a()}catch(f){console.error("Error deleting template:",f),ne.error("Error al eliminar la plantilla")}},u=d=>{n(f=>({...f,content:f.content+`{${d}}`}))};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Gestión de Plantillas WhatsApp"}),l.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 p-6",children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Crear Nueva Plantilla"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Define un nuevo mensaje predefinido."}),l.jsxs("form",{onSubmit:i,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:r.id?"Editar Plantilla":"Nueva Plantilla"}),l.jsx("input",{type:"text",value:r.name,onChange:d=>n(f=>({...f,name:d.target.value})),placeholder:"Ej: Recordatorio urgente",className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Categoría"}),l.jsxs("select",{value:r.category,onChange:d=>n(f=>({...f,category:d.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0,children:[l.jsx("option",{value:"credenciales",children:"Credenciales"}),l.jsx("option",{value:"recordatorio",children:"Recordatorio"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Contenido del Mensaje"}),l.jsx("textarea",{value:r.content,onChange:d=>n(f=>({...f,content:d.target.value})),placeholder:"Escribe tu mensaje aquí. Usa {variables} para placeholders como {cliente}, {plataforma}, etc.",className:"w-full h-32 bg-background/50 border border-border/10 rounded-lg px-3 py-2 text-sm",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium block mb-2",children:"Placeholders disponibles"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:db.map(({key:d,description:f})=>l.jsx("button",{type:"button",onClick:()=>u(d),className:"px-2 py-1 text-xs rounded-md bg-[#00A8FF]/10 text-[#00A8FF] hover:bg-[#00A8FF]/20 transition-colors",title:f,children:`{${d}}`},d))})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[r.id&&l.jsx("button",{type:"button",onClick:()=>n({name:"",content:"",category:"credenciales"}),className:"px-4 py-2 rounded-lg text-sm font-medium bg-gray-500 hover:bg-gray-600 text-white",children:"Cancelar Edición"}),l.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:r.id?"Guardar Cambios":"Agregar Plantilla"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Plantillas Existentes"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:o?l.jsx("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:"Cargando plantillas..."}):e.length===0?l.jsx("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:"No hay plantillas creadas."}):e.map(d=>l.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 p-6 relative group",children:[l.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[l.jsx("button",{onClick:()=>n({id:d.id,name:d.name,content:d.content,category:d.category}),className:"p-1.5 rounded-md hover:bg-[#00A8FF]/20 text-[#00A8FF] hover:text-[#00A8FF] transition-colors",children:l.jsx(Lc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>c(d.id),className:"p-1.5 rounded-md hover:bg-red-500/20 text-red-500 hover:text-red-500 transition-colors",children:l.jsx(ci,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("h3",{className:"font-medium text-[#00A8FF]",children:d.name}),l.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${d.category==="credenciales"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:d.category==="credenciales"?"Credenciales":"Recordatorio"})]}),l.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap leading-relaxed",children:d.content})]},d.id))})]})]})}function Rg(e,[t,r]){return Math.min(r,Math.max(t,e))}function wA(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bA="VisuallyHidden",_A=p.forwardRef((e,t)=>l.jsx(Oe.span,{...e,ref:t,style:{...fb,...e.style}}));_A.displayName=bA;var SA=[" ","Enter","ArrowUp","ArrowDown"],CA=[" ","Enter"],Po="Select",[Gc,qc,EA]=Wh(Po),[Gs,D5]=Io(Po,[EA,Bc]),Kc=Bc(),[jA,ao]=Gs(Po),[kA,NA]=Gs(Po),hb=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:s,value:a,defaultValue:i,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:b}=e,x=Kc(t),[w,y]=p.useState(null),[m,v]=p.useState(null),[_,S]=p.useState(!1),T=Gh(u),[N,R]=Ka({prop:n,defaultProp:o??!1,onChange:s,caller:Po}),[F,D]=Ka({prop:a,defaultProp:i,onChange:c,caller:Po}),Q=p.useRef(null),K=w?b||!!w.closest("form"):!0,[W,z]=p.useState(new Set),I=Array.from(W).map(A=>A.props.value).join(";");return l.jsx(tw,{...x,children:l.jsxs(jA,{required:g,scope:t,trigger:w,onTriggerChange:y,valueNode:m,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:hn(),value:F,onValueChange:D,open:N,onOpenChange:R,dir:T,triggerPointerDownPosRef:Q,disabled:h,children:[l.jsx(Gc.Provider,{scope:t,children:l.jsx(kA,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(A=>{z(V=>new Set(V).add(A))},[]),onNativeOptionRemove:p.useCallback(A=>{z(V=>{const C=new Set(V);return C.delete(A),C})},[]),children:r})}),K?l.jsxs(Ib,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:F,onChange:A=>D(A.target.value),disabled:h,form:b,children:[F===void 0?l.jsx("option",{value:""}):null,Array.from(W)]},I):null]})})};hb.displayName=Po;var pb="SelectTrigger",mb=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,s=Kc(r),a=ao(pb,r),i=a.disabled||n,c=Be(t,a.onTriggerChange),u=qc(r),d=p.useRef("touch"),[f,h,g]=Lb(x=>{const w=u().filter(v=>!v.disabled),y=w.find(v=>v.value===a.value),m=$b(w,x,y);m!==void 0&&a.onValueChange(m.value)}),b=x=>{i||(a.onOpenChange(!0),g()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(rw,{asChild:!0,...s,children:l.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":Mb(a.value)?"":void 0,...o,ref:c,onClick:me(o.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&b(x)}),onPointerDown:me(o.onPointerDown,x=>{d.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:me(o.onKeyDown,x=>{const w=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(w&&x.key===" ")&&SA.includes(x.key)&&(b(),x.preventDefault())})})})});mb.displayName=pb;var gb="SelectValue",vb=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:s,placeholder:a="",...i}=e,c=ao(gb,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Be(t,c.onValueNodeChange);return At(()=>{u(d)},[u,d]),l.jsx(Oe.span,{...i,ref:f,style:{pointerEvents:"none"},children:Mb(c.value)?l.jsx(l.Fragment,{children:a}):s})});vb.displayName=gb;var RA="SelectIcon",yb=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return l.jsx(Oe.span,{"aria-hidden":!0,...o,ref:t,children:n||"▼"})});yb.displayName=RA;var PA="SelectPortal",xb=e=>l.jsx(Oc,{asChild:!0,...e});xb.displayName=PA;var To="SelectContent",wb=p.forwardRef((e,t)=>{const r=ao(To,e.__scopeSelect),[n,o]=p.useState();if(At(()=>{o(new DocumentFragment)},[]),!r.open){const s=n;return s?Ms.createPortal(l.jsx(bb,{scope:e.__scopeSelect,children:l.jsx(Gc.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(_b,{...e,ref:t})});wb.displayName=To;var xr=10,[bb,io]=Gs(To),TA="SelectContentImpl",AA=ko("SelectContent.RemoveScroll"),_b=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:a,side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:x,avoidCollisions:w,...y}=e,m=ao(To,r),[v,_]=p.useState(null),[S,T]=p.useState(null),N=Be(t,B=>_(B)),[R,F]=p.useState(null),[D,Q]=p.useState(null),K=qc(r),[W,z]=p.useState(!1),I=p.useRef(!1);p.useEffect(()=>{if(v)return Ph(v)},[v]),Rh();const A=p.useCallback(B=>{const[te,...le]=K().map(fe=>fe.ref.current),[ae]=le.slice(-1),he=document.activeElement;for(const fe of B)if(fe===he||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===te&&S&&(S.scrollTop=0),fe===ae&&S&&(S.scrollTop=S.scrollHeight),fe==null||fe.focus(),document.activeElement!==he))return},[K,S]),V=p.useCallback(()=>A([R,v]),[A,R,v]);p.useEffect(()=>{W&&V()},[W,V]);const{onOpenChange:C,triggerPointerDownPosRef:k}=m;p.useEffect(()=>{if(v){let B={x:0,y:0};const te=ae=>{var he,fe;B={x:Math.abs(Math.round(ae.pageX)-(((he=k.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((fe=k.current)==null?void 0:fe.y)??0))}},le=ae=>{B.x<=10&&B.y<=10?ae.preventDefault():v.contains(ae.target)||C(!1),document.removeEventListener("pointermove",te),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",le,{capture:!0})}}},[v,C,k]),p.useEffect(()=>{const B=()=>C(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[C]);const[P,O]=Lb(B=>{const te=K().filter(he=>!he.disabled),le=te.find(he=>he.ref.current===document.activeElement),ae=$b(te,B,le);ae&&setTimeout(()=>ae.ref.current.focus())}),U=p.useCallback((B,te,le)=>{const ae=!I.current&&!le;(m.value!==void 0&&m.value===te||ae)&&(F(B),ae&&(I.current=!0))},[m.value]),q=p.useCallback(()=>v==null?void 0:v.focus(),[v]),$=p.useCallback((B,te,le)=>{const ae=!I.current&&!le;(m.value!==void 0&&m.value===te||ae)&&Q(B)},[m.value]),E=n==="popper"?gf:Sb,Z=E===gf?{side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:x,avoidCollisions:w}:{};return l.jsx(bb,{scope:r,content:v,viewport:S,onViewportChange:T,itemRefCallback:U,selectedItem:R,onItemLeave:q,itemTextRefCallback:$,focusSelectedItem:V,selectedItemText:D,position:n,isPositioned:W,searchRef:P,children:l.jsx(Ic,{as:AA,allowPinchZoom:!0,children:l.jsx(Ac,{asChild:!0,trapped:m.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:me(o,B=>{var te;(te=m.trigger)==null||te.focus({preventScroll:!0}),B.preventDefault()}),children:l.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:l.jsx(E,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:B=>B.preventDefault(),...y,...Z,onPlaced:()=>z(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:me(y.onKeyDown,B=>{const te=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!te&&B.key.length===1&&O(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let ae=K().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(B.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const he=B.target,fe=ae.indexOf(he);ae=ae.slice(fe+1)}setTimeout(()=>A(ae)),B.preventDefault()}})})})})})})});_b.displayName=TA;var OA="SelectItemAlignedPosition",Sb=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,s=ao(To,r),a=io(To,r),[i,c]=p.useState(null),[u,d]=p.useState(null),f=Be(t,N=>d(N)),h=qc(r),g=p.useRef(!1),b=p.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:y,focusSelectedItem:m}=a,v=p.useCallback(()=>{if(s.trigger&&s.valueNode&&i&&u&&x&&w&&y){const N=s.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(s.dir!=="rtl"){const he=D.left-R.left,fe=F.left-he,Te=N.left-fe,ke=N.width+Te,L=Math.max(ke,R.width),H=window.innerWidth-xr,re=Rg(fe,[xr,Math.max(xr,H-L)]);i.style.minWidth=ke+"px",i.style.left=re+"px"}else{const he=R.right-D.right,fe=window.innerWidth-F.right-he,Te=window.innerWidth-N.right-fe,ke=N.width+Te,L=Math.max(ke,R.width),H=window.innerWidth-xr,re=Rg(fe,[xr,Math.max(xr,H-L)]);i.style.minWidth=ke+"px",i.style.right=re+"px"}const Q=h(),K=window.innerHeight-xr*2,W=x.scrollHeight,z=window.getComputedStyle(u),I=parseInt(z.borderTopWidth,10),A=parseInt(z.paddingTop,10),V=parseInt(z.borderBottomWidth,10),C=parseInt(z.paddingBottom,10),k=I+A+W+C+V,P=Math.min(w.offsetHeight*5,k),O=window.getComputedStyle(x),U=parseInt(O.paddingTop,10),q=parseInt(O.paddingBottom,10),$=N.top+N.height/2-xr,E=K-$,Z=w.offsetHeight/2,B=w.offsetTop+Z,te=I+A+B,le=k-te;if(te<=$){const he=Q.length>0&&w===Q[Q.length-1].ref.current;i.style.bottom="0px";const fe=u.clientHeight-x.offsetTop-x.offsetHeight,Te=Math.max(E,Z+(he?q:0)+fe+V),ke=te+Te;i.style.height=ke+"px"}else{const he=Q.length>0&&w===Q[0].ref.current;i.style.top="0px";const Te=Math.max($,I+x.offsetTop+(he?U:0)+Z)+le;i.style.height=Te+"px",x.scrollTop=te-$+x.offsetTop}i.style.margin=`${xr}px 0`,i.style.minHeight=P+"px",i.style.maxHeight=K+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,s.trigger,s.valueNode,i,u,x,w,y,s.dir,n]);At(()=>v(),[v]);const[_,S]=p.useState();At(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const T=p.useCallback(N=>{N&&b.current===!0&&(v(),m==null||m(),b.current=!1)},[v,m]);return l.jsx(IA,{scope:r,contentWrapper:i,shouldExpandOnScrollRef:g,onScrollButtonChange:T,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(Oe.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Sb.displayName=OA;var DA="SelectPopperPosition",gf=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=xr,...s}=e,a=Kc(r);return l.jsx(nw,{...a,...s,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gf.displayName=DA;var[IA,dp]=Gs(To,{}),vf="SelectViewport",Cb=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,s=io(vf,r),a=dp(vf,r),i=Be(t,s.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Gc.Slot,{scope:r,children:l.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:me(o.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const b=window.innerHeight-xr*2,x=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(x,w);if(y<b){const m=y+g,v=Math.min(b,m),_=m-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Cb.displayName=vf;var Eb="SelectGroup",[MA,LA]=Gs(Eb),$A=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=hn();return l.jsx(MA,{scope:r,id:o,children:l.jsx(Oe.div,{role:"group","aria-labelledby":o,...n,ref:t})})});$A.displayName=Eb;var jb="SelectLabel",kb=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=LA(jb,r);return l.jsx(Oe.div,{id:o.id,...n,ref:t})});kb.displayName=jb;var rc="SelectItem",[FA,Nb]=Gs(rc),Rb=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:s,...a}=e,i=ao(rc,r),c=io(rc,r),u=i.value===n,[d,f]=p.useState(s??""),[h,g]=p.useState(!1),b=Be(t,m=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,m,n,o)}),x=hn(),w=p.useRef("touch"),y=()=>{o||(i.onValueChange(n),i.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(FA,{scope:r,value:n,disabled:o,textId:x,isSelected:u,onItemTextChange:p.useCallback(m=>{f(v=>v||((m==null?void 0:m.textContent)??"").trim())},[]),children:l.jsx(Gc.ItemSlot,{scope:r,value:n,disabled:o,textValue:d,children:l.jsx(Oe.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:b,onFocus:me(a.onFocus,()=>g(!0)),onBlur:me(a.onBlur,()=>g(!1)),onClick:me(a.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:me(a.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:me(a.onPointerDown,m=>{w.current=m.pointerType}),onPointerMove:me(a.onPointerMove,m=>{var v;w.current=m.pointerType,o?(v=c.onItemLeave)==null||v.call(c):w.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(a.onPointerLeave,m=>{var v;m.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:me(a.onKeyDown,m=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&m.key===" "||(CA.includes(m.key)&&y(),m.key===" "&&m.preventDefault())})})})})});Rb.displayName=rc;var ma="SelectItemText",Pb=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...s}=e,a=ao(ma,r),i=io(ma,r),c=Nb(ma,r),u=NA(ma,r),[d,f]=p.useState(null),h=Be(t,y=>f(y),c.onItemTextChange,y=>{var m;return(m=i.itemTextRefCallback)==null?void 0:m.call(i,y,c.value,c.disabled)}),g=d==null?void 0:d.textContent,b=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return At(()=>(x(b),()=>w(b)),[x,w,b]),l.jsxs(l.Fragment,{children:[l.jsx(Oe.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ms.createPortal(s.children,a.valueNode):null]})});Pb.displayName=ma;var Tb="SelectItemIndicator",Ab=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Nb(Tb,r).isSelected?l.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t}):null});Ab.displayName=Tb;var yf="SelectScrollUpButton",zA=p.forwardRef((e,t)=>{const r=io(yf,e.__scopeSelect),n=dp(yf,e.__scopeSelect),[o,s]=p.useState(!1),a=Be(t,n.onScrollButtonChange);return At(()=>{if(r.viewport&&r.isPositioned){let i=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),o?l.jsx(Ob,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=r;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});zA.displayName=yf;var xf="SelectScrollDownButton",UA=p.forwardRef((e,t)=>{const r=io(xf,e.__scopeSelect),n=dp(xf,e.__scopeSelect),[o,s]=p.useState(!1),a=Be(t,n.onScrollButtonChange);return At(()=>{if(r.viewport&&r.isPositioned){let i=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),o?l.jsx(Ob,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=r;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});UA.displayName=xf;var Ob=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,s=io("SelectScrollButton",r),a=p.useRef(null),i=qc(r),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),At(()=>{var d;const u=i().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[i]),l.jsx(Oe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:me(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:me(o.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:me(o.onPointerLeave,()=>{c()})})}),BA="SelectSeparator",Db=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t})});Db.displayName=BA;var wf="SelectArrow",VA=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Kc(r),s=ao(wf,r),a=io(wf,r);return s.open&&a.position==="popper"?l.jsx(ow,{...o,...n,ref:t}):null});VA.displayName=wf;var HA="SelectBubbleInput",Ib=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=p.useRef(null),s=Be(n,o),a=wA(t);return p.useEffect(()=>{const i=o.current;if(!i)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(i,t),i.dispatchEvent(f)}},[a,t]),l.jsx(Oe.select,{...r,style:{...fb,...r.style},ref:s,defaultValue:t})});Ib.displayName=HA;function Mb(e){return e===""||e===void 0}function Lb(e){const t=qr(e),r=p.useRef(""),n=p.useRef(0),o=p.useCallback(a=>{const i=r.current+a;t(i),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(i)},[t]),s=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,s]}function $b(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=WA(e,Math.max(s,0));o.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function WA(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var GA=hb,Fb=mb,qA=vb,KA=yb,YA=xb,zb=wb,JA=Cb,Ub=kb,Bb=Rb,QA=Pb,XA=Ab,Vb=Db;const Ju=GA,Qu=qA,xl=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Fb,{ref:n,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:[t,l.jsx(KA,{asChild:!0,children:l.jsx(lN,{className:"h-4 w-4 opacity-50"})})]}));xl.displayName=Fb.displayName;const wl=p.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>l.jsx(YA,{children:l.jsx(zb,{ref:o,className:Me("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:l.jsx(JA,{className:Me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));wl.displayName=zb.displayName;const ZA=p.forwardRef(({className:e,...t},r)=>l.jsx(Ub,{ref:r,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ZA.displayName=Ub.displayName;const yr=p.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Bb,{ref:n,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(XA,{children:l.jsx(Dh,{className:"h-4 w-4"})})}),l.jsx(QA,{children:t})]}));yr.displayName=Bb.displayName;const e5=p.forwardRef(({className:e,...t},r)=>l.jsx(Vb,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));e5.displayName=Vb.displayName;function t5({isOpen:e,onClose:t,userId:r,userEmail:n,userName:o,currentRole:s,currentStatus:a,onUpdate:i}){const[c,u]=p.useState(s),[d,f]=p.useState(a),[h,g]=p.useState(o),[b,x]=p.useState(!1),[w,y]=p.useState(!1),[m,v]=p.useState(!1),[_,S]=p.useState("1 Mes"),[T,N]=p.useState(""),R=K=>{const W=new Date;switch(K){case"Demo (24 Hrs)":return new Date(W.setDate(W.getDate()+1));case"1 Mes":return new Date(W.setMonth(W.getMonth()+1));case"3 Meses":return new Date(W.setMonth(W.getMonth()+3));case"6 Meses":return new Date(W.setMonth(W.getMonth()+6));case"12 Meses":return new Date(W.setMonth(W.getMonth()+12));default:return W}},F=K=>K.toISOString().split("T")[0];Y.useEffect(()=>{N(F(R(_)))},[_]);const D=async K=>{K.preventDefault(),x(!0);try{if(console.log("Iniciando actualización de usuario:",{userId:r,role:c,status:d,name:h}),c!==s){console.log("Actualizando rol de usuario...");const{data:W,error:z}=await ee.rpc("update_user_role",{user_id:r,new_role:c});if(z)throw console.error("Error al actualizar rol con RPC:",z),z;console.log("Rol actualizado correctamente con RPC:",W)}if(d!==a){console.log("Actualizando estado de usuario...");const{data:W,error:z}=await ee.rpc("update_user_status",{user_id:r,new_status:d});if(z)throw console.error("Error al actualizar estado con RPC:",z),z;if(console.log("Estado actualizado correctamente con RPC:",W),c==="reseller"&&d==="active"&&a==="pending"){console.log("Actualizando plan del revendedor...");const{data:I,error:A}=await ee.rpc("update_reseller_info",{reseller_id:r,reseller_phone:null,reseller_plan_type:_,reseller_plan_end_date:new Date(T+"T23:59:59").toISOString()});if(A)throw console.error("Error al actualizar plan del revendedor:",A),A;console.log("Plan del revendedor actualizado correctamente:",I)}}if(m&&h!==o){console.log("Actualizando nombre de usuario...");try{console.log("Actualizando nombre con RPC update_profile_name...");const{data:W,error:z}=await ee.rpc("update_profile_name",{user_id:r,new_name:h});if(z)throw console.error("Error al actualizar nombre con RPC:",z),z;console.log("Nombre actualizado correctamente con RPC:",W);try{console.log("Intentando actualizar metadatos del usuario...");const{data:I}=await ee.auth.getSession();if(I!=null&&I.session){const{error:A}=await ee.auth.updateUser({data:{full_name:h}});A?console.error("Error al actualizar metadatos con updateUser:",A):console.log("Metadatos actualizados con updateUser")}}catch(I){console.error("Excepción al actualizar metadatos:",I)}}catch(W){throw console.error("Excepción al actualizar nombre:",W),W}}ne.success("Usuario actualizado exitosamente"),i(),t()}catch(W){ne.error("Error al actualizar el usuario: "+(W.message||"Error desconocido")),console.error("Error general en actualización:",W)}finally{x(!1)}},Q=async()=>{if(!w){y(!0);return}x(!0);try{console.log("Eliminando usuario de las tablas con RPC...");const{data:K,error:W}=await ee.rpc("delete_user",{user_id:r});if(W)throw console.error("Error al eliminar usuario con RPC:",W),W;console.log("Usuario eliminado correctamente de las tablas:",K),ne.success("Usuario eliminado exitosamente"),i(),t()}catch(K){ne.error("Error al eliminar el usuario: "+(K.message||"Error desconocido")),console.error("Error:",K)}finally{x(!1),y(!1)}};return l.jsx(Rx,{open:e,onOpenChange:b?void 0:t,children:l.jsxs(zh,{className:"sm:max-w-[500px] bg-card",children:[l.jsxs(Uh,{children:[l.jsxs(Bh,{className:"flex items-center gap-2 text-xl font-bold",children:[c==="admin"?l.jsx(of,{className:"h-5 w-5"}):l.jsx(sf,{className:"h-5 w-5"}),"Gestionar Usuario"]}),l.jsx(Vh,{children:d==="pending"&&l.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3 flex items-start space-x-2 mt-2",children:[l.jsx(wn,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-yellow-500",children:"Este usuario está pendiente de activación"})]})})]}),w?l.jsxs("div",{className:"py-4 space-y-4",children:[l.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex flex-col items-center justify-center space-y-3",children:[l.jsx(wn,{className:"h-10 w-10 text-red-500"}),l.jsx("h3",{className:"text-lg font-semibold text-red-500",children:"¿Eliminar este usuario?"}),l.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Esta acción no se puede deshacer. El usuario perderá todo acceso al sistema."})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(it,{variant:"outline",type:"button",onClick:()=>y(!1),disabled:b,children:"Cancelar"}),l.jsx(it,{variant:"destructive",type:"button",onClick:Q,disabled:b,children:b?"Eliminando...":"Confirmar Eliminación"})]})]}):l.jsxs("form",{onSubmit:D,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Xt,{className:"flex items-center gap-1",children:[l.jsx(Lh,{className:"h-4 w-4"})," Email"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:n})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Xt,{className:"flex items-center gap-1",htmlFor:"name",children:[l.jsx(sf,{className:"h-4 w-4"})," Nombre"]}),m?l.jsx(Br,{id:"name",value:h,onChange:K=>g(K.target.value),placeholder:"Nombre completo"}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:h}),l.jsx(it,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(!0),className:"h-6 px-2 text-xs",children:"Editar"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Xt,{htmlFor:"role",className:"flex items-center gap-1",children:[l.jsx(gx,{className:"h-4 w-4"})," Rol"]}),l.jsxs(Ju,{value:c,onValueChange:u,children:[l.jsx(xl,{children:l.jsx(Qu,{placeholder:"Seleccionar rol"})}),l.jsxs(wl,{children:[l.jsx(yr,{value:"admin",children:"Administrador"}),l.jsx(yr,{value:"reseller",children:"Revendedor"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Xt,{htmlFor:"status",className:"flex items-center gap-1",children:[l.jsx(of,{className:"h-4 w-4"})," Estado"]}),l.jsxs(Ju,{value:d,onValueChange:f,children:[l.jsx(xl,{children:l.jsx(Qu,{placeholder:"Seleccionar estado"})}),l.jsxs(wl,{children:[l.jsx(yr,{value:"active",children:"Activo"}),l.jsx(yr,{value:"pending",children:"Pendiente"}),l.jsx(yr,{value:"inactive",children:"Inactivo"})]})]})]})]}),c==="reseller"&&d==="pending"&&l.jsxs("div",{className:"space-y-4 pt-4 border-t border-border/10",children:[l.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Configuración del Plan"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Xt,{htmlFor:"plan",className:"text-sm font-medium",children:"Plan de Suscripción"}),l.jsxs(Ju,{value:_,onValueChange:K=>{S(K),N(F(R(K)))},children:[l.jsx(xl,{children:l.jsx(Qu,{placeholder:"Seleccionar plan"})}),l.jsxs(wl,{children:[l.jsx(yr,{value:"Demo (24 Hrs)",children:"Demo (24 Hrs)"}),l.jsx(yr,{value:"1 Mes",children:"1 Mes"}),l.jsx(yr,{value:"3 Meses",children:"3 Meses"}),l.jsx(yr,{value:"6 Meses",children:"6 Meses"}),l.jsx(yr,{value:"12 Meses",children:"12 Meses"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Xt,{htmlFor:"planEndDate",className:"text-sm font-medium",children:"Fecha Fin"}),l.jsx(Br,{id:"planEndDate",type:"date",value:T,onChange:K=>N(K.target.value),className:"text-sm"})]})]})]}),d==="pending"&&l.jsx("div",{className:"pt-2",children:l.jsx(it,{type:"button",onClick:()=>f("active"),className:"w-full bg-green-600 hover:bg-green-700",children:"Activar Usuario"})})]}),l.jsxs(Tx,{className:"flex justify-between items-center pt-2 gap-2",children:[l.jsxs(it,{variant:"destructive",type:"button",onClick:()=>y(!0),disabled:b,className:"flex items-center gap-1",children:[l.jsx(ci,{className:"h-4 w-4"}),"Eliminar"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(it,{variant:"outline",type:"button",onClick:t,disabled:b,children:"Cancelar"}),l.jsx(it,{type:"submit",disabled:b,children:b?"Guardando...":"Guardar Cambios"})]})]})]})]})})}const Hb=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"w-full overflow-auto",children:l.jsx("table",{ref:r,className:Me("w-full caption-bottom text-sm",e),...t})}));Hb.displayName="Table";const Wb=p.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:Me("[&_tr]:border-b",e),...t}));Wb.displayName="TableHeader";const Gb=p.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:Me("[&_tr:last-child]:border-0",e),...t}));Gb.displayName="TableBody";const r5=p.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:Me("bg-primary font-medium text-primary-foreground",e),...t}));r5.displayName="TableFooter";const bl=p.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:Me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));bl.displayName="TableRow";const Zo=p.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Zo.displayName="TableHead";const mo=p.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));mo.displayName="TableCell";const n5=p.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:Me("mt-4 text-sm text-muted-foreground",e),...t}));n5.displayName="TableCaption";function o5(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[o,s]=p.useState(null),[a,i]=p.useState(!1),[c,u]=p.useState(""),[d,f]=p.useState(0),h=async()=>{try{console.log("Obteniendo usuarios..."),n(!0),console.log("Obteniendo usuarios de auth...");const{data:m}=await ee.auth.getSession();if(!m||!m.session){console.error("No hay sesión activa"),ne.error("Debes iniciar sesión para ver los usuarios"),t([]),f(0);return}console.log("Obteniendo usuarios con RPC...");const{data:v,error:_}=await ee.rpc("get_all_profiles");if(_){console.error("Error con RPC:",_),console.log("Fallback: obteniendo usuarios de auth directamente...");const{data:S,error:T}=await ee.auth.admin.listUsers();if(T)throw console.error("Error al obtener usuarios de auth:",T),T;if(S&&S.users){console.log("Usuarios obtenidos de auth:",S.users.length);const N=S.users.map(D=>{var Q,K,W;return{id:D.id,email:D.email||"",full_name:((Q=D.user_metadata)==null?void 0:Q.full_name)||"",role:((K=D.user_metadata)==null?void 0:K.role)||"reseller",status:((W=D.user_metadata)==null?void 0:W.status)||"pending",created_at:D.created_at||new Date().toISOString()}}),R=Array.from(new Map(N.map(D=>[D.id,D])).values());console.log("Usuarios únicos formateados:",R.length),t(R);const F=R.filter(D=>D.status==="pending")||[];f(F.length)}else console.warn("No se encontraron usuarios en auth"),t([]),f(0)}else if(v&&v.length>0){console.log("Usuarios obtenidos de RPC:",v.length);const S=Array.from(new Map(v.map(N=>[N.id,N])).values());console.log("Usuarios únicos de RPC:",S.length),t(S);const T=S.filter(N=>N.status==="pending")||[];f(T.length)}else console.warn("No se encontraron usuarios con RPC"),t([]),f(0)}catch(m){console.error("Error fetching users:",m),ne.error("Error al cargar usuarios"),t([]),f(0)}finally{n(!1)}};p.useEffect(()=>{h()},[]);const g=m=>{s(m),i(!0)},b=m=>{switch(m){case"active":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"inactive":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},x=m=>m==="admin"?"Administrador":"Revendedor",w=m=>{switch(m){case"active":return"Activo";case"pending":return"Pendiente";case"inactive":return"Inactivo";default:return m}},y=e.filter(m=>{const v=c.toLowerCase();return m.email.toLowerCase().includes(v)||m.full_name.toLowerCase().includes(v)||w(m.status).toLowerCase().includes(v)||x(m.role).toLowerCase().includes(v)});return r?l.jsx("div",{className:"p-4 flex items-center justify-center h-64",children:"Cargando usuarios..."}):l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Gestión de Usuarios"}),l.jsx("p",{className:"text-muted-foreground",children:"Administra los usuarios del sistema"})]}),d>0&&l.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg px-4 py-2 flex items-center space-x-2",children:[l.jsx(wn,{className:"h-5 w-5 text-yellow-500"}),l.jsxs("span",{className:"text-yellow-500 font-medium",children:[d," ",d===1?"usuario pendiente":"usuarios pendientes"," ","de activación"]})]})]}),l.jsx("div",{className:"mb-4",children:l.jsx(Br,{placeholder:"Buscar usuarios por nombre, email, rol o estado...",value:c,onChange:m=>u(m.target.value),className:"max-w-md"})}),l.jsx("div",{className:"rounded-md border bg-card",children:l.jsxs(Hb,{children:[l.jsx(Wb,{children:l.jsxs(bl,{children:[l.jsx(Zo,{children:"Usuario"}),l.jsx(Zo,{children:"Rol"}),l.jsx(Zo,{children:"Estado"}),l.jsx(Zo,{children:"Fecha de Registro"}),l.jsx(Zo,{className:"text-right",children:"Acciones"})]})}),l.jsx(Gb,{children:y.length===0?l.jsx(bl,{children:l.jsx(mo,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No se encontraron usuarios que coincidan con la búsqueda"})}):y.map(m=>l.jsxs(bl,{className:m.status==="pending"?"bg-yellow-500/5":"",children:[l.jsx(mo,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:m.full_name||"Sin nombre"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})}),l.jsx(mo,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[m.role==="admin"?l.jsx(of,{className:"h-4 w-4 text-blue-500"}):l.jsx(sf,{className:"h-4 w-4 text-green-500"}),l.jsx("span",{children:x(m.role)})]})}),l.jsx(mo,{children:l.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs w-fit ${b(m.status)}`,children:[m.status==="active"&&l.jsx(Dh,{className:"h-3 w-3"}),m.status==="pending"&&l.jsx(wn,{className:"h-3 w-3"}),m.status==="inactive"&&l.jsx(ui,{className:"h-3 w-3"}),w(m.status)]})}),l.jsx(mo,{children:new Date(m.created_at).toLocaleDateString("es-ES")}),l.jsx(mo,{className:"text-right",children:l.jsx(it,{variant:m.status==="pending"?"default":"outline",size:"sm",onClick:()=>g(m),className:m.status==="pending"?"bg-yellow-500 hover:bg-yellow-600":"",children:m.status==="pending"?"Activar":"Gestionar"})})]},m.id))})]})}),o&&l.jsx(t5,{isOpen:a,onClose:()=>{i(!1),s(null)},userId:o.id,userEmail:o.email,userName:o.full_name||"",currentRole:o.role,currentStatus:o.status,onUpdate:h})]})}async function Pg(e,t){try{console.log(`Actualizando estado de usuario ${e} a ${t}`);try{console.log("Paso 1: Actualizando en la tabla profiles con supabaseAdmin");const{error:r}=await Na.from("profiles").update({status:t}).eq("id",e);if(r){console.error("Error actualizando estado en profiles con supabaseAdmin:",r);try{console.log("Intentando actualizar con cliente normal...");const{error:n}=await ee.from("profiles").update({status:t}).eq("id",e);n?console.error("Error actualizando con cliente normal:",n):console.log("Perfil actualizado correctamente con cliente normal")}catch(n){console.error("Excepción al actualizar con cliente normal:",n)}}else console.log("Perfil actualizado correctamente con supabaseAdmin")}catch(r){console.error("Excepción al actualizar perfil:",r)}try{console.log("Paso 2: Actualizando mediante RPC");const{data:r,error:n}=await ee.rpc("update_user_status",{user_id:e,new_status:t});n?console.error("Error al usar RPC para actualizar estado:",n):console.log("Estado actualizado correctamente mediante RPC")}catch(r){console.error("Excepción al llamar RPC:",r)}try{console.log("Paso 3: Actualizando en la tabla resellers");const{data:r}=await ee.from("profiles").select("role").eq("id",e).single();if(r&&r.role==="reseller"){console.log("Usuario es revendedor, actualizando en tabla resellers");try{console.log("Actualizando con user_id usando supabaseAdmin");const{error:n}=await Na.from("resellers").update({status:t}).eq("user_id",e);n?console.error("Error actualizando con user_id:",n):console.log("Revendedor actualizado correctamente (user_id)")}catch(n){console.error("Excepción actualizando con user_id:",n)}try{console.log("Actualizando con id usando supabaseAdmin");const{error:n}=await Na.from("resellers").update({status:t}).eq("id",e);n?console.error("Error actualizando con id:",n):console.log("Revendedor actualizado correctamente (id)")}catch(n){console.error("Excepción actualizando con id:",n)}}else console.log("Usuario no es revendedor, no es necesario actualizar la tabla resellers")}catch(r){console.error("Error obteniendo datos del usuario:",r)}try{console.log("Paso 4: Verificando si es necesario crear el revendedor");const{data:r}=await ee.from("profiles").select("role, full_name").eq("id",e).single();if(r&&r.role==="reseller"){const{data:n}=await ee.from("resellers").select("id").or(`id.eq.${e},user_id.eq.${e}`).maybeSingle();if(n)console.log("Revendedor ya existe, no es necesario crearlo");else{console.log("No existe revendedor, creando uno nuevo");const o=new Date;o.setDate(o.getDate()+30);const{error:s}=await ee.from("resellers").insert([{id:e,user_id:e,full_name:r.full_name,status:t,phone:"",plan_type:"basic",plan_end_date:o.toISOString(),created_at:new Date().toISOString()}]);s?console.error("Error creando revendedor:",s):console.log("Revendedor creado correctamente")}}}catch(r){console.error("Error verificando/creando revendedor:",r)}return console.log("Proceso de actualización de estado completado"),{success:!0}}catch(r){return console.error("Error general actualizando estado:",r),{success:!1,error:r.message||"Error desconocido"}}}function s5(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[o,s]=p.useState(!1);p.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0),console.log("Obteniendo usuarios pendientes...");const{data:u,error:d}=await ee.rpc("get_all_profiles");if(d){console.error("Error al obtener perfiles:",d),ne.error("Error al cargar usuarios pendientes");return}const f=(u==null?void 0:u.filter(h=>h.status==="pending"))||[];console.log(`Encontrados ${f.length} usuarios pendientes`),t(f)}catch(u){console.error("Error:",u),ne.error("Error al cargar usuarios pendientes")}finally{n(!1)}},i=async()=>{try{s(!0),console.log("Activando todos los usuarios pendientes...");for(const u of e)console.log(`Activando usuario: ${u.email} (${u.id})`),await Pg(u.id,"active");ne.success("Todos los usuarios pendientes han sido activados"),a()}catch(u){console.error("Error al activar usuarios:",u),ne.error("Error al activar usuarios")}finally{s(!1)}},c=async(u,d)=>{try{console.log(`Activando usuario: ${d} (${u})`),await Pg(u,"active"),ne.success(`Usuario ${d} activado correctamente`),a()}catch(f){console.error(`Error al activar usuario ${d}:`,f),ne.error(`Error al activar usuario ${d}`)}};return l.jsxs("div",{className:"container mx-auto py-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Activar Usuarios Pendientes"}),l.jsx(it,{onClick:a,variant:"outline",disabled:r,children:"Actualizar"})]}),r?l.jsx("p",{children:"Cargando usuarios pendientes..."}):e.length===0?l.jsx("p",{children:"No hay usuarios pendientes de activación."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4",children:l.jsx(it,{onClick:i,disabled:o||e.length===0,className:"bg-green-600 hover:bg-green-700",children:o?"Activando usuarios...":`Activar Todos (${e.length})`})}),l.jsx("div",{className:"bg-card rounded-lg shadow-sm border border-border",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Usuarios Pendientes (",e.length,")"]}),l.jsx("div",{className:"space-y-4",children:e.map(u=>l.jsxs("div",{className:"flex justify-between items-center p-3 bg-background rounded-md border border-border",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:u.full_name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:u.email}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registrado el"," ",new Date(u.created_at).toLocaleDateString("es-ES")]})]}),l.jsx(it,{onClick:()=>c(u.id,u.email),size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Activar"})]},u.id))})]})})]})]})}function Tg({requiredRole:e}){const{user:t,loading:r}=Yr();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?e&&t.role!==e?t.role==="admin"?l.jsx(ln,{to:"/dashboard",replace:!0}):t.role==="reseller"?l.jsx(ln,{to:"/reseller/dashboard",replace:!0}):l.jsx(ln,{to:"/login",replace:!0}):l.jsx(r0,{}):l.jsx(ln,{to:"/login",replace:!0})}const a5=({toggleSidebar:e,isSidebarCollapsed:t})=>{const{user:r}=Yr();return l.jsxs("header",{className:"h-16 bg-card text-card-foreground shadow-md flex items-center justify-between px-4",children:[l.jsx("button",{onClick:e,className:"p-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors focus:outline-none",children:l.jsx(ON,{className:"h-6 w-6"})}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("div",{className:"ml-auto flex items-center gap-2",children:l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Hola, ",(r==null?void 0:r.full_name)||"Usuario"," (",(r==null?void 0:r.role)==="admin"?"Admin":"Revendedor",")"]})})})]})},i5="/xstream_logo.png",l5="/xs_logo.png",c5=e=>e==="admin"?[{title:"Dashboard",path:"/dashboard",icon:NN},{title:"Clientes",path:"/clients",icon:Wr},{title:"Plantillas",path:"/templates",icon:cg},{title:"Revendedores",path:"/resellers",icon:tR},{title:"Gestión de Usuarios",path:"/admin/users",icon:gx}]:e==="reseller"?[{title:"Clientes",path:"/reseller/clients",icon:Wr},{title:"Plantillas",path:"/reseller/templates",icon:cg},{title:"Configuración",path:"/reseller/settings",icon:HN}]:[];function u5({isCollapsed:e}){var i;wc();const{user:t,logout:r}=Yr(),n=Cn(),o=c5(t==null?void 0:t.role),s=async()=>{try{localStorage.clear(),sessionStorage.clear(),await ee.auth.signOut(),setTimeout(()=>{window.location.replace("/login")},100)}catch(c){console.error("Error al cerrar sesión:",c),window.location.replace("/login")}},a=((i=o.find(c=>c.path===n.pathname))==null?void 0:i.title)||"";return l.jsxs("aside",{className:`h-screen bg-secondary text-foreground flex flex-col transition-all duration-300 ease-in-out ${e?"w-16 sm:w-20":"w-64"}`,children:[l.jsx("div",{className:"p-2 sm:p-4 border-b border-border flex items-center justify-center",children:l.jsx("img",{src:e?l5:i5,alt:"XtreamSales Logo",className:`transition-all duration-300 ease-in-out ${e?"h-6 sm:h-8":"h-10 sm:h-12"} w-auto`})}),l.jsx("nav",{className:"flex-grow p-2 sm:p-4 space-y-2",children:o.map(c=>l.jsxs(_c,{to:c.path,className:`flex items-center space-x-3 p-2 rounded-xl transition-colors
              ${c.title===a?"bg-[#00A8FF] text-white":"text-muted-foreground hover:bg-[#FF00FF]/40"}
              ${e?"justify-center":""}
            `,title:e?c.title:void 0,children:[l.jsx(c.icon,{className:"h-4 w-4 sm:h-5 sm:w-5"}),!e&&l.jsx("span",{className:"text-sm font-medium",children:c.title})]},c.title))}),l.jsx("div",{className:`p-2 sm:p-4 border-t border-border ${e?"flex justify-center":""}`,children:l.jsx("div",{className:"mt-auto",children:l.jsx("button",{onClick:s,className:`w-full flex items-center px-2 sm:px-3 py-1 sm:py-2 text-muted-foreground hover:bg-accent hover:text-white transition-colors ${e?"justify-center":""}`,children:e?l.jsx(lg,{className:"w-4 h-4 sm:w-5 sm:h-5"}):l.jsxs(l.Fragment,{children:[l.jsx(lg,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Cerrar Sesión"]})})})})]})}function Ag(){const[e,t]=Y.useState(()=>window.innerWidth<1024);p.useEffect(()=>{const n=()=>{window.innerWidth<1024&&t(!0)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]);const r=()=>{t(!e)};return l.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[l.jsx(u5,{isCollapsed:e}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(a5,{toggleSidebar:r,isSidebarCollapsed:e}),l.jsx("main",{className:"flex-1 p-8 overflow-auto",children:l.jsx(r0,{})})]}),l.jsx(gP,{position:"top-right",theme:"dark"})]})}const d5=()=>{const{user:e}=Yr(),[t,r]=p.useState(!0),[n,o]=p.useState(null),[s,a]=p.useState(null);p.useEffect(()=>{i();const c=setInterval(()=>{console.log("Actualizando estadísticas del revendedor..."),i()},1e4);return()=>clearInterval(c)},[]);const i=async()=>{r(!0),a(null);try{o({clients:{active:0,expiringSoon:0,expired:0},alerts:[],recentActivity:[],services:[],incidents:[]})}catch(c){console.error("Error al cargar estadísticas del revendedor:",c),a(c.message)}finally{r(!1)}};return t?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(px,{className:"w-8 h-8 animate-spin text-primary"})}):s?l.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500",children:["Error al cargar estadísticas: ",s]}):l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Dashboard del Revendedor"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Clientes Activos"}),l.jsx(Wr,{className:"w-5 h-5 text-green-400"})]}),l.jsx("p",{className:"text-3xl font-semibold text-green-400",children:(n==null?void 0:n.clients.active)||0})]}),l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Clientes por Vencer (5 días)"}),l.jsx(Yl,{className:"w-5 h-5 text-yellow-400"})]}),l.jsx("p",{className:"text-3xl font-semibold text-yellow-400",children:(n==null?void 0:n.clients.expiringSoon)||0})]}),l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Clientes Vencidos"}),l.jsx(Wr,{className:"w-5 h-5 text-red-400"})]}),l.jsx("p",{className:"text-3xl font-semibold text-red-400",children:(n==null?void 0:n.clients.expired)||0})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx(lb,{alerts:(n==null?void 0:n.alerts)||[],isLoading:t})}),l.jsx("div",{className:"mt-6",children:l.jsx(cb,{activities:(n==null?void 0:n.recentActivity)||[],isLoading:t})}),l.jsx("div",{className:"mt-6",children:l.jsx(ub,{services:(n==null?void 0:n.services)||[],incidents:(n==null?void 0:n.incidents)||[],isLoading:t})})]})})},f5=e=>{const t=e.length,r=e.filter(s=>s.status==="active").length,n=e.filter(s=>s.status==="expiring").length,o=e.filter(s=>s.status==="expired").length;return[{title:"Total Clientes",value:t.toString(),Icon:Wr,color:"text-blue-400"},{title:"Activos",value:r.toString(),Icon:$c,color:"text-green-400"},{title:"Próximos a Vencer",value:n.toString(),Icon:wn,color:"text-yellow-400"},{title:"Vencidos",value:o.toString(),Icon:$h,color:"text-red-400"}]},h5=()=>{const{user:e}=Yr(),[t,r]=p.useState([]),[n,o]=p.useState([]),[s,a]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState("all"),[g,b]=p.useState(!0),[x,w]=p.useState(!1),[y,m]=p.useState(null),[v,_]=p.useState(!1),[S,T]=p.useState(null),[N,R]=p.useState(null),F=async()=>{b(!0);try{if(!(e!=null&&e.id)){r([]),o([]);return}const I=await Ur.getClientsByOwner(e.id);r(I),D(I,u,f)}catch(I){console.error("Error al cargar clientes del revendedor:",I),ne.error("Error al cargar los clientes del revendedor")}finally{b(!1)}},D=(I,A,V)=>{const C=I.filter(k=>{var U,q;const P=A?((U=k.cliente)==null?void 0:U.toLowerCase().includes(A.toLowerCase()))||((q=k.whatsapp)==null?void 0:q.toLowerCase().includes(A.toLowerCase()))||(k.usuario?k.usuario.toLowerCase().includes(A.toLowerCase()):!1):!0,O=V==="all"||k.status===V;return P&&O});o(C)};p.useEffect(()=>{e!=null&&e.id&&F()},[e==null?void 0:e.id]),p.useEffect(()=>{if(!(e!=null&&e.id))return;const I=ee.channel(`reseller-clients-${e.id}-channel`).on("postgres_changes",{event:"*",schema:"public",table:"clients",filter:`owner_id=eq.${e.id}`},A=>{console.log("Cambio en tiempo real recibido en la tabla clients para revendedor:",A),ne.info("Actualizando lista de clientes...",{duration:2e3}),F()}).subscribe((A,V)=>{A==="SUBSCRIBED"&&console.log(`Conectado a Supabase Realtime para clientes del revendedor ${e.id}!`),A==="CHANNEL_ERROR"&&(console.error("Error en el canal de Supabase Realtime para clientes del revendedor:",V),ne.error("Error en la conexión de tiempo real para clientes del revendedor."))});return()=>{ee.removeChannel(I),console.log("Desconectado de Supabase Realtime para clientes del revendedor.")}},[e==null?void 0:e.id]),p.useEffect(()=>{D(t,u,f)},[t,u,f]);const Q=async I=>{if(!(e!=null&&e.id)){ne.error("No se pudo guardar el cliente: ID de revendedor no disponible.");return}try{i?(await Ur.update(i.id,I),ne.success("Cliente actualizado correctamente")):(await Ur.create(I),ne.success("Cliente creado correctamente")),a(!1),F()}catch(A){console.error("Error al guardar cliente:",A),ne.error("Error al guardar el cliente")}},K=async I=>{try{await Ur.delete(I),ne.success("Cliente eliminado correctamente"),F()}catch(A){console.error("Error al eliminar cliente:",A),ne.error("Error al eliminar el cliente")}},W=async I=>{if(y)try{const A=new Date;let V=new Date(A);I.includes("1 Mes")?V.setMonth(A.getMonth()+1):I.includes("3 Meses")?V.setMonth(A.getMonth()+3):I.includes("6 Meses")?V.setMonth(A.getMonth()+6):I.includes("12 Meses")&&V.setFullYear(A.getFullYear()+1),await Ur.update(y.id,{fecha_fin:V.toISOString(),plataforma:I}),ne.success(`Plan renovado exitosamente hasta ${V.toLocaleDateString()}`),w(!1),F()}catch(A){console.error("Error al renovar plan:",A),ne.error("Error al renovar el plan")}},z=async I=>{if(!(!N||!S))try{const A=new Date(N.fecha_fin),V=new Date,C=Math.ceil((A.getTime()-V.getTime())/(1e3*60*60*24)),k=Ts(I.content,{cliente:N.cliente||"",plataforma:N.plataforma||"",fecha_fin:N.fecha_fin?new Date(N.fecha_fin).toLocaleDateString():"",dias_restantes:`${C} días`,usuario:N.usuario||"",contraseña:N.contraseña||""});let P=N.whatsapp||"";P.startsWith("+")?P=P.substring(1).replace(/\D/g,""):(P=P.replace(/\D/g,""),!P.startsWith("52")&&!P.startsWith("57")&&!P.startsWith("54")&&!P.startsWith("55")&&!P.startsWith("56")&&!P.startsWith("58")&&!P.startsWith("51")&&!P.startsWith("50")&&P.length>0&&(P="52"+P)),Ya(P,k),ne.success("Mensaje preparado para enviar"),_(!1)}catch(A){console.error("Error al enviar plantilla:",A),ne.error("Error al preparar el mensaje")}};return l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Gestión de Clientes del Revendedor"}),l.jsxs("button",{className:"bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",onClick:()=>{c(null),a(!0)},children:[l.jsx(Mh,{className:"w-4 h-4"}),l.jsx("span",{children:"Nuevo Cliente"})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:f5(t).map((I,A)=>l.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm text-muted-foreground",children:I.title}),l.jsx("p",{className:`text-2xl font-semibold mt-1 ${I.color}`,children:I.value})]}),l.jsx(I.Icon,{className:`w-5 h-5 ${I.color}`})]},A))}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[l.jsx("div",{className:"relative flex-1",children:l.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:u,onChange:I=>d(I.target.value)})}),l.jsxs("select",{className:"px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:f,onChange:I=>h(I.target.value),children:[l.jsx("option",{value:"all",children:"Todos los estados"}),l.jsx("option",{value:"active",children:"Activos"}),l.jsx("option",{value:"expiring",children:"Por vencer"}),l.jsx("option",{value:"expired",children:"Vencidos"})]})]}),l.jsx("div",{className:"overflow-x-auto bg-[#191c23] rounded-xl border border-border/10",children:l.jsx(ab,{clients:n,isLoading:g,onEdit:I=>{c(I),a(!0)},onDelete:K,onRenew:I=>{m(I),w(!0)},onSendCredentials:I=>{R(I),T("credenciales"),_(!0)},onSendReminder:I=>{R(I),T("recordatorio"),_(!0)}})})]}),l.jsx(ib,{isOpen:s,onClose:()=>a(!1),onSubmit:Q,client:i}),l.jsx(Hh,{isOpen:x,onClose:()=>w(!1),onSubmit:W}),l.jsx(up,{isOpen:v,onClose:()=>_(!1),onSelect:z,type:S})]})},p5=()=>{const{user:e}=Yr(),[t,r]=p.useState([]),[n,o]=p.useState({name:"",content:"",category:"credenciales"}),[s,a]=p.useState(!0),i=async()=>{if(e){a(!0);try{const h=await er.getAll(e.id);r(h)}catch(h){console.error("Error fetching templates:",h),ne.error("Error al cargar las plantillas")}finally{a(!1)}}};p.useEffect(()=>{e&&(async()=>{try{await er.initializeDefaultTemplates(),await i()}catch(g){console.error("Error initializing templates:",g),ne.error("Error al cargar las plantillas")}})()},[e]);const c=async h=>{if(h.preventDefault(),!e){ne.error("Debes iniciar sesión para guardar plantillas.");return}try{n.id?(await er.update(n.id,n),ne.success("Plantilla actualizada exitosamente")):(await er.create(n,e.id),ne.success("Plantilla creada exitosamente")),o({name:"",content:"",category:"credenciales"}),i()}catch(g){console.error("Error al guardar plantilla:",g),ne.error(`Error al guardar la plantilla: ${g.message}`)}},u=async h=>{if(!e){ne.error("Debes iniciar sesión para eliminar plantillas.");return}if(window.confirm("¿Estás seguro de eliminar esta plantilla?"))try{await er.delete(h,e.id),ne.success("Plantilla eliminada exitosamente"),i()}catch(g){console.error("Error deleting template:",g),ne.error(`Error al eliminar la plantilla: ${g.message}`)}},d=h=>{o(g=>({...g,content:(g.content||"")+`{${h}}`}))},f=h=>h.owner_id===null;return l.jsxs("div",{className:"space-y-6 p-4",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Gestión de Plantillas de WhatsApp"}),l.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 p-6",children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:n.id?"Editar Plantilla":"Crear Nueva Plantilla"}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Nombre de la Plantilla"}),l.jsx("input",{type:"text",value:n.name||"",onChange:h=>o(g=>({...g,name:h.target.value})),placeholder:"Ej: Recordatorio urgente",className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0,disabled:!!n.id&&f(t.find(h=>h.id===n.id))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Categoría"}),l.jsxs("select",{value:n.category||"credenciales",onChange:h=>o(g=>({...g,category:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0,children:[l.jsx("option",{value:"credenciales",children:"Credenciales"}),l.jsx("option",{value:"recordatorio",children:"Recordatorio"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Contenido del Mensaje"}),l.jsx("textarea",{value:n.content||"",onChange:h=>o(g=>({...g,content:h.target.value})),placeholder:"Escribe tu mensaje aquí...",className:"w-full h-32 bg-background/50 border border-border/10 rounded-lg px-3 py-2 text-sm",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium block mb-2",children:"Placeholders disponibles"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:db.map(({key:h,description:g})=>l.jsx("button",{type:"button",onClick:()=>d(h),className:"px-2 py-1 text-xs rounded-md bg-[#00A8FF]/10 text-[#00A8FF] hover:bg-[#00A8FF]/20 transition-colors",title:g,children:`{${h}}`},h))})]}),l.jsxs("div",{className:"flex justify-end gap-4",children:[n.id&&l.jsx("button",{type:"button",onClick:()=>o({name:"",content:"",category:"credenciales"}),className:"px-4 py-2 rounded-lg text-sm font-medium bg-gray-500 hover:bg-gray-600 text-white",children:"Cancelar Edición"}),l.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:n.id?"Guardar Cambios":"Agregar Plantilla"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Plantillas Existentes"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s?l.jsx("p",{children:"Cargando..."}):t.map(h=>l.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 p-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-[#00A8FF]",children:h.name}),l.jsx("span",{className:`text-xs ${f(h)?"text-blue-400":"text-gray-400"}`,children:f(h)?"Plantilla del Sistema":"Mi Plantilla"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>o(h),className:"p-1.5 rounded-md hover:bg-[#00A8FF]/20 text-[#00A8FF] transition-colors",children:l.jsx(Lc,{className:"w-4 h-4"})}),!f(h)&&l.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 rounded-md hover:bg-red-500/20 text-red-500 transition-colors",children:l.jsx(ci,{className:"w-4 h-4"})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap leading-relaxed mt-4",children:h.content})]},h.id))})]})]})},m5=()=>{const{user:e,updatePassword:t}=Yr(),[r,n]=p.useState(""),[o,s]=p.useState(""),[a,i]=p.useState(!1),c=async u=>{if(u.preventDefault(),r!==o){ne.error("Las contraseñas no coinciden.");return}if(r.length<6){ne.error("La contraseña debe tener al menos 6 caracteres.");return}i(!0);try{await t(r),ne.success("Contraseña actualizada exitosamente."),n(""),s("")}catch(d){console.error("Error al cambiar la contraseña:",d),ne.error("Error al cambiar la contraseña. Inténtalo de nuevo.")}finally{i(!1)}};return l.jsxs("div",{className:"p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Configuración del Revendedor"}),l.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-md mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Datos de la Cuenta"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",e==null?void 0:e.email]})]}),l.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cambiar Contraseña"}),l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Xt,{htmlFor:"new-password",children:"Nueva Contraseña"}),l.jsx(Br,{id:"new-password",type:"password",value:r,onChange:u=>n(u.target.value),required:!0,className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Xt,{htmlFor:"confirm-password",children:"Confirmar Contraseña"}),l.jsx(Br,{id:"confirm-password",type:"password",value:o,onChange:u=>s(u.target.value),required:!0,className:"mt-1"})]}),l.jsx(it,{type:"submit",disabled:a,className:"w-full",children:a?"Cambiando...":"Cambiar Contraseña"})]})]})]})};function g5(){const{user:e}=Yr();return l.jsx(YC,{children:l.jsxs(EC,{children:[l.jsx(bt,{path:"/login",element:e?e.role==="admin"?l.jsx(ln,{to:"/dashboard",replace:!0}):l.jsx(ln,{to:"/reseller/clients",replace:!0}):l.jsx(yP,{})}),l.jsx(bt,{element:l.jsx(Tg,{requiredRole:"admin"}),children:l.jsxs(bt,{element:l.jsx(Ag,{}),children:[l.jsx(bt,{path:"/dashboard",element:l.jsx(yA,{})}),l.jsx(bt,{path:"/resellers",element:l.jsx(hA,{})}),l.jsx(bt,{path:"/clients",element:l.jsx(gA,{})}),l.jsx(bt,{path:"/templates",element:l.jsx(xA,{})}),l.jsx(bt,{path:"/admin/users",element:l.jsx(o5,{})}),l.jsx(bt,{path:"/admin/activate-users",element:l.jsx(s5,{})})]})}),l.jsx(bt,{element:l.jsx(Tg,{requiredRole:"reseller"}),children:l.jsxs(bt,{element:l.jsx(Ag,{}),children:[l.jsx(bt,{path:"/reseller/dashboard",element:l.jsx(d5,{})}),l.jsx(bt,{path:"/reseller/clients",element:l.jsx(h5,{})}),l.jsx(bt,{path:"/reseller/templates",element:l.jsx(p5,{})}),l.jsx(bt,{path:"/reseller/settings",element:l.jsx(m5,{})})]})}),l.jsx(bt,{path:"/",element:e?e.role==="admin"?l.jsx(ln,{to:"/dashboard",replace:!0}):l.jsx(ln,{to:"/reseller/clients",replace:!0}):l.jsx(ln,{to:"/login",replace:!0})})]})})}function v5(){return l.jsx(bj,{children:l.jsx(g5,{})})}const y5=p.createContext({user:null,loading:!0});function x5({children:e}){const[t,r]=p.useState(null),[n,o]=p.useState(!0);return p.useEffect(()=>{ee.auth.getSession().then(({data:{session:a}})=>{r((a==null?void 0:a.user)??null),o(!1)});const{data:{subscription:s}}=ee.auth.onAuthStateChange((a,i)=>{r((i==null?void 0:i.user)??null)});return()=>s.unsubscribe()},[]),l.jsx(y5.Provider,{value:{user:t,loading:n},children:e})}Xu.createRoot(document.getElementById("root")).render(l.jsx(Y.StrictMode,{children:l.jsx(x5,{children:l.jsx(v5,{})})}));export{bf as g};
//# sourceMappingURL=index-COdqaH2J.js.map
