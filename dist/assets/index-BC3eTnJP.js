function i1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(n,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var $g={exports:{}},nc={},Fg={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=Symbol.for("react.element"),c1=Symbol.for("react.portal"),u1=Symbol.for("react.fragment"),d1=Symbol.for("react.strict_mode"),f1=Symbol.for("react.profiler"),h1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),m1=Symbol.for("react.forward_ref"),g1=Symbol.for("react.suspense"),v1=Symbol.for("react.memo"),y1=Symbol.for("react.lazy"),bp=Symbol.iterator;function x1(e){return e===null||typeof e!="object"?null:(e=bp&&e[bp]||e["@@iterator"],typeof e=="function"?e:null)}var zg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ug=Object.assign,Bg={};function As(e,t,r){this.props=e,this.context=t,this.refs=Bg,this.updater=r||zg}As.prototype.isReactComponent={};As.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};As.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vg(){}Vg.prototype=As.prototype;function jf(e,t,r){this.props=e,this.context=t,this.refs=Bg,this.updater=r||zg}var kf=jf.prototype=new Vg;kf.constructor=jf;Ug(kf,As.prototype);kf.isPureReactComponent=!0;var _p=Array.isArray,Hg=Object.prototype.hasOwnProperty,Nf={current:null},Wg={key:!0,ref:!0,__self:!0,__source:!0};function qg(e,t,r){var n,o={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Hg.call(t,n)&&!Wg.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:ti,type:e,key:s,ref:a,props:o,_owner:Nf.current}}function w1(e,t){return{$$typeof:ti,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ti}function b1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sp=/\/+/g;function ou(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b1(""+e.key):t.toString(36)}function rl(e,t,r,n,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ti:case c1:a=!0}}if(a)return a=e,o=o(a),e=n===""?"."+ou(a,0):n,_p(o)?(r="",e!=null&&(r=e.replace(Sp,"$&/")+"/"),rl(o,t,r,"",function(u){return u})):o!=null&&(Rf(o)&&(o=w1(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Sp,"$&/")+"/")+e)),t.push(o)),1;if(a=0,n=n===""?".":n+":",_p(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+ou(s,l);a+=rl(s,t,r,c,o)}else if(c=x1(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+ou(s,l++),a+=rl(s,t,r,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ei(e,t,r){if(e==null)return e;var n=[],o=0;return rl(e,n,"","",function(s){return t.call(r,s,o++)}),n}function _1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},nl={transition:null},S1={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:nl,ReactCurrentOwner:Nf};function Gg(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Ei,forEach:function(e,t,r){Ei(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ei(e,function(){t++}),t},toArray:function(e){return Ei(e,function(t){return t})||[]},only:function(e){if(!Rf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=As;Te.Fragment=u1;Te.Profiler=f1;Te.PureComponent=jf;Te.StrictMode=d1;Te.Suspense=g1;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S1;Te.act=Gg;Te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ug({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Nf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Hg.call(t,c)&&!Wg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ti,type:e.type,key:o,ref:s,props:n,_owner:a}};Te.createContext=function(e){return e={$$typeof:p1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:h1,_context:e},e.Consumer=e};Te.createElement=qg;Te.createFactory=function(e){var t=qg.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:m1,render:e}};Te.isValidElement=Rf;Te.lazy=function(e){return{$$typeof:y1,_payload:{_status:-1,_result:e},_init:_1}};Te.memo=function(e,t){return{$$typeof:v1,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=nl.transition;nl.transition={};try{e()}finally{nl.transition=t}};Te.unstable_act=Gg;Te.useCallback=function(e,t){return Lt.current.useCallback(e,t)};Te.useContext=function(e){return Lt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Lt.current.useEffect(e,t)};Te.useId=function(){return Lt.current.useId()};Te.useImperativeHandle=function(e,t,r){return Lt.current.useImperativeHandle(e,t,r)};Te.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Lt.current.useMemo(e,t)};Te.useReducer=function(e,t,r){return Lt.current.useReducer(e,t,r)};Te.useRef=function(e){return Lt.current.useRef(e)};Te.useState=function(e){return Lt.current.useState(e)};Te.useSyncExternalStore=function(e,t,r){return Lt.current.useSyncExternalStore(e,t,r)};Te.useTransition=function(){return Lt.current.useTransition()};Te.version="18.3.1";Fg.exports=Te;var p=Fg.exports;const Q=Ef(p),Kg=i1({__proto__:null,default:Q},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1=p,E1=Symbol.for("react.element"),j1=Symbol.for("react.fragment"),k1=Object.prototype.hasOwnProperty,N1=C1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R1={key:!0,ref:!0,__self:!0,__source:!0};function Yg(e,t,r){var n,o={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)k1.call(t,n)&&!R1.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:E1,type:e,key:s,ref:a,props:o,_owner:N1.current}}nc.Fragment=j1;nc.jsx=Yg;nc.jsxs=Yg;$g.exports=nc;var i=$g.exports,td={},Jg={exports:{}},sr={},Qg={exports:{}},Xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,P){var T=E.length;E.push(P);e:for(;0<T;){var A=T-1>>>1,V=E[A];if(0<o(V,P))E[A]=P,E[T]=V,T=A;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var P=E[0],T=E.pop();if(T!==P){E[0]=T;e:for(var A=0,V=E.length,D=V>>>1;A<D;){var O=2*(A+1)-1,C=E[O],Z=O+1,B=E[Z];if(0>o(C,T))Z<V&&0>o(B,C)?(E[A]=B,E[Z]=T,A=Z):(E[A]=C,E[O]=T,A=O);else if(Z<V&&0>o(B,T))E[A]=B,E[Z]=T,A=Z;else break e}}return P}function o(E,P){var T=E.sortIndex-P.sortIndex;return T!==0?T:E.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,h=3,g=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(E){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=E)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function _(E){if(w=!1,v(E),!b)if(r(c)!==null)b=!0,M(S);else{var P=r(u);P!==null&&q(_,P.startTime-E)}}function S(E,P){b=!1,w&&(w=!1,y(N),N=-1),g=!0;var T=h;try{for(v(P),d=r(c);d!==null&&(!(d.expirationTime>P)||E&&!J());){var A=d.callback;if(typeof A=="function"){d.callback=null,h=d.priorityLevel;var V=A(d.expirationTime<=P);P=e.unstable_now(),typeof V=="function"?d.callback=V:d===r(c)&&n(c),v(P)}else n(c);d=r(c)}if(d!==null)var D=!0;else{var O=r(u);O!==null&&q(_,O.startTime-P),D=!1}return D}finally{d=null,h=T,g=!1}}var R=!1,k=null,N=-1,L=5,I=-1;function J(){return!(e.unstable_now()-I<L)}function H(){if(k!==null){var E=e.unstable_now();I=E;var P=!0;try{P=k(!0,E)}finally{P?K():(R=!1,k=null)}}else R=!1}var K;if(typeof m=="function")K=function(){m(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,U=z.port2;z.port1.onmessage=H,K=function(){U.postMessage(null)}}else K=function(){x(H,0)};function M(E){k=E,R||(R=!0,K())}function q(E,P){N=x(function(){E(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,M(S))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var T=h;h=P;try{return E()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,P){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var T=h;h=E;try{return P()}finally{h=T}},e.unstable_scheduleCallback=function(E,P,T){var A=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?A+T:A):T=A,E){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=T+V,E={id:f++,callback:P,priorityLevel:E,startTime:T,expirationTime:V,sortIndex:-1},T>A?(E.sortIndex=T,t(u,E),r(c)===null&&E===r(u)&&(w?(y(N),N=-1):w=!0,q(_,T-A))):(E.sortIndex=V,t(c,E),b||g||(b=!0,M(S))),E},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(E){var P=h;return function(){var T=h;h=P;try{return E.apply(this,arguments)}finally{h=T}}}})(Xg);Qg.exports=Xg;var P1=Qg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=p,or=P1;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zg=new Set,Pa={};function Oo(e,t){bs(e,t),bs(e+"Capture",t)}function bs(e,t){for(Pa[e]=t,e=0;e<t.length;e++)Zg.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rd=Object.prototype.hasOwnProperty,A1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cp={},Ep={};function O1(e){return rd.call(Ep,e)?!0:rd.call(Cp,e)?!1:A1.test(e)?Ep[e]=!0:(Cp[e]=!0,!1)}function D1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I1(e,t,r,n){if(t===null||typeof t>"u"||D1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,r,n,o,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pf=/[\-:]([a-z])/g;function Tf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pf,Tf);Et[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pf,Tf);Et[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pf,Tf);Et[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Af(e,t,r,n){var o=Et.hasOwnProperty(t)?Et[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I1(t,r,o,n)&&(r=null),n||o===null?O1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sn=T1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ji=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),nd=Symbol.for("react.profiler"),ev=Symbol.for("react.provider"),tv=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),od=Symbol.for("react.suspense"),sd=Symbol.for("react.suspense_list"),If=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),rv=Symbol.for("react.offscreen"),jp=Symbol.iterator;function Qs(e){return e===null||typeof e!="object"?null:(e=jp&&e[jp]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,su;function ca(e){if(su===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);su=t&&t[1]||""}return`
`+su+e}var au=!1;function iu(e,t){if(!e||au)return"";au=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=n.stack.split(`
`),a=o.length-1,l=s.length-1;1<=a&&0<=l&&o[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==s[l]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{au=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ca(e):""}function M1(e){switch(e.tag){case 5:return ca(e.type);case 16:return ca("Lazy");case 13:return ca("Suspense");case 19:return ca("SuspenseList");case 0:case 2:case 15:return e=iu(e.type,!1),e;case 11:return e=iu(e.type.render,!1),e;case 1:return e=iu(e.type,!0),e;default:return""}}function ad(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case es:return"Fragment";case Zo:return"Portal";case nd:return"Profiler";case Of:return"StrictMode";case od:return"Suspense";case sd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tv:return(e.displayName||"Context")+".Consumer";case ev:return(e._context.displayName||"Context")+".Provider";case Df:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case If:return t=e.displayName||null,t!==null?t:ad(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return ad(e(t))}catch{}}return null}function L1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ad(t);case 8:return t===Of?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $1(e){var t=nv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ki(e){e._valueTracker||(e._valueTracker=$1(e))}function ov(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function id(e,t){var r=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function kp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sv(e,t){t=t.checked,t!=null&&Af(e,"checked",t,!1)}function ld(e,t){sv(e,t);var r=Qn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cd(e,t.type,r):t.hasOwnProperty("defaultValue")&&cd(e,t.type,Qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Np(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cd(e,t,r){(t!=="number"||_l(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ua=Array.isArray;function fs(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qn(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ud(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(ua(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qn(r)}}function av(e,t){var r=Qn(t.value),n=Qn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ni,lv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ta(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F1=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(e){F1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),va[t]=va[e]})});function cv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||va.hasOwnProperty(e)&&va[e]?(""+t).trim():t+"px"}function uv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=cv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var z1=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fd(e,t){if(t){if(z1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function hd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=null;function Mf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var md=null,hs=null,ps=null;function Tp(e){if(e=oi(e)){if(typeof md!="function")throw Error(X(280));var t=e.stateNode;t&&(t=lc(t),md(e.stateNode,e.type,t))}}function dv(e){hs?ps?ps.push(e):ps=[e]:hs=e}function fv(){if(hs){var e=hs,t=ps;if(ps=hs=null,Tp(e),t)for(e=0;e<t.length;e++)Tp(t[e])}}function hv(e,t){return e(t)}function pv(){}var lu=!1;function mv(e,t,r){if(lu)return e(t,r);lu=!0;try{return hv(e,t,r)}finally{lu=!1,(hs!==null||ps!==null)&&(pv(),fv())}}function Aa(e,t){var r=e.stateNode;if(r===null)return null;var n=lc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var gd=!1;if(mn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){gd=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{gd=!1}function U1(e,t,r,n,o,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var ya=!1,Sl=null,Cl=!1,vd=null,B1={onError:function(e){ya=!0,Sl=e}};function V1(e,t,r,n,o,s,a,l,c){ya=!1,Sl=null,U1.apply(B1,arguments)}function H1(e,t,r,n,o,s,a,l,c){if(V1.apply(this,arguments),ya){if(ya){var u=Sl;ya=!1,Sl=null}else throw Error(X(198));Cl||(Cl=!0,vd=u)}}function Do(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ap(e){if(Do(e)!==e)throw Error(X(188))}function W1(e){var t=e.alternate;if(!t){if(t=Do(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return Ap(o),e;if(s===n)return Ap(o),t;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=o,n=s;else{for(var a=!1,l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function vv(e){return e=W1(e),e!==null?yv(e):null}function yv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yv(e);if(t!==null)return t;e=e.sibling}return null}var xv=or.unstable_scheduleCallback,Op=or.unstable_cancelCallback,q1=or.unstable_shouldYield,G1=or.unstable_requestPaint,st=or.unstable_now,K1=or.unstable_getCurrentPriorityLevel,Lf=or.unstable_ImmediatePriority,wv=or.unstable_UserBlockingPriority,El=or.unstable_NormalPriority,Y1=or.unstable_LowPriority,bv=or.unstable_IdlePriority,oc=null,Hr=null;function J1(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(oc,e,void 0,(e.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:Z1,Q1=Math.log,X1=Math.LN2;function Z1(e){return e>>>=0,e===0?32:31-(Q1(e)/X1|0)|0}var Ri=64,Pi=4194304;function da(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~o;l!==0?n=da(l):(s&=a,s!==0&&(n=da(s)))}else a=r&~o,a!==0?n=da(a):s!==0&&(n=da(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-jr(t),o=1<<r,n|=e[r],t&=~o;return n}function e_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-jr(s),l=1<<a,c=o[a];c===-1?(!(l&r)||l&n)&&(o[a]=e_(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function yd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _v(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function cu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ri(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jr(t),e[t]=r}function r_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-jr(r),s=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~s}}function $f(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-jr(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var $e=0;function Sv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cv,Ff,Ev,jv,kv,xd=!1,Ti=[],Vn=null,Hn=null,Wn=null,Oa=new Map,Da=new Map,$n=[],n_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dp(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(t.pointerId)}}function Zs(e,t,r,n,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[o]},t!==null&&(t=oi(t),t!==null&&Ff(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function o_(e,t,r,n,o){switch(t){case"focusin":return Vn=Zs(Vn,e,t,r,n,o),!0;case"dragenter":return Hn=Zs(Hn,e,t,r,n,o),!0;case"mouseover":return Wn=Zs(Wn,e,t,r,n,o),!0;case"pointerover":var s=o.pointerId;return Oa.set(s,Zs(Oa.get(s)||null,e,t,r,n,o)),!0;case"gotpointercapture":return s=o.pointerId,Da.set(s,Zs(Da.get(s)||null,e,t,r,n,o)),!0}return!1}function Nv(e){var t=yo(e.target);if(t!==null){var r=Do(t);if(r!==null){if(t=r.tag,t===13){if(t=gv(r),t!==null){e.blockedOn=t,kv(e.priority,function(){Ev(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);pd=n,r.target.dispatchEvent(n),pd=null}else return t=oi(r),t!==null&&Ff(t),e.blockedOn=r,!1;t.shift()}return!0}function Ip(e,t,r){ol(e)&&r.delete(t)}function s_(){xd=!1,Vn!==null&&ol(Vn)&&(Vn=null),Hn!==null&&ol(Hn)&&(Hn=null),Wn!==null&&ol(Wn)&&(Wn=null),Oa.forEach(Ip),Da.forEach(Ip)}function ea(e,t){e.blockedOn===t&&(e.blockedOn=null,xd||(xd=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,s_)))}function Ia(e){function t(o){return ea(o,e)}if(0<Ti.length){ea(Ti[0],e);for(var r=1;r<Ti.length;r++){var n=Ti[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vn!==null&&ea(Vn,e),Hn!==null&&ea(Hn,e),Wn!==null&&ea(Wn,e),Oa.forEach(t),Da.forEach(t),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)Nv(r),r.blockedOn===null&&$n.shift()}var ms=Sn.ReactCurrentBatchConfig,kl=!0;function a_(e,t,r,n){var o=$e,s=ms.transition;ms.transition=null;try{$e=1,zf(e,t,r,n)}finally{$e=o,ms.transition=s}}function i_(e,t,r,n){var o=$e,s=ms.transition;ms.transition=null;try{$e=4,zf(e,t,r,n)}finally{$e=o,ms.transition=s}}function zf(e,t,r,n){if(kl){var o=wd(e,t,r,n);if(o===null)xu(e,t,n,Nl,r),Dp(e,n);else if(o_(o,e,t,r,n))n.stopPropagation();else if(Dp(e,n),t&4&&-1<n_.indexOf(e)){for(;o!==null;){var s=oi(o);if(s!==null&&Cv(s),s=wd(e,t,r,n),s===null&&xu(e,t,n,Nl,r),s===o)break;o=s}o!==null&&n.stopPropagation()}else xu(e,t,n,null,r)}}var Nl=null;function wd(e,t,r,n){if(Nl=null,e=Mf(n),e=yo(e),e!==null)if(t=Do(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nl=e,null}function Rv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K1()){case Lf:return 1;case wv:return 4;case El:case Y1:return 16;case bv:return 536870912;default:return 16}default:return 16}}var Un=null,Uf=null,sl=null;function Pv(){if(sl)return sl;var e,t=Uf,r=t.length,n,o="value"in Un?Un.value:Un.textContent,s=o.length;for(e=0;e<r&&t[e]===o[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===o[s-n];n++);return sl=o.slice(e,1<n?1-n:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Mp(){return!1}function ar(e){function t(r,n,o,s,a){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ai:Mp,this.isPropagationStopped=Mp,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bf=ar(Os),ni=rt({},Os,{view:0,detail:0}),l_=ar(ni),uu,du,ta,sc=rt({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&e.type==="mousemove"?(uu=e.screenX-ta.screenX,du=e.screenY-ta.screenY):du=uu=0,ta=e),uu)},movementY:function(e){return"movementY"in e?e.movementY:du}}),Lp=ar(sc),c_=rt({},sc,{dataTransfer:0}),u_=ar(c_),d_=rt({},ni,{relatedTarget:0}),fu=ar(d_),f_=rt({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),h_=ar(f_),p_=rt({},Os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m_=ar(p_),g_=rt({},Os,{data:0}),$p=ar(g_),v_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x_[e])?!!t[e]:!1}function Vf(){return w_}var b_=rt({},ni,{key:function(e){if(e.key){var t=v_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),__=ar(b_),S_=rt({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=ar(S_),C_=rt({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),E_=ar(C_),j_=rt({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),k_=ar(j_),N_=rt({},sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),R_=ar(N_),P_=[9,13,27,32],Hf=mn&&"CompositionEvent"in window,xa=null;mn&&"documentMode"in document&&(xa=document.documentMode);var T_=mn&&"TextEvent"in window&&!xa,Tv=mn&&(!Hf||xa&&8<xa&&11>=xa),zp=" ",Up=!1;function Av(e,t){switch(e){case"keyup":return P_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ov(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function A_(e,t){switch(e){case"compositionend":return Ov(t);case"keypress":return t.which!==32?null:(Up=!0,zp);case"textInput":return e=t.data,e===zp&&Up?null:e;default:return null}}function O_(e,t){if(ts)return e==="compositionend"||!Hf&&Av(e,t)?(e=Pv(),sl=Uf=Un=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tv&&t.locale!=="ko"?null:t.data;default:return null}}var D_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!D_[e.type]:t==="textarea"}function Dv(e,t,r,n){dv(n),t=Rl(t,"onChange"),0<t.length&&(r=new Bf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wa=null,Ma=null;function I_(e){Wv(e,0)}function ac(e){var t=os(e);if(ov(t))return e}function M_(e,t){if(e==="change")return t}var Iv=!1;if(mn){var hu;if(mn){var pu="oninput"in document;if(!pu){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),pu=typeof Vp.oninput=="function"}hu=pu}else hu=!1;Iv=hu&&(!document.documentMode||9<document.documentMode)}function Hp(){wa&&(wa.detachEvent("onpropertychange",Mv),Ma=wa=null)}function Mv(e){if(e.propertyName==="value"&&ac(Ma)){var t=[];Dv(t,Ma,e,Mf(e)),mv(I_,t)}}function L_(e,t,r){e==="focusin"?(Hp(),wa=t,Ma=r,wa.attachEvent("onpropertychange",Mv)):e==="focusout"&&Hp()}function $_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ac(Ma)}function F_(e,t){if(e==="click")return ac(t)}function z_(e,t){if(e==="input"||e==="change")return ac(t)}function U_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nr=typeof Object.is=="function"?Object.is:U_;function La(e,t){if(Nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!rd.call(t,o)||!Nr(e[o],t[o]))return!1}return!0}function Wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,t){var r=Wp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wp(r)}}function Lv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $v(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_l(e.document)}return t}function Wf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B_(e){var t=$v(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Lv(r.ownerDocument.documentElement,r)){if(n!==null&&Wf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,s=Math.min(n.start,o);n=n.end===void 0?s:Math.min(n.end,o),!e.extend&&s>n&&(o=n,n=s,s=o),o=qp(r,s);var a=qp(r,n);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V_=mn&&"documentMode"in document&&11>=document.documentMode,rs=null,bd=null,ba=null,_d=!1;function Gp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_d||rs==null||rs!==_l(n)||(n=rs,"selectionStart"in n&&Wf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ba&&La(ba,n)||(ba=n,n=Rl(bd,"onSelect"),0<n.length&&(t=new Bf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rs)))}function Oi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ns={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionend:Oi("Transition","TransitionEnd")},mu={},Fv={};mn&&(Fv=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function ic(e){if(mu[e])return mu[e];if(!ns[e])return e;var t=ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Fv)return mu[e]=t[r];return e}var zv=ic("animationend"),Uv=ic("animationiteration"),Bv=ic("animationstart"),Vv=ic("transitionend"),Hv=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(e,t){Hv.set(e,t),Oo(t,[e])}for(var gu=0;gu<Kp.length;gu++){var vu=Kp[gu],H_=vu.toLowerCase(),W_=vu[0].toUpperCase()+vu.slice(1);to(H_,"on"+W_)}to(zv,"onAnimationEnd");to(Uv,"onAnimationIteration");to(Bv,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to(Vv,"onTransitionEnd");bs("onMouseEnter",["mouseout","mouseover"]);bs("onMouseLeave",["mouseout","mouseover"]);bs("onPointerEnter",["pointerout","pointerover"]);bs("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q_=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function Yp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,H1(n,t,void 0,e),e.currentTarget=null}function Wv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&o.isPropagationStopped())break e;Yp(o,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&o.isPropagationStopped())break e;Yp(o,l,u),s=c}}}if(Cl)throw e=vd,Cl=!1,vd=null,e}function Ye(e,t){var r=t[kd];r===void 0&&(r=t[kd]=new Set);var n=e+"__bubble";r.has(n)||(qv(t,e,2,!1),r.add(n))}function yu(e,t,r){var n=0;t&&(n|=4),qv(r,e,n,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function $a(e){if(!e[Di]){e[Di]=!0,Zg.forEach(function(r){r!=="selectionchange"&&(q_.has(r)||yu(r,!1,e),yu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Di]||(t[Di]=!0,yu("selectionchange",!1,t))}}function qv(e,t,r,n){switch(Rv(t)){case 1:var o=a_;break;case 4:o=i_;break;default:o=zf}r=o.bind(null,t,r,e),o=void 0,!gd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function xu(e,t,r,n,o){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;l!==null;){if(a=yo(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}mv(function(){var u=s,f=Mf(r),d=[];e:{var h=Hv.get(e);if(h!==void 0){var g=Bf,b=e;switch(e){case"keypress":if(al(r)===0)break e;case"keydown":case"keyup":g=__;break;case"focusin":b="focus",g=fu;break;case"focusout":b="blur",g=fu;break;case"beforeblur":case"afterblur":g=fu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=u_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=E_;break;case zv:case Uv:case Bv:g=h_;break;case Vv:g=k_;break;case"scroll":g=l_;break;case"wheel":g=R_;break;case"copy":case"cut":case"paste":g=m_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Fp}var w=(t&4)!==0,x=!w&&e==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var m=u,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=Aa(m,y),_!=null&&w.push(Fa(m,_,v)))),x)break;m=m.return}0<w.length&&(h=new g(h,b,null,r,f),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==pd&&(b=r.relatedTarget||r.fromElement)&&(yo(b)||b[gn]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=u,b=b?yo(b):null,b!==null&&(x=Do(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(w=Lp,_="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Fp,_="onPointerLeave",y="onPointerEnter",m="pointer"),x=g==null?h:os(g),v=b==null?h:os(b),h=new w(_,m+"leave",g,r,f),h.target=x,h.relatedTarget=v,_=null,yo(f)===u&&(w=new w(y,m+"enter",b,r,f),w.target=v,w.relatedTarget=x,_=w),x=_,g&&b)t:{for(w=g,y=b,m=0,v=w;v;v=Vo(v))m++;for(v=0,_=y;_;_=Vo(_))v++;for(;0<m-v;)w=Vo(w),m--;for(;0<v-m;)y=Vo(y),v--;for(;m--;){if(w===y||y!==null&&w===y.alternate)break t;w=Vo(w),y=Vo(y)}w=null}else w=null;g!==null&&Jp(d,h,g,w,!1),b!==null&&x!==null&&Jp(d,x,b,w,!0)}}e:{if(h=u?os(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=M_;else if(Bp(h))if(Iv)S=z_;else{S=$_;var R=L_}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=F_);if(S&&(S=S(e,u))){Dv(d,S,r,f);break e}R&&R(e,h,u),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&cd(h,"number",h.value)}switch(R=u?os(u):window,e){case"focusin":(Bp(R)||R.contentEditable==="true")&&(rs=R,bd=u,ba=null);break;case"focusout":ba=bd=rs=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,Gp(d,r,f);break;case"selectionchange":if(V_)break;case"keydown":case"keyup":Gp(d,r,f)}var k;if(Hf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ts?Av(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Tv&&r.locale!=="ko"&&(ts||N!=="onCompositionStart"?N==="onCompositionEnd"&&ts&&(k=Pv()):(Un=f,Uf="value"in Un?Un.value:Un.textContent,ts=!0)),R=Rl(u,N),0<R.length&&(N=new $p(N,e,null,r,f),d.push({event:N,listeners:R}),k?N.data=k:(k=Ov(r),k!==null&&(N.data=k)))),(k=T_?A_(e,r):O_(e,r))&&(u=Rl(u,"onBeforeInput"),0<u.length&&(f=new $p("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=k))}Wv(d,t)})}function Fa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rl(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Aa(e,r),s!=null&&n.unshift(Fa(e,s,o)),s=Aa(e,t),s!=null&&n.push(Fa(e,s,o))),e=e.return}return n}function Vo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jp(e,t,r,n,o){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,o?(c=Aa(r,s),c!=null&&a.unshift(Fa(r,c,l))):o||(c=Aa(r,s),c!=null&&a.push(Fa(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var G_=/\r\n?/g,K_=/\u0000|\uFFFD/g;function Qp(e){return(typeof e=="string"?e:""+e).replace(G_,`
`).replace(K_,"")}function Ii(e,t,r){if(t=Qp(t),Qp(e)!==t&&r)throw Error(X(425))}function Pl(){}var Sd=null,Cd=null;function Ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,Y_=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,J_=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(Q_)}:jd;function Q_(e){setTimeout(function(){throw e})}function wu(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Ia(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Ia(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Ds,za="__reactProps$"+Ds,gn="__reactContainer$"+Ds,kd="__reactEvents$"+Ds,X_="__reactListeners$"+Ds,Z_="__reactHandles$"+Ds;function yo(e){var t=e[Ur];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gn]||r[Ur]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zp(e);e!==null;){if(r=e[Ur])return r;e=Zp(e)}return t}e=r,r=e.parentNode}return null}function oi(e){return e=e[Ur]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function os(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function lc(e){return e[za]||null}var Nd=[],ss=-1;function ro(e){return{current:e}}function Je(e){0>ss||(e.current=Nd[ss],Nd[ss]=null,ss--)}function He(e,t){ss++,Nd[ss]=e.current,e.current=t}var Xn={},Tt=ro(Xn),qt=ro(!1),So=Xn;function _s(e,t){var r=e.type.contextTypes;if(!r)return Xn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Gt(e){return e=e.childContextTypes,e!=null}function Tl(){Je(qt),Je(Tt)}function em(e,t,r){if(Tt.current!==Xn)throw Error(X(168));He(Tt,t),He(qt,r)}function Gv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(X(108,L1(e)||"Unknown",o));return rt({},r,n)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,So=Tt.current,He(Tt,e),He(qt,qt.current),!0}function tm(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=Gv(e,t,So),n.__reactInternalMemoizedMergedChildContext=e,Je(qt),Je(Tt),He(Tt,e)):Je(qt),He(qt,r)}var sn=null,cc=!1,bu=!1;function Kv(e){sn===null?sn=[e]:sn.push(e)}function eS(e){cc=!0,Kv(e)}function no(){if(!bu&&sn!==null){bu=!0;var e=0,t=$e;try{var r=sn;for($e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}sn=null,cc=!1}catch(o){throw sn!==null&&(sn=sn.slice(e+1)),xv(Lf,no),o}finally{$e=t,bu=!1}}return null}var as=[],is=0,Ol=null,Dl=0,lr=[],cr=0,Co=null,cn=1,un="";function fo(e,t){as[is++]=Dl,as[is++]=Ol,Ol=e,Dl=t}function Yv(e,t,r){lr[cr++]=cn,lr[cr++]=un,lr[cr++]=Co,Co=e;var n=cn;e=un;var o=32-jr(n)-1;n&=~(1<<o),r+=1;var s=32-jr(t)+o;if(30<s){var a=o-o%5;s=(n&(1<<a)-1).toString(32),n>>=a,o-=a,cn=1<<32-jr(t)+o|r<<o|n,un=s+e}else cn=1<<s|r<<o|n,un=e}function qf(e){e.return!==null&&(fo(e,1),Yv(e,1,0))}function Gf(e){for(;e===Ol;)Ol=as[--is],as[is]=null,Dl=as[--is],as[is]=null;for(;e===Co;)Co=lr[--cr],lr[cr]=null,un=lr[--cr],lr[cr]=null,cn=lr[--cr],lr[cr]=null}var rr=null,tr=null,Xe=!1,Cr=null;function Jv(e,t){var r=dr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function rm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rr=e,tr=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rr=e,tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Co!==null?{id:cn,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=dr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rr=e,tr=null,!0):!1;default:return!1}}function Rd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pd(e){if(Xe){var t=tr;if(t){var r=t;if(!rm(e,t)){if(Rd(e))throw Error(X(418));t=qn(r.nextSibling);var n=rr;t&&rm(e,t)?Jv(n,r):(e.flags=e.flags&-4097|2,Xe=!1,rr=e)}}else{if(Rd(e))throw Error(X(418));e.flags=e.flags&-4097|2,Xe=!1,rr=e}}}function nm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rr=e}function Mi(e){if(e!==rr)return!1;if(!Xe)return nm(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ed(e.type,e.memoizedProps)),t&&(t=tr)){if(Rd(e))throw Qv(),Error(X(418));for(;t;)Jv(e,t),t=qn(t.nextSibling)}if(nm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tr=qn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tr=null}}else tr=rr?qn(e.stateNode.nextSibling):null;return!0}function Qv(){for(var e=tr;e;)e=qn(e.nextSibling)}function Ss(){tr=rr=null,Xe=!1}function Kf(e){Cr===null?Cr=[e]:Cr.push(e)}var tS=Sn.ReactCurrentBatchConfig;function ra(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var o=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=o.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function om(e){var t=e._init;return t(e._payload)}function Xv(e){function t(y,m){if(e){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function o(y,m){return y=Jn(y,m),y.index=0,y.sibling=null,y}function s(y,m,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,m,v,_){return m===null||m.tag!==6?(m=Nu(v,y.mode,_),m.return=y,m):(m=o(m,v),m.return=y,m)}function c(y,m,v,_){var S=v.type;return S===es?f(y,m,v.props.children,_,v.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===In&&om(S)===m.type)?(_=o(m,v.props),_.ref=ra(y,m,v),_.return=y,_):(_=hl(v.type,v.key,v.props,null,y.mode,_),_.ref=ra(y,m,v),_.return=y,_)}function u(y,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Ru(v,y.mode,_),m.return=y,m):(m=o(m,v.children||[]),m.return=y,m)}function f(y,m,v,_,S){return m===null||m.tag!==7?(m=_o(v,y.mode,_,S),m.return=y,m):(m=o(m,v),m.return=y,m)}function d(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Nu(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ji:return v=hl(m.type,m.key,m.props,null,y.mode,v),v.ref=ra(y,null,m),v.return=y,v;case Zo:return m=Ru(m,y.mode,v),m.return=y,m;case In:var _=m._init;return d(y,_(m._payload),v)}if(ua(m)||Qs(m))return m=_o(m,y.mode,v,null),m.return=y,m;Li(y,m)}return null}function h(y,m,v,_){var S=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(y,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ji:return v.key===S?c(y,m,v,_):null;case Zo:return v.key===S?u(y,m,v,_):null;case In:return S=v._init,h(y,m,S(v._payload),_)}if(ua(v)||Qs(v))return S!==null?null:f(y,m,v,_,null);Li(y,v)}return null}function g(y,m,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,l(m,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ji:return y=y.get(_.key===null?v:_.key)||null,c(m,y,_,S);case Zo:return y=y.get(_.key===null?v:_.key)||null,u(m,y,_,S);case In:var R=_._init;return g(y,m,v,R(_._payload),S)}if(ua(_)||Qs(_))return y=y.get(v)||null,f(m,y,_,S,null);Li(m,_)}return null}function b(y,m,v,_){for(var S=null,R=null,k=m,N=m=0,L=null;k!==null&&N<v.length;N++){k.index>N?(L=k,k=null):L=k.sibling;var I=h(y,k,v[N],_);if(I===null){k===null&&(k=L);break}e&&k&&I.alternate===null&&t(y,k),m=s(I,m,N),R===null?S=I:R.sibling=I,R=I,k=L}if(N===v.length)return r(y,k),Xe&&fo(y,N),S;if(k===null){for(;N<v.length;N++)k=d(y,v[N],_),k!==null&&(m=s(k,m,N),R===null?S=k:R.sibling=k,R=k);return Xe&&fo(y,N),S}for(k=n(y,k);N<v.length;N++)L=g(k,y,N,v[N],_),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?N:L.key),m=s(L,m,N),R===null?S=L:R.sibling=L,R=L);return e&&k.forEach(function(J){return t(y,J)}),Xe&&fo(y,N),S}function w(y,m,v,_){var S=Qs(v);if(typeof S!="function")throw Error(X(150));if(v=S.call(v),v==null)throw Error(X(151));for(var R=S=null,k=m,N=m=0,L=null,I=v.next();k!==null&&!I.done;N++,I=v.next()){k.index>N?(L=k,k=null):L=k.sibling;var J=h(y,k,I.value,_);if(J===null){k===null&&(k=L);break}e&&k&&J.alternate===null&&t(y,k),m=s(J,m,N),R===null?S=J:R.sibling=J,R=J,k=L}if(I.done)return r(y,k),Xe&&fo(y,N),S;if(k===null){for(;!I.done;N++,I=v.next())I=d(y,I.value,_),I!==null&&(m=s(I,m,N),R===null?S=I:R.sibling=I,R=I);return Xe&&fo(y,N),S}for(k=n(y,k);!I.done;N++,I=v.next())I=g(k,y,N,I.value,_),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?N:I.key),m=s(I,m,N),R===null?S=I:R.sibling=I,R=I);return e&&k.forEach(function(H){return t(y,H)}),Xe&&fo(y,N),S}function x(y,m,v,_){if(typeof v=="object"&&v!==null&&v.type===es&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ji:e:{for(var S=v.key,R=m;R!==null;){if(R.key===S){if(S=v.type,S===es){if(R.tag===7){r(y,R.sibling),m=o(R,v.props.children),m.return=y,y=m;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===In&&om(S)===R.type){r(y,R.sibling),m=o(R,v.props),m.ref=ra(y,R,v),m.return=y,y=m;break e}r(y,R);break}else t(y,R);R=R.sibling}v.type===es?(m=_o(v.props.children,y.mode,_,v.key),m.return=y,y=m):(_=hl(v.type,v.key,v.props,null,y.mode,_),_.ref=ra(y,m,v),_.return=y,y=_)}return a(y);case Zo:e:{for(R=v.key;m!==null;){if(m.key===R)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(y,m.sibling),m=o(m,v.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=Ru(v,y.mode,_),m.return=y,y=m}return a(y);case In:return R=v._init,x(y,m,R(v._payload),_)}if(ua(v))return b(y,m,v,_);if(Qs(v))return w(y,m,v,_);Li(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(y,m.sibling),m=o(m,v),m.return=y,y=m):(r(y,m),m=Nu(v,y.mode,_),m.return=y,y=m),a(y)):r(y,m)}return x}var Cs=Xv(!0),Zv=Xv(!1),Il=ro(null),Ml=null,ls=null,Yf=null;function Jf(){Yf=ls=Ml=null}function Qf(e){var t=Il.current;Je(Il),e._currentValue=t}function Td(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function gs(e,t){Ml=e,Yf=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if(Yf!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(Ml===null)throw Error(X(308));ls=e,Ml.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var xo=null;function Xf(e){xo===null?xo=[e]:xo.push(e)}function ey(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Xf(t)):(r.next=o.next,o.next=r),t.interleaved=r,vn(e,n)}function vn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mn=!1;function Zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ty(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,vn(e,r)}return o=n.interleaved,o===null?(t.next=t,Xf(n)):(t.next=o.next,o.next=t),n.interleaved=t,vn(e,r)}function il(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$f(e,r)}}function sm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?o=s=t:s=s.next=t}else o=s=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ll(e,t,r,n){var o=e.updateQueue;Mn=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var d=o.baseState;a=0,f=u=c=null,l=s;do{var h=l.lane,g=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,w=l;switch(h=t,g=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){d=b.call(g,d,h);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(g,d,h):b,h==null)break e;d=rt({},d,h);break e;case 2:Mn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,c=d):f=f.next=g,a|=h;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;h=l,l=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(f===null&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);jo|=a,e.lanes=a,e.memoizedState=d}}function am(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(X(191,o));o.call(n)}}}var si={},Wr=ro(si),Ua=ro(si),Ba=ro(si);function wo(e){if(e===si)throw Error(X(174));return e}function eh(e,t){switch(He(Ba,t),He(Ua,e),He(Wr,si),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dd(t,e)}Je(Wr),He(Wr,t)}function Es(){Je(Wr),Je(Ua),Je(Ba)}function ry(e){wo(Ba.current);var t=wo(Wr.current),r=dd(t,e.type);t!==r&&(He(Ua,e),He(Wr,r))}function th(e){Ua.current===e&&(Je(Wr),Je(Ua))}var et=ro(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _u=[];function rh(){for(var e=0;e<_u.length;e++)_u[e]._workInProgressVersionPrimary=null;_u.length=0}var ll=Sn.ReactCurrentDispatcher,Su=Sn.ReactCurrentBatchConfig,Eo=0,tt=null,ft=null,gt=null,Fl=!1,_a=!1,Va=0,rS=0;function Nt(){throw Error(X(321))}function nh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nr(e[r],t[r]))return!1;return!0}function oh(e,t,r,n,o,s){if(Eo=s,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ll.current=e===null||e.memoizedState===null?aS:iS,e=r(n,o),_a){s=0;do{if(_a=!1,Va=0,25<=s)throw Error(X(301));s+=1,gt=ft=null,t.updateQueue=null,ll.current=lS,e=r(n,o)}while(_a)}if(ll.current=zl,t=ft!==null&&ft.next!==null,Eo=0,gt=ft=tt=null,Fl=!1,t)throw Error(X(300));return e}function sh(){var e=Va!==0;return Va=0,e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?tt.memoizedState=gt=e:gt=gt.next=e,gt}function gr(){if(ft===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=gt===null?tt.memoizedState:gt.next;if(t!==null)gt=t,ft=e;else{if(e===null)throw Error(X(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?tt.memoizedState=gt=e:gt=gt.next=e}return gt}function Ha(e,t){return typeof t=="function"?t(e):t}function Cu(e){var t=gr(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=ft,o=n.baseQueue,s=r.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}n.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,n=n.baseState;var l=a=null,c=null,u=s;do{var f=u.lane;if((Eo&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=n):c=c.next=d,tt.lanes|=f,jo|=f}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,Nr(n,t.memoizedState)||(Wt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do s=o.lane,tt.lanes|=s,jo|=s,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Eu(e){var t=gr(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,s=t.memoizedState;if(o!==null){r.pending=null;var a=o=o.next;do s=e(s,a.action),a=a.next;while(a!==o);Nr(s,t.memoizedState)||(Wt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function ny(){}function oy(e,t){var r=tt,n=gr(),o=t(),s=!Nr(n.memoizedState,o);if(s&&(n.memoizedState=o,Wt=!0),n=n.queue,ah(iy.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||gt!==null&&gt.memoizedState.tag&1){if(r.flags|=2048,Wa(9,ay.bind(null,r,n,o,t),void 0,null),vt===null)throw Error(X(349));Eo&30||sy(r,t,o)}return o}function sy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ay(e,t,r,n){t.value=r,t.getSnapshot=n,ly(t)&&cy(e)}function iy(e,t,r){return r(function(){ly(t)&&cy(e)})}function ly(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nr(e,r)}catch{return!0}}function cy(e){var t=vn(e,1);t!==null&&kr(t,e,1,-1)}function im(e){var t=zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t.queue=e,e=e.dispatch=sS.bind(null,tt,e),[t.memoizedState,e]}function Wa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uy(){return gr().memoizedState}function cl(e,t,r,n){var o=zr();tt.flags|=e,o.memoizedState=Wa(1|t,r,void 0,n===void 0?null:n)}function uc(e,t,r,n){var o=gr();n=n===void 0?null:n;var s=void 0;if(ft!==null){var a=ft.memoizedState;if(s=a.destroy,n!==null&&nh(n,a.deps)){o.memoizedState=Wa(t,r,s,n);return}}tt.flags|=e,o.memoizedState=Wa(1|t,r,s,n)}function lm(e,t){return cl(8390656,8,e,t)}function ah(e,t){return uc(2048,8,e,t)}function dy(e,t){return uc(4,2,e,t)}function fy(e,t){return uc(4,4,e,t)}function hy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function py(e,t,r){return r=r!=null?r.concat([e]):null,uc(4,4,hy.bind(null,t,e),r)}function ih(){}function my(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gy(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vy(e,t,r){return Eo&21?(Nr(r,t)||(r=_v(),tt.lanes|=r,jo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function nS(e,t){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var n=Su.transition;Su.transition={};try{e(!1),t()}finally{$e=r,Su.transition=n}}function yy(){return gr().memoizedState}function oS(e,t,r){var n=Yn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xy(e))wy(t,r);else if(r=ey(e,t,r,n),r!==null){var o=Mt();kr(r,e,n,o),by(r,t,n)}}function sS(e,t,r){var n=Yn(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xy(e))wy(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(o.hasEagerState=!0,o.eagerState=l,Nr(l,a)){var c=t.interleaved;c===null?(o.next=o,Xf(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=ey(e,t,o,n),r!==null&&(o=Mt(),kr(r,e,n,o),by(r,t,n))}}function xy(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function wy(e,t){_a=Fl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function by(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$f(e,r)}}var zl={readContext:mr,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},aS={readContext:mr,useCallback:function(e,t){return zr().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:lm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,cl(4194308,4,hy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return cl(4,2,e,t)},useMemo:function(e,t){var r=zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oS.bind(null,tt,e),[n.memoizedState,e]},useRef:function(e){var t=zr();return e={current:e},t.memoizedState=e},useState:im,useDebugValue:ih,useDeferredValue:function(e){return zr().memoizedState=e},useTransition:function(){var e=im(!1),t=e[0];return e=nS.bind(null,e[1]),zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tt,o=zr();if(Xe){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),vt===null)throw Error(X(349));Eo&30||sy(n,t,r)}o.memoizedState=r;var s={value:r,getSnapshot:t};return o.queue=s,lm(iy.bind(null,n,s,e),[e]),n.flags|=2048,Wa(9,ay.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=zr(),t=vt.identifierPrefix;if(Xe){var r=un,n=cn;r=(n&~(1<<32-jr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Va++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iS={readContext:mr,useCallback:my,useContext:mr,useEffect:ah,useImperativeHandle:py,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:Cu,useRef:uy,useState:function(){return Cu(Ha)},useDebugValue:ih,useDeferredValue:function(e){var t=gr();return vy(t,ft.memoizedState,e)},useTransition:function(){var e=Cu(Ha)[0],t=gr().memoizedState;return[e,t]},useMutableSource:ny,useSyncExternalStore:oy,useId:yy,unstable_isNewReconciler:!1},lS={readContext:mr,useCallback:my,useContext:mr,useEffect:ah,useImperativeHandle:py,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:Eu,useRef:uy,useState:function(){return Eu(Ha)},useDebugValue:ih,useDeferredValue:function(e){var t=gr();return ft===null?t.memoizedState=e:vy(t,ft.memoizedState,e)},useTransition:function(){var e=Eu(Ha)[0],t=gr().memoizedState;return[e,t]},useMutableSource:ny,useSyncExternalStore:oy,useId:yy,unstable_isNewReconciler:!1};function br(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ad(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dc={isMounted:function(e){return(e=e._reactInternals)?Do(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),o=Yn(e),s=dn(n,o);s.payload=t,r!=null&&(s.callback=r),t=Gn(e,s,o),t!==null&&(kr(t,e,o,n),il(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),o=Yn(e),s=dn(n,o);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Gn(e,s,o),t!==null&&(kr(t,e,o,n),il(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=Yn(e),o=dn(r,n);o.tag=2,t!=null&&(o.callback=t),t=Gn(e,o,n),t!==null&&(kr(t,e,n,r),il(t,e,n))}};function cm(e,t,r,n,o,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!La(r,n)||!La(o,s):!0}function _y(e,t,r){var n=!1,o=Xn,s=t.contextType;return typeof s=="object"&&s!==null?s=mr(s):(o=Gt(t)?So:Tt.current,n=t.contextTypes,s=(n=n!=null)?_s(e,o):Xn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function um(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dc.enqueueReplaceState(t,t.state,null)}function Od(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Zf(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=mr(s):(s=Gt(t)?So:Tt.current,o.context=_s(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ad(e,t,s,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&dc.enqueueReplaceState(o,o.state,null),Ll(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t){try{var r="",n=t;do r+=M1(n),n=n.return;while(n);var o=r}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function ju(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Dd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cS=typeof WeakMap=="function"?WeakMap:Map;function Sy(e,t,r){r=dn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bl||(Bl=!0,Hd=n),Dd(e,t)},r}function Cy(e,t,r){r=dn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Dd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Dd(e,t),typeof n!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function dm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cS;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=SS.bind(null,e,t,r),t.then(e,e))}function fm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hm(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dn(-1,1),t.tag=2,Gn(r,t,1))),r.lanes|=1),e)}var uS=Sn.ReactCurrentOwner,Wt=!1;function It(e,t,r,n){t.child=e===null?Zv(t,null,r,n):Cs(t,e.child,r,n)}function pm(e,t,r,n,o){r=r.render;var s=t.ref;return gs(t,o),n=oh(e,t,r,n,s,o),r=sh(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,yn(e,t,o)):(Xe&&r&&qf(t),t.flags|=1,It(e,t,n,o),t.child)}function mm(e,t,r,n,o){if(e===null){var s=r.type;return typeof s=="function"&&!mh(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Ey(e,t,s,n,o)):(e=hl(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:La,r(a,n)&&e.ref===t.ref)return yn(e,t,o)}return t.flags|=1,e=Jn(s,n),e.ref=t.ref,e.return=t,t.child=e}function Ey(e,t,r,n,o){if(e!==null){var s=e.memoizedProps;if(La(s,n)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=n=s,(e.lanes&o)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,yn(e,t,o)}return Id(e,t,r,n,o)}function jy(e,t,r){var n=t.pendingProps,o=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(us,Qt),Qt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(us,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,He(us,Qt),Qt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,He(us,Qt),Qt|=n;return It(e,t,o,r),t.child}function ky(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Id(e,t,r,n,o){var s=Gt(r)?So:Tt.current;return s=_s(t,s),gs(t,o),r=oh(e,t,r,n,s,o),n=sh(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,yn(e,t,o)):(Xe&&n&&qf(t),t.flags|=1,It(e,t,r,o),t.child)}function gm(e,t,r,n,o){if(Gt(r)){var s=!0;Al(t)}else s=!1;if(gs(t,o),t.stateNode===null)ul(e,t),_y(t,r,n),Od(t,r,n,o),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=Gt(r)?So:Tt.current,u=_s(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&um(t,a,n,u),Mn=!1;var h=t.memoizedState;a.state=h,Ll(t,n,a,o),c=t.memoizedState,l!==n||h!==c||qt.current||Mn?(typeof f=="function"&&(Ad(t,r,f,n),c=t.memoizedState),(l=Mn||cm(t,r,l,n,h,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ty(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:br(t.type,l),a.props=u,d=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=mr(c):(c=Gt(r)?So:Tt.current,c=_s(t,c));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||h!==c)&&um(t,a,n,c),Mn=!1,h=t.memoizedState,a.state=h,Ll(t,n,a,o);var b=t.memoizedState;l!==d||h!==b||qt.current||Mn?(typeof g=="function"&&(Ad(t,r,g,n),b=t.memoizedState),(u=Mn||cm(t,r,u,n,h,b,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),a.props=n,a.state=b,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Md(e,t,r,n,s,o)}function Md(e,t,r,n,o,s){ky(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return o&&tm(t,r,!1),yn(e,t,s);n=t.stateNode,uS.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Cs(t,e.child,null,s),t.child=Cs(t,null,l,s)):It(e,t,l,s),t.memoizedState=n.state,o&&tm(t,r,!0),t.child}function Ny(e){var t=e.stateNode;t.pendingContext?em(e,t.pendingContext,t.pendingContext!==t.context):t.context&&em(e,t.context,!1),eh(e,t.containerInfo)}function vm(e,t,r,n,o){return Ss(),Kf(o),t.flags|=256,It(e,t,r,n),t.child}var Ld={dehydrated:null,treeContext:null,retryLane:0};function $d(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ry(e,t,r){var n=t.pendingProps,o=et.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),He(et,o&1),e===null)return Pd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=pc(a,n,0,null),e=_o(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$d(r),t.memoizedState=Ld,e):lh(t,a));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return dS(e,t,a,n,l,o,r);if(s){s=n.fallback,a=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Jn(o,c),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=Jn(l,s):(s=_o(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?$d(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=Ld,n}return s=e.child,e=s.sibling,n=Jn(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lh(e,t){return t=pc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $i(e,t,r,n){return n!==null&&Kf(n),Cs(t,e.child,null,r),e=lh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dS(e,t,r,n,o,s,a){if(r)return t.flags&256?(t.flags&=-257,n=ju(Error(X(422))),$i(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,o=t.mode,n=pc({mode:"visible",children:n.children},o,0,null),s=_o(s,o,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Cs(t,e.child,null,a),t.child.memoizedState=$d(a),t.memoizedState=Ld,s);if(!(t.mode&1))return $i(e,t,a,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(X(419)),n=ju(s,n,void 0),$i(e,t,a,n)}if(l=(a&e.childLanes)!==0,Wt||l){if(n=vt,n!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|a)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,vn(e,o),kr(n,e,o,-1))}return ph(),n=ju(Error(X(421))),$i(e,t,a,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=CS.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,tr=qn(o.nextSibling),rr=t,Xe=!0,Cr=null,e!==null&&(lr[cr++]=cn,lr[cr++]=un,lr[cr++]=Co,cn=e.id,un=e.overflow,Co=t),t=lh(t,n.children),t.flags|=4096,t)}function ym(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Td(e.return,t,r)}function ku(e,t,r,n,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=o)}function Py(e,t,r){var n=t.pendingProps,o=n.revealOrder,s=n.tail;if(It(e,t,n.children,r),n=et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,r,t);else if(e.tag===19)ym(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(He(et,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&$l(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),ku(t,!1,o,r,s);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&$l(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}ku(t,!0,r,null,s);break;case"together":ku(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=Jn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fS(e,t,r){switch(t.tag){case 3:Ny(t),Ss();break;case 5:ry(t);break;case 1:Gt(t.type)&&Al(t);break;case 4:eh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;He(Il,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(He(et,et.current&1),t.flags|=128,null):r&t.child.childLanes?Ry(e,t,r):(He(et,et.current&1),e=yn(e,t,r),e!==null?e.sibling:null);He(et,et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Py(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),He(et,et.current),n)break;return null;case 22:case 23:return t.lanes=0,jy(e,t,r)}return yn(e,t,r)}var Ty,Fd,Ay,Oy;Ty=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fd=function(){};Ay=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,wo(Wr.current);var s=null;switch(r){case"input":o=id(e,o),n=id(e,n),s=[];break;case"select":o=rt({},o,{value:void 0}),n=rt({},n,{value:void 0}),s=[];break;case"textarea":o=ud(e,o),n=ud(e,n),s=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pl)}fd(r,n);var a;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Oy=function(e,t,r,n){r!==n&&(t.flags|=4)};function na(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hS(e,t,r){var n=t.pendingProps;switch(Gf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Gt(t.type)&&Tl(),Rt(t),null;case 3:return n=t.stateNode,Es(),Je(qt),Je(Tt),rh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cr!==null&&(Gd(Cr),Cr=null))),Fd(e,t),Rt(t),null;case 5:th(t);var o=wo(Ba.current);if(r=t.type,e!==null&&t.stateNode!=null)Ay(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Rt(t),null}if(e=wo(Wr.current),Mi(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ur]=t,n[za]=s,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(o=0;o<fa.length;o++)Ye(fa[o],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":kp(n,s),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",n);break;case"textarea":Rp(n,s),Ye("invalid",n)}fd(r,s),o=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ii(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ii(n.textContent,l,e),o=["children",""+l]):Pa.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ye("scroll",n)}switch(r){case"input":ki(n),Np(n,s,!0);break;case"textarea":ki(n),Pp(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Pl)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ur]=t,e[za]=n,Ty(e,t,!1,!1),t.stateNode=e;e:{switch(a=hd(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),o=n;break;case"iframe":case"object":case"embed":Ye("load",e),o=n;break;case"video":case"audio":for(o=0;o<fa.length;o++)Ye(fa[o],e);o=n;break;case"source":Ye("error",e),o=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),o=n;break;case"details":Ye("toggle",e),o=n;break;case"input":kp(e,n),o=id(e,n),Ye("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=rt({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":Rp(e,n),o=ud(e,n),Ye("invalid",e);break;default:o=n}fd(r,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?uv(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lv(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ta(e,c):typeof c=="number"&&Ta(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pa.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ye("scroll",e):c!=null&&Af(e,s,c,a))}switch(r){case"input":ki(e),Np(e,n,!1);break;case"textarea":ki(e),Pp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?fs(e,!!n.multiple,s,!1):n.defaultValue!=null&&fs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)Oy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=wo(Ba.current),wo(Wr.current),Mi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ur]=t,(s=n.nodeValue!==r)&&(e=rr,e!==null))switch(e.tag){case 3:Ii(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ii(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ur]=t,t.stateNode=n}return Rt(t),null;case 13:if(Je(et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&tr!==null&&t.mode&1&&!(t.flags&128))Qv(),Ss(),t.flags|=98560,s=!1;else if(s=Mi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(X(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Ur]=t}else Ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),s=!1}else Cr!==null&&(Gd(Cr),Cr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?ht===0&&(ht=3):ph())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Es(),Fd(e,t),e===null&&$a(t.stateNode.containerInfo),Rt(t),null;case 10:return Qf(t.type._context),Rt(t),null;case 17:return Gt(t.type)&&Tl(),Rt(t),null;case 19:if(Je(et),s=t.memoizedState,s===null)return Rt(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)na(s,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=$l(e),a!==null){for(t.flags|=128,na(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(et,et.current&1|2),t.child}e=e.sibling}s.tail!==null&&st()>ks&&(t.flags|=128,n=!0,na(s,!1),t.lanes=4194304)}else{if(!n)if(e=$l(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),na(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Xe)return Rt(t),null}else 2*st()-s.renderingStartTime>ks&&r!==1073741824&&(t.flags|=128,n=!0,na(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=st(),t.sibling=null,r=et.current,He(et,n?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return hh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Qt&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function pS(e,t){switch(Gf(t),t.tag){case 1:return Gt(t.type)&&Tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(),Je(qt),Je(Tt),rh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return th(t),null;case 13:if(Je(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(et),null;case 4:return Es(),null;case 10:return Qf(t.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var Fi=!1,Pt=!1,mS=typeof WeakSet=="function"?WeakSet:Set,ie=null;function cs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(e,t,n)}else r.current=null}function zd(e,t,r){try{r()}catch(n){ot(e,t,n)}}var xm=!1;function gS(e,t){if(Sd=kl,e=$v(),Wf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var g;d!==r||o!==0&&d.nodeType!==3||(l=a+o),d!==s||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===r&&++u===o&&(l=a),h===s&&++f===n&&(c=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cd={focusedElem:e,selectionRange:r},kl=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,x=b.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:br(t.type,w),x);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(_){ot(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return b=xm,xm=!1,b}function Sa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&zd(t,r,s)}o=o.next}while(o!==n)}}function fc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ud(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Dy(e){var t=e.alternate;t!==null&&(e.alternate=null,Dy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ur],delete t[za],delete t[kd],delete t[X_],delete t[Z_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iy(e){return e.tag===5||e.tag===3||e.tag===4}function wm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pl));else if(n!==4&&(e=e.child,e!==null))for(Bd(e,t,r),e=e.sibling;e!==null;)Bd(e,t,r),e=e.sibling}function Vd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Vd(e,t,r),e=e.sibling;e!==null;)Vd(e,t,r),e=e.sibling}var St=null,_r=!1;function Pn(e,t,r){for(r=r.child;r!==null;)My(e,t,r),r=r.sibling}function My(e,t,r){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(oc,r)}catch{}switch(r.tag){case 5:Pt||cs(r,t);case 6:var n=St,o=_r;St=null,Pn(e,t,r),St=n,_r=o,St!==null&&(_r?(e=St,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):St.removeChild(r.stateNode));break;case 18:St!==null&&(_r?(e=St,r=r.stateNode,e.nodeType===8?wu(e.parentNode,r):e.nodeType===1&&wu(e,r),Ia(e)):wu(St,r.stateNode));break;case 4:n=St,o=_r,St=r.stateNode.containerInfo,_r=!0,Pn(e,t,r),St=n,_r=o;break;case 0:case 11:case 14:case 15:if(!Pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var s=o,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&zd(r,t,a),o=o.next}while(o!==n)}Pn(e,t,r);break;case 1:if(!Pt&&(cs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ot(r,t,l)}Pn(e,t,r);break;case 21:Pn(e,t,r);break;case 22:r.mode&1?(Pt=(n=Pt)||r.memoizedState!==null,Pn(e,t,r),Pt=n):Pn(e,t,r);break;default:Pn(e,t,r)}}function bm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mS),t.forEach(function(n){var o=ES.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function yr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:St=l.stateNode,_r=!1;break e;case 3:St=l.stateNode.containerInfo,_r=!0;break e;case 4:St=l.stateNode.containerInfo,_r=!0;break e}l=l.return}if(St===null)throw Error(X(160));My(s,a,o),St=null,_r=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){ot(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ly(t,e),t=t.sibling}function Ly(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yr(t,e),Lr(e),n&4){try{Sa(3,e,e.return),fc(3,e)}catch(w){ot(e,e.return,w)}try{Sa(5,e,e.return)}catch(w){ot(e,e.return,w)}}break;case 1:yr(t,e),Lr(e),n&512&&r!==null&&cs(r,r.return);break;case 5:if(yr(t,e),Lr(e),n&512&&r!==null&&cs(r,r.return),e.flags&32){var o=e.stateNode;try{Ta(o,"")}catch(w){ot(e,e.return,w)}}if(n&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&sv(o,s),hd(l,a);var u=hd(l,s);for(a=0;a<c.length;a+=2){var f=c[a],d=c[a+1];f==="style"?uv(o,d):f==="dangerouslySetInnerHTML"?lv(o,d):f==="children"?Ta(o,d):Af(o,f,d,u)}switch(l){case"input":ld(o,s);break;case"textarea":av(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?fs(o,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?fs(o,!!s.multiple,s.defaultValue,!0):fs(o,!!s.multiple,s.multiple?[]:"",!1))}o[za]=s}catch(w){ot(e,e.return,w)}}break;case 6:if(yr(t,e),Lr(e),n&4){if(e.stateNode===null)throw Error(X(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(w){ot(e,e.return,w)}}break;case 3:if(yr(t,e),Lr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ia(t.containerInfo)}catch(w){ot(e,e.return,w)}break;case 4:yr(t,e),Lr(e);break;case 13:yr(t,e),Lr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(dh=st())),n&4&&bm(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||f,yr(t,e),Pt=u):yr(t,e),Lr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ie=e,f=e.child;f!==null;){for(d=ie=f;ie!==null;){switch(h=ie,g=h.child,h.tag){case 0:case 11:case 14:case 15:Sa(4,h,h.return);break;case 1:cs(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){ot(n,r,w)}}break;case 5:cs(h,h.return);break;case 22:if(h.memoizedState!==null){Sm(d);continue}}g!==null?(g.return=h,ie=g):Sm(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{o=d.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cv("display",a))}catch(w){ot(e,e.return,w)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ot(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yr(t,e),Lr(e),n&4&&bm(e);break;case 21:break;default:yr(t,e),Lr(e)}}function Lr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Iy(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Ta(o,""),n.flags&=-33);var s=wm(e);Vd(e,s,o);break;case 3:case 4:var a=n.stateNode.containerInfo,l=wm(e);Bd(e,l,a);break;default:throw Error(X(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vS(e,t,r){ie=e,$y(e)}function $y(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var o=ie,s=o.child;if(o.tag===22&&n){var a=o.memoizedState!==null||Fi;if(!a){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=Fi;var u=Pt;if(Fi=a,(Pt=c)&&!u)for(ie=o;ie!==null;)a=ie,c=a.child,a.tag===22&&a.memoizedState!==null?Cm(o):c!==null?(c.return=a,ie=c):Cm(o);for(;s!==null;)ie=s,$y(s),s=s.sibling;ie=o,Fi=l,Pt=u}_m(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,ie=s):_m(e)}}function _m(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||fc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:br(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&am(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}am(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ia(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Pt||t.flags&512&&Ud(t)}catch(h){ot(t,t.return,h)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Sm(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Cm(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fc(4,t)}catch(c){ot(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){ot(t,o,c)}}var s=t.return;try{Ud(t)}catch(c){ot(t,s,c)}break;case 5:var a=t.return;try{Ud(t)}catch(c){ot(t,a,c)}}}catch(c){ot(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var yS=Math.ceil,Ul=Sn.ReactCurrentDispatcher,ch=Sn.ReactCurrentOwner,fr=Sn.ReactCurrentBatchConfig,De=0,vt=null,lt=null,Ct=0,Qt=0,us=ro(0),ht=0,qa=null,jo=0,hc=0,uh=0,Ca=null,Vt=null,dh=0,ks=1/0,nn=null,Bl=!1,Hd=null,Kn=null,zi=!1,Bn=null,Vl=0,Ea=0,Wd=null,dl=-1,fl=0;function Mt(){return De&6?st():dl!==-1?dl:dl=st()}function Yn(e){return e.mode&1?De&2&&Ct!==0?Ct&-Ct:tS.transition!==null?(fl===0&&(fl=_v()),fl):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Rv(e.type)),e):1}function kr(e,t,r,n){if(50<Ea)throw Ea=0,Wd=null,Error(X(185));ri(e,r,n),(!(De&2)||e!==vt)&&(e===vt&&(!(De&2)&&(hc|=r),ht===4&&Fn(e,Ct)),Kt(e,n),r===1&&De===0&&!(t.mode&1)&&(ks=st()+500,cc&&no()))}function Kt(e,t){var r=e.callbackNode;t_(e,t);var n=jl(e,e===vt?Ct:0);if(n===0)r!==null&&Op(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Op(r),t===1)e.tag===0?eS(Em.bind(null,e)):Kv(Em.bind(null,e)),J_(function(){!(De&6)&&no()}),r=null;else{switch(Sv(n)){case 1:r=Lf;break;case 4:r=wv;break;case 16:r=El;break;case 536870912:r=bv;break;default:r=El}r=qy(r,Fy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fy(e,t){if(dl=-1,fl=0,De&6)throw Error(X(327));var r=e.callbackNode;if(vs()&&e.callbackNode!==r)return null;var n=jl(e,e===vt?Ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Hl(e,n);else{t=n;var o=De;De|=2;var s=Uy();(vt!==e||Ct!==t)&&(nn=null,ks=st()+500,bo(e,t));do try{bS();break}catch(l){zy(e,l)}while(!0);Jf(),Ul.current=s,De=o,lt!==null?t=0:(vt=null,Ct=0,t=ht)}if(t!==0){if(t===2&&(o=yd(e),o!==0&&(n=o,t=qd(e,o))),t===1)throw r=qa,bo(e,0),Fn(e,n),Kt(e,st()),r;if(t===6)Fn(e,n);else{if(o=e.current.alternate,!(n&30)&&!xS(o)&&(t=Hl(e,n),t===2&&(s=yd(e),s!==0&&(n=s,t=qd(e,s))),t===1))throw r=qa,bo(e,0),Fn(e,n),Kt(e,st()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:ho(e,Vt,nn);break;case 3:if(Fn(e,n),(n&130023424)===n&&(t=dh+500-st(),10<t)){if(jl(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=jd(ho.bind(null,e,Vt,nn),t);break}ho(e,Vt,nn);break;case 4:if(Fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-jr(n);s=1<<a,a=t[a],a>o&&(o=a),n&=~s}if(n=o,n=st()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yS(n/1960))-n,10<n){e.timeoutHandle=jd(ho.bind(null,e,Vt,nn),n);break}ho(e,Vt,nn);break;case 5:ho(e,Vt,nn);break;default:throw Error(X(329))}}}return Kt(e,st()),e.callbackNode===r?Fy.bind(null,e):null}function qd(e,t){var r=Ca;return e.current.memoizedState.isDehydrated&&(bo(e,t).flags|=256),e=Hl(e,t),e!==2&&(t=Vt,Vt=r,t!==null&&Gd(t)),e}function Gd(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function xS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],s=o.getSnapshot;o=o.value;try{if(!Nr(s(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~uh,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jr(t),n=1<<r;e[r]=-1,t&=~n}}function Em(e){if(De&6)throw Error(X(327));vs();var t=jl(e,0);if(!(t&1))return Kt(e,st()),null;var r=Hl(e,t);if(e.tag!==0&&r===2){var n=yd(e);n!==0&&(t=n,r=qd(e,n))}if(r===1)throw r=qa,bo(e,0),Fn(e,t),Kt(e,st()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ho(e,Vt,nn),Kt(e,st()),null}function fh(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(ks=st()+500,cc&&no())}}function ko(e){Bn!==null&&Bn.tag===0&&!(De&6)&&vs();var t=De;De|=1;var r=fr.transition,n=$e;try{if(fr.transition=null,$e=1,e)return e()}finally{$e=n,fr.transition=r,De=t,!(De&6)&&no()}}function hh(){Qt=us.current,Je(us)}function bo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Y_(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(Gf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Tl();break;case 3:Es(),Je(qt),Je(Tt),rh();break;case 5:th(n);break;case 4:Es();break;case 13:Je(et);break;case 19:Je(et);break;case 10:Qf(n.type._context);break;case 22:case 23:hh()}r=r.return}if(vt=e,lt=e=Jn(e.current,null),Ct=Qt=t,ht=0,qa=null,uh=hc=jo=0,Vt=Ca=null,xo!==null){for(t=0;t<xo.length;t++)if(r=xo[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=o,n.next=a}r.pending=n}xo=null}return e}function zy(e,t){do{var r=lt;try{if(Jf(),ll.current=zl,Fl){for(var n=tt.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Fl=!1}if(Eo=0,gt=ft=tt=null,_a=!1,Va=0,ch.current=null,r===null||r.return===null){ht=1,qa=t,lt=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=fm(a);if(g!==null){g.flags&=-257,hm(g,a,l,s,t),g.mode&1&&dm(s,u,t),t=g,c=u;var b=t.updateQueue;if(b===null){var w=new Set;w.add(c),t.updateQueue=w}else b.add(c);break e}else{if(!(t&1)){dm(s,u,t),ph();break e}c=Error(X(426))}}else if(Xe&&l.mode&1){var x=fm(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),hm(x,a,l,s,t),Kf(js(c,l));break e}}s=c=js(c,l),ht!==4&&(ht=2),Ca===null?Ca=[s]:Ca.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=Sy(s,c,t);sm(s,y);break e;case 1:l=c;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Kn===null||!Kn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=Cy(s,l,t);sm(s,_);break e}}s=s.return}while(s!==null)}Vy(r)}catch(S){t=S,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function Uy(){var e=Ul.current;return Ul.current=zl,e===null?zl:e}function ph(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||!(jo&268435455)&&!(hc&268435455)||Fn(vt,Ct)}function Hl(e,t){var r=De;De|=2;var n=Uy();(vt!==e||Ct!==t)&&(nn=null,bo(e,t));do try{wS();break}catch(o){zy(e,o)}while(!0);if(Jf(),De=r,Ul.current=n,lt!==null)throw Error(X(261));return vt=null,Ct=0,ht}function wS(){for(;lt!==null;)By(lt)}function bS(){for(;lt!==null&&!q1();)By(lt)}function By(e){var t=Wy(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?Vy(e):lt=t,ch.current=null}function Vy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pS(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(r=hS(r,t,Qt),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function ho(e,t,r){var n=$e,o=fr.transition;try{fr.transition=null,$e=1,_S(e,t,r,n)}finally{fr.transition=o,$e=n}return null}function _S(e,t,r,n){do vs();while(Bn!==null);if(De&6)throw Error(X(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(r_(e,s),e===vt&&(lt=vt=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zi||(zi=!0,qy(El,function(){return vs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=fr.transition,fr.transition=null;var a=$e;$e=1;var l=De;De|=4,ch.current=null,gS(e,r),Ly(r,e),B_(Cd),kl=!!Sd,Cd=Sd=null,e.current=r,vS(r),G1(),De=l,$e=a,fr.transition=s}else e.current=r;if(zi&&(zi=!1,Bn=e,Vl=o),s=e.pendingLanes,s===0&&(Kn=null),J1(r.stateNode),Kt(e,st()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Bl)throw Bl=!1,e=Hd,Hd=null,e;return Vl&1&&e.tag!==0&&vs(),s=e.pendingLanes,s&1?e===Wd?Ea++:(Ea=0,Wd=e):Ea=0,no(),null}function vs(){if(Bn!==null){var e=Sv(Vl),t=fr.transition,r=$e;try{if(fr.transition=null,$e=16>e?16:e,Bn===null)var n=!1;else{if(e=Bn,Bn=null,Vl=0,De&6)throw Error(X(331));var o=De;for(De|=4,ie=e.current;ie!==null;){var s=ie,a=s.child;if(ie.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var f=ie;switch(f.tag){case 0:case 11:case 15:Sa(8,f,s)}var d=f.child;if(d!==null)d.return=f,ie=d;else for(;ie!==null;){f=ie;var h=f.sibling,g=f.return;if(Dy(f),f===u){ie=null;break}if(h!==null){h.return=g,ie=h;break}ie=g}}}var b=s.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}ie=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ie=a;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sa(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ie=y;break e}ie=s.return}}var m=e.current;for(ie=m;ie!==null;){a=ie;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,ie=v;else e:for(a=m;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fc(9,l)}}catch(S){ot(l,l.return,S)}if(l===a){ie=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ie=_;break e}ie=l.return}}if(De=o,no(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(oc,e)}catch{}n=!0}return n}finally{$e=r,fr.transition=t}}return!1}function jm(e,t,r){t=js(r,t),t=Sy(e,t,1),e=Gn(e,t,1),t=Mt(),e!==null&&(ri(e,1,t),Kt(e,t))}function ot(e,t,r){if(e.tag===3)jm(e,e,r);else for(;t!==null;){if(t.tag===3){jm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kn===null||!Kn.has(n))){e=js(r,e),e=Cy(t,e,1),t=Gn(t,e,1),e=Mt(),t!==null&&(ri(t,1,e),Kt(t,e));break}}t=t.return}}function SS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,vt===e&&(Ct&r)===r&&(ht===4||ht===3&&(Ct&130023424)===Ct&&500>st()-dh?bo(e,0):uh|=r),Kt(e,t)}function Hy(e,t){t===0&&(e.mode&1?(t=Pi,Pi<<=1,!(Pi&130023424)&&(Pi=4194304)):t=1);var r=Mt();e=vn(e,t),e!==null&&(ri(e,t,r),Kt(e,r))}function CS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Hy(e,r)}function ES(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),Hy(e,r)}var Wy;Wy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,fS(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,Xe&&t.flags&1048576&&Yv(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ul(e,t),e=t.pendingProps;var o=_s(t,Tt.current);gs(t,r),o=oh(null,t,n,e,o,r);var s=sh();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(n)?(s=!0,Al(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Zf(t),o.updater=dc,t.stateNode=o,o._reactInternals=t,Od(t,n,e,r),t=Md(null,t,n,!0,s,r)):(t.tag=0,Xe&&s&&qf(t),It(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ul(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=kS(n),e=br(n,e),o){case 0:t=Id(null,t,n,e,r);break e;case 1:t=gm(null,t,n,e,r);break e;case 11:t=pm(null,t,n,e,r);break e;case 14:t=mm(null,t,n,br(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:br(n,o),Id(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:br(n,o),gm(e,t,n,o,r);case 3:e:{if(Ny(t),e===null)throw Error(X(387));n=t.pendingProps,s=t.memoizedState,o=s.element,ty(e,t),Ll(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=js(Error(X(423)),t),t=vm(e,t,n,r,o);break e}else if(n!==o){o=js(Error(X(424)),t),t=vm(e,t,n,r,o);break e}else for(tr=qn(t.stateNode.containerInfo.firstChild),rr=t,Xe=!0,Cr=null,r=Zv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ss(),n===o){t=yn(e,t,r);break e}It(e,t,n,r)}t=t.child}return t;case 5:return ry(t),e===null&&Pd(t),n=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,a=o.children,Ed(n,o)?a=null:s!==null&&Ed(n,s)&&(t.flags|=32),ky(e,t),It(e,t,a,r),t.child;case 6:return e===null&&Pd(t),null;case 13:return Ry(e,t,r);case 4:return eh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Cs(t,null,n,r):It(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:br(n,o),pm(e,t,n,o,r);case 7:return It(e,t,t.pendingProps,r),t.child;case 8:return It(e,t,t.pendingProps.children,r),t.child;case 12:return It(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,He(Il,n._currentValue),n._currentValue=a,s!==null)if(Nr(s.value,a)){if(s.children===o.children&&!qt.current){t=yn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=dn(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Td(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(X(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Td(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}It(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,gs(t,r),o=mr(o),n=n(o),t.flags|=1,It(e,t,n,r),t.child;case 14:return n=t.type,o=br(n,t.pendingProps),o=br(n.type,o),mm(e,t,n,o,r);case 15:return Ey(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:br(n,o),ul(e,t),t.tag=1,Gt(n)?(e=!0,Al(t)):e=!1,gs(t,r),_y(t,n,o),Od(t,n,o,r),Md(null,t,n,!0,e,r);case 19:return Py(e,t,r);case 22:return jy(e,t,r)}throw Error(X(156,t.tag))};function qy(e,t){return xv(e,t)}function jS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,r,n){return new jS(e,t,r,n)}function mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kS(e){if(typeof e=="function")return mh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Df)return 11;if(e===If)return 14}return 2}function Jn(e,t){var r=e.alternate;return r===null?(r=dr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hl(e,t,r,n,o,s){var a=2;if(n=e,typeof e=="function")mh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case es:return _o(r.children,o,s,t);case Of:a=8,o|=8;break;case nd:return e=dr(12,r,t,o|2),e.elementType=nd,e.lanes=s,e;case od:return e=dr(13,r,t,o),e.elementType=od,e.lanes=s,e;case sd:return e=dr(19,r,t,o),e.elementType=sd,e.lanes=s,e;case rv:return pc(r,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ev:a=10;break e;case tv:a=9;break e;case Df:a=11;break e;case If:a=14;break e;case In:a=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=dr(a,r,t,o),t.elementType=e,t.type=n,t.lanes=s,t}function _o(e,t,r,n){return e=dr(7,e,n,t),e.lanes=r,e}function pc(e,t,r,n){return e=dr(22,e,n,t),e.elementType=rv,e.lanes=r,e.stateNode={isHidden:!1},e}function Nu(e,t,r){return e=dr(6,e,null,t),e.lanes=r,e}function Ru(e,t,r){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NS(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cu(0),this.expirationTimes=cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cu(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function gh(e,t,r,n,o,s,a,l,c){return e=new NS(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=dr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zf(s),e}function RS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Gy(e){if(!e)return Xn;e=e._reactInternals;e:{if(Do(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Gt(r))return Gv(e,r,t)}return t}function Ky(e,t,r,n,o,s,a,l,c){return e=gh(r,n,!0,e,o,s,a,l,c),e.context=Gy(null),r=e.current,n=Mt(),o=Yn(r),s=dn(n,o),s.callback=t??null,Gn(r,s,o),e.current.lanes=o,ri(e,o,n),Kt(e,n),e}function mc(e,t,r,n){var o=t.current,s=Mt(),a=Yn(o);return r=Gy(r),t.context===null?t.context=r:t.pendingContext=r,t=dn(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gn(o,t,a),e!==null&&(kr(e,o,a,s),il(e,o,a)),a}function Wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vh(e,t){km(e,t),(e=e.alternate)&&km(e,t)}function PS(){return null}var Yy=typeof reportError=="function"?reportError:function(e){console.error(e)};function yh(e){this._internalRoot=e}gc.prototype.render=yh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));mc(e,t,null,null)};gc.prototype.unmount=yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ko(function(){mc(null,e,null,null)}),t[gn]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&Nv(e)}};function xh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nm(){}function TS(e,t,r,n,o){if(o){if(typeof n=="function"){var s=n;n=function(){var u=Wl(a);s.call(u)}}var a=Ky(t,n,e,0,null,!1,!1,"",Nm);return e._reactRootContainer=a,e[gn]=a.current,$a(e.nodeType===8?e.parentNode:e),ko(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var u=Wl(c);l.call(u)}}var c=gh(e,0,!1,null,null,!1,!1,"",Nm);return e._reactRootContainer=c,e[gn]=c.current,$a(e.nodeType===8?e.parentNode:e),ko(function(){mc(t,c,r,n)}),c}function yc(e,t,r,n,o){var s=r._reactRootContainer;if(s){var a=s;if(typeof o=="function"){var l=o;o=function(){var c=Wl(a);l.call(c)}}mc(t,a,e,o)}else a=TS(r,t,e,o,n);return Wl(a)}Cv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=da(t.pendingLanes);r!==0&&($f(t,r|1),Kt(t,st()),!(De&6)&&(ks=st()+500,no()))}break;case 13:ko(function(){var n=vn(e,1);if(n!==null){var o=Mt();kr(n,e,1,o)}}),vh(e,1)}};Ff=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var r=Mt();kr(t,e,134217728,r)}vh(e,134217728)}};Ev=function(e){if(e.tag===13){var t=Yn(e),r=vn(e,t);if(r!==null){var n=Mt();kr(r,e,t,n)}vh(e,t)}};jv=function(){return $e};kv=function(e,t){var r=$e;try{return $e=e,t()}finally{$e=r}};md=function(e,t,r){switch(t){case"input":if(ld(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=lc(n);if(!o)throw Error(X(90));ov(n),ld(n,o)}}}break;case"textarea":av(e,r);break;case"select":t=r.value,t!=null&&fs(e,!!r.multiple,t,!1)}};hv=fh;pv=ko;var AS={usingClientEntryPoint:!1,Events:[oi,os,lc,dv,fv,fh]},oa={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OS={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vv(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||PS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{oc=Ui.inject(OS),Hr=Ui}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AS;sr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xh(t))throw Error(X(200));return RS(e,t,null,r)};sr.createRoot=function(e,t){if(!xh(e))throw Error(X(299));var r=!1,n="",o=Yy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=gh(e,1,!1,null,null,r,!1,n,o),e[gn]=t.current,$a(e.nodeType===8?e.parentNode:e),new yh(t)};sr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=vv(t),e=e===null?null:e.stateNode,e};sr.flushSync=function(e){return ko(e)};sr.hydrate=function(e,t,r){if(!vc(t))throw Error(X(200));return yc(null,e,t,!0,r)};sr.hydrateRoot=function(e,t,r){if(!xh(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,o=!1,s="",a=Yy;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Ky(t,null,e,1,r??null,o,!1,s,a),e[gn]=t.current,$a(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new gc(t)};sr.render=function(e,t,r){if(!vc(t))throw Error(X(200));return yc(null,e,t,!1,r)};sr.unmountComponentAtNode=function(e){if(!vc(e))throw Error(X(40));return e._reactRootContainer?(ko(function(){yc(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};sr.unstable_batchedUpdates=fh;sr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vc(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return yc(e,t,r,!1,n)};sr.version="18.3.1-next-f1338f8080-20240426";function Jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jy)}catch(e){console.error(e)}}Jy(),Jg.exports=sr;var Is=Jg.exports;const Qy=Ef(Is);var Rm=Is;td.createRoot=Rm.createRoot,td.hydrateRoot=Rm.hydrateRoot;var wh={};Object.defineProperty(wh,"__esModule",{value:!0});wh.parse=zS;wh.serialize=US;const DS=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,IS=/^[\u0021-\u003A\u003C-\u007E]*$/,MS=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,LS=/^[\u0020-\u003A\u003D-\u007E]*$/,$S=Object.prototype.toString,FS=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function zS(e,t){const r=new FS,n=e.length;if(n<2)return r;const o=(t==null?void 0:t.decode)||BS;let s=0;do{const a=e.indexOf("=",s);if(a===-1)break;const l=e.indexOf(";",s),c=l===-1?n:l;if(a>c){s=e.lastIndexOf(";",a-1)+1;continue}const u=Pm(e,s,a),f=Tm(e,a,u),d=e.slice(u,f);if(r[d]===void 0){let h=Pm(e,a+1,c),g=Tm(e,c,h);const b=o(e.slice(h,g));r[d]=b}s=c+1}while(s<n);return r}function Pm(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function Tm(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function US(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!DS.test(e))throw new TypeError(`argument name is invalid: ${e}`);const o=n(t);if(!IS.test(o))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+o;if(!r)return s;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!MS.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!LS.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){if(!VS(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function BS(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function VS(e){return $S.call(e)==="[object Date]"}var Am="popstate";function HS(e={}){function t(n,o){let{pathname:s,search:a,hash:l}=n.location;return Kd("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Ga(o)}return qS(t,r,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WS(){return Math.random().toString(36).substring(2,10)}function Om(e,t){return{usr:e.state,key:e.key,idx:t}}function Kd(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ms(t):t,state:r,key:t&&t.key||n||WS()}}function Ga({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ms(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function qS(e,t,r,n={}){let{window:o=document.defaultView,v5Compat:s=!1}=n,a=o.history,l="POP",c=null,u=f();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function f(){return(a.state||{idx:null}).idx}function d(){l="POP";let x=f(),y=x==null?null:x-u;u=x,c&&c({action:l,location:w.location,delta:y})}function h(x,y){l="PUSH";let m=Kd(w.location,x,y);u=f()+1;let v=Om(m,u),_=w.createHref(m);try{a.pushState(v,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(_)}s&&c&&c({action:l,location:w.location,delta:1})}function g(x,y){l="REPLACE";let m=Kd(w.location,x,y);u=f();let v=Om(m,u),_=w.createHref(m);a.replaceState(v,"",_),s&&c&&c({action:l,location:w.location,delta:0})}function b(x){return GS(x)}let w={get action(){return l},get location(){return e(o,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Am,d),c=x,()=>{o.removeEventListener(Am,d),c=null}},createHref(x){return t(o,x)},createURL:b,encodeLocation(x){let y=b(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(x){return a.go(x)}};return w}function GS(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ga(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Xy(e,t,r="/"){return KS(e,t,r,!1)}function KS(e,t,r,n){let o=typeof t=="string"?Ms(t):t,s=xn(o.pathname||"/",r);if(s==null)return null;let a=Zy(e);YS(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=aC(s);l=oC(a[c],u,n)}return l}function Zy(e,t=[],r=[],n=""){let o=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Ze(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=fn([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(Ze(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Zy(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:rC(u,s.index),routesMeta:f})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))o(s,a);else for(let c of e0(s.path))o(s,a,c)}),t}function e0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return o?[s,""]:[s];let a=e0(n.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),o&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function YS(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nC(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var JS=/^:[\w-]+$/,QS=3,XS=2,ZS=1,eC=10,tC=-2,Dm=e=>e==="*";function rC(e,t){let r=e.split("/"),n=r.length;return r.some(Dm)&&(n+=tC),t&&(n+=XS),r.filter(o=>!Dm(o)).reduce((o,s)=>o+(JS.test(s)?QS:s===""?ZS:eC),n)}function nC(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function oC(e,t,r=!1){let{routesMeta:n}=e,o={},s="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",d=ql({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=ql({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(o,d.params),a.push({params:o,pathname:fn([s,d.pathname]),pathnameBase:uC(fn([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=fn([s,d.pathnameBase]))}return a}function ql(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sC(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let s=o[0],a=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:d},h)=>{if(f==="*"){let b=l[h]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[h];return d&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function sC(e,t=!1,r=!0){Rr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function aC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function xn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function iC(e,t="/"){let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Ms(e):e;return{pathname:r?r.startsWith("/")?r:lC(r,t):t,search:dC(n),hash:fC(o)}}function lC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Pu(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bh(e){let t=cC(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function _h(e,t,r,n=!1){let o;typeof e=="string"?o=Ms(e):(o={...e},Ze(!o.pathname||!o.pathname.includes("?"),Pu("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Pu("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Pu("#","search","hash",o)));let s=e===""||o.pathname==="",a=s?"/":o.pathname,l;if(a==null)l=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;o.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=iC(o,l),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var fn=e=>e.join("/").replace(/\/\/+/g,"/"),uC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var t0=["POST","PUT","PATCH","DELETE"];new Set(t0);var pC=["GET",...t0];new Set(pC);var Ls=p.createContext(null);Ls.displayName="DataRouter";var xc=p.createContext(null);xc.displayName="DataRouterState";var r0=p.createContext({isTransitioning:!1});r0.displayName="ViewTransition";var mC=p.createContext(new Map);mC.displayName="Fetchers";var gC=p.createContext(null);gC.displayName="Await";var Ar=p.createContext(null);Ar.displayName="Navigation";var ai=p.createContext(null);ai.displayName="Location";var Or=p.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var Sh=p.createContext(null);Sh.displayName="RouteError";function vC(e,{relative:t}={}){Ze($s(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=p.useContext(Ar),{hash:o,pathname:s,search:a}=ii(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:fn([r,s])),n.createHref({pathname:l,search:a,hash:o})}function $s(){return p.useContext(ai)!=null}function Cn(){return Ze($s(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(ai).location}var n0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o0(e){p.useContext(Ar).static||p.useLayoutEffect(e)}function wc(){let{isDataRoute:e}=p.useContext(Or);return e?AC():yC()}function yC(){Ze($s(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Ls),{basename:t,navigator:r}=p.useContext(Ar),{matches:n}=p.useContext(Or),{pathname:o}=Cn(),s=JSON.stringify(bh(n)),a=p.useRef(!1);return o0(()=>{a.current=!0}),p.useCallback((c,u={})=>{if(Rr(a.current,n0),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=_h(c,JSON.parse(s),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:fn([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,s,o,e])}var xC=p.createContext(null);function wC(e){let t=p.useContext(Or).outlet;return t&&p.createElement(xC.Provider,{value:e},t)}function ii(e,{relative:t}={}){let{matches:r}=p.useContext(Or),{pathname:n}=Cn(),o=JSON.stringify(bh(r));return p.useMemo(()=>_h(e,JSON.parse(o),n,t==="path"),[e,o,n,t])}function bC(e,t){return s0(e,t)}function s0(e,t,r,n){var m;Ze($s(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:s}=p.useContext(Ar),{matches:a}=p.useContext(Or),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",d=l&&l.route;{let v=d&&d.path||"";a0(u,!d||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=Cn(),g;if(t){let v=typeof t=="string"?Ms(t):t;Ze(f==="/"||((m=v.pathname)==null?void 0:m.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${v.pathname}" was given in the \`location\` prop.`),g=v}else g=h;let b=g.pathname||"/",w=b;if(f!=="/"){let v=f.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=!s&&r&&r.matches&&r.matches.length>0?r.matches:Xy(e,{pathname:w});Rr(d||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Rr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=jC(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:fn([f,o.encodeLocation?o.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?f:fn([f,o.encodeLocation?o.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&y?p.createElement(ai.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function _C(){let e=TC(),t=hC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:s},"ErrorBoundary")," or"," ",p.createElement("code",{style:s},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:o},r):null,a)}var SC=p.createElement(_C,null),CC=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(Or.Provider,{value:this.props.routeContext},p.createElement(Sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EC({routeContext:e,match:t,children:r}){let n=p.useContext(Ls);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Or.Provider,{value:e},r)}function jC(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=r==null?void 0:r.errors;if(s!=null){let c=o.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ze(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,l=-1;if(r)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:d}=r,h=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||h){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,u,f)=>{let d,h=!1,g=null,b=null;r&&(d=s&&u.route.id?s[u.route.id]:void 0,g=u.route.errorElement||SC,a&&(l<0&&f===0?(a0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,b=null):l===f&&(h=!0,b=u.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,f+1)),x=()=>{let y;return d?y=g:h?y=b:u.route.Component?y=p.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,p.createElement(EC,{match:u,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?p.createElement(CC,{location:r.location,revalidation:r.revalidation,component:g,error:d,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function Ch(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kC(e){let t=p.useContext(Ls);return Ze(t,Ch(e)),t}function NC(e){let t=p.useContext(xc);return Ze(t,Ch(e)),t}function RC(e){let t=p.useContext(Or);return Ze(t,Ch(e)),t}function Eh(e){let t=RC(e),r=t.matches[t.matches.length-1];return Ze(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function PC(){return Eh("useRouteId")}function TC(){var n;let e=p.useContext(Sh),t=NC("useRouteError"),r=Eh("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function AC(){let{router:e}=kC("useNavigate"),t=Eh("useNavigate"),r=p.useRef(!1);return o0(()=>{r.current=!0}),p.useCallback(async(o,s={})=>{Rr(r.current,n0),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...s}))},[e,t])}var Im={};function a0(e,t,r){!t&&!Im[e]&&(Im[e]=!0,Rr(!1,r))}p.memo(OC);function OC({routes:e,future:t,state:r}){return s0(e,void 0,r,t)}function ln({to:e,replace:t,state:r,relative:n}){Ze($s(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=p.useContext(Ar);Rr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=p.useContext(Or),{pathname:a}=Cn(),l=wc(),c=_h(e,bh(s),a,n==="path"),u=JSON.stringify(c);return p.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function i0(e){return wC(e.context)}function bt(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DC({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:o,static:s=!1}){Ze(!$s(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:a,navigator:o,static:s,future:{}}),[a,o,s]);typeof r=="string"&&(r=Ms(r));let{pathname:c="/",search:u="",hash:f="",state:d=null,key:h="default"}=r,g=p.useMemo(()=>{let b=xn(c,a);return b==null?null:{location:{pathname:b,search:u,hash:f,state:d,key:h},navigationType:n}},[a,c,u,f,d,h,n]);return Rr(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:p.createElement(Ar.Provider,{value:l},p.createElement(ai.Provider,{children:t,value:g}))}function IC({children:e,location:t}){return bC(Yd(e),t)}function Yd(e,t=[]){let r=[];return p.Children.forEach(e,(n,o)=>{if(!p.isValidElement(n))return;let s=[...t,o];if(n.type===p.Fragment){r.push.apply(r,Yd(n.props.children,s));return}Ze(n.type===bt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Yd(n.props.children,s)),r.push(a)}),r}var pl="get",ml="application/x-www-form-urlencoded";function bc(e){return e!=null&&typeof e.tagName=="string"}function MC(e){return bc(e)&&e.tagName.toLowerCase()==="button"}function LC(e){return bc(e)&&e.tagName.toLowerCase()==="form"}function $C(e){return bc(e)&&e.tagName.toLowerCase()==="input"}function FC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zC(e,t){return e.button===0&&(!t||t==="_self")&&!FC(e)}var Bi=null;function UC(){if(Bi===null)try{new FormData(document.createElement("form"),0),Bi=!1}catch{Bi=!0}return Bi}var BC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(e){return e!=null&&!BC.has(e)?(Rr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ml}"`),null):e}function VC(e,t){let r,n,o,s,a;if(LC(e)){let l=e.getAttribute("action");n=l?xn(l,t):null,r=e.getAttribute("method")||pl,o=Tu(e.getAttribute("enctype"))||ml,s=new FormData(e)}else if(MC(e)||$C(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?xn(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||pl,o=Tu(e.getAttribute("formenctype"))||Tu(l.getAttribute("enctype"))||ml,s=new FormData(l,e),!UC()){let{name:u,type:f,value:d}=e;if(f==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,d)}}else{if(bc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pl,n=null,o=ml,a=e}return s&&o==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:s,body:a}}function jh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function HC(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function qC(e,t,r){let n=await Promise.all(e.map(async o=>{let s=t.routes[o.route.id];if(s){let a=await HC(s,r);return a.links?a.links():[]}return[]}));return JC(n.flat(1).filter(WC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mm(e,t,r,n,o,s){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var f;return r[u].pathname!==c.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var d;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function GC(e,t,{includeHydrateFallback:r}={}){return KC(e.map(n=>{let o=t.routes[n.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function KC(e){return[...new Set(e)]}function YC(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function JC(e,t){let r=new Set;return new Set(t),e.reduce((n,o)=>{let s=JSON.stringify(YC(o));return r.has(s)||(r.add(s),n.push({key:s,link:o})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QC=new Set([100,101,204,205]);function XC(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&xn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function l0(){let e=p.useContext(Ls);return jh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ZC(){let e=p.useContext(xc);return jh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var kh=p.createContext(void 0);kh.displayName="FrameworkContext";function c0(){let e=p.useContext(kh);return jh(e,"You must render this element inside a <HydratedRouter> element"),e}function eE(e,t){let r=p.useContext(kh),[n,o]=p.useState(!1),[s,a]=p.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:d}=t,h=p.useRef(null);p.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let w=y=>{y.forEach(m=>{a(m.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[e]),p.useEffect(()=>{if(n){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[n]);let g=()=>{o(!0)},b=()=>{o(!1),a(!1)};return r?e!=="intent"?[s,h,{}]:[s,h,{onFocus:sa(l,g),onBlur:sa(c,b),onMouseEnter:sa(u,g),onMouseLeave:sa(f,b),onTouchStart:sa(d,g)}]:[!1,h,{}]}function sa(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function tE({page:e,...t}){let{router:r}=l0(),n=p.useMemo(()=>Xy(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?p.createElement(nE,{page:e,matches:n,...t}):null}function rE(e){let{manifest:t,routeModules:r}=c0(),[n,o]=p.useState([]);return p.useEffect(()=>{let s=!1;return qC(e,t,r).then(a=>{s||o(a)}),()=>{s=!0}},[e,t,r]),n}function nE({page:e,matches:t,...r}){let n=Cn(),{manifest:o,routeModules:s}=c0(),{basename:a}=l0(),{loaderData:l,matches:c}=ZC(),u=p.useMemo(()=>Mm(e,t,c,o,n,"data"),[e,t,c,o,n]),f=p.useMemo(()=>Mm(e,t,c,o,n,"assets"),[e,t,c,o,n]),d=p.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(t.forEach(y=>{var v;let m=o.routes[y.route.id];!m||!m.hasLoader||(!u.some(_=>_.route.id===y.route.id)&&y.route.id in l&&((v=s[y.route.id])!=null&&v.shouldRevalidate)||m.hasClientLoader?w=!0:b.add(y.route.id))}),b.size===0)return[];let x=XC(e,a);return w&&b.size>0&&x.searchParams.set("_routes",t.filter(y=>b.has(y.route.id)).map(y=>y.route.id).join(",")),[x.pathname+x.search]},[a,l,n,o,u,t,e,s]),h=p.useMemo(()=>GC(f,o),[f,o]),g=rE(f);return p.createElement(p.Fragment,null,d.map(b=>p.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),h.map(b=>p.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),g.map(({key:b,link:w})=>p.createElement("link",{key:b,...w})))}function oE(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var u0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u0&&(window.__reactRouterVersion="7.6.0")}catch{}function sE({basename:e,children:t,window:r}){let n=p.useRef();n.current==null&&(n.current=HS({window:r,v5Compat:!0}));let o=n.current,[s,a]=p.useState({action:o.action,location:o.location}),l=p.useCallback(c=>{p.startTransition(()=>a(c))},[a]);return p.useLayoutEffect(()=>o.listen(l),[o,l]),p.createElement(DC,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o})}var d0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_c=p.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d,...h},g){let{basename:b}=p.useContext(Ar),w=typeof u=="string"&&d0.test(u),x,y=!1;if(typeof u=="string"&&w&&(x=u,u0))try{let L=new URL(window.location.href),I=u.startsWith("//")?new URL(L.protocol+u):new URL(u),J=xn(I.pathname,b);I.origin===L.origin&&J!=null?u=J+I.search+I.hash:y=!0}catch{Rr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=vC(u,{relative:o}),[v,_,S]=eE(n,h),R=cE(u,{replace:a,state:l,target:c,preventScrollReset:f,relative:o,viewTransition:d});function k(L){t&&t(L),L.defaultPrevented||R(L)}let N=p.createElement("a",{...h,...S,href:x||m,onClick:y||s?t:k,ref:oE(g,_),target:c,"data-discover":!w&&r==="render"?"true":void 0});return v&&!w?p.createElement(p.Fragment,null,N,p.createElement(tE,{page:m})):N});_c.displayName="Link";var aE=p.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:o=!1,style:s,to:a,viewTransition:l,children:c,...u},f){let d=ii(a,{relative:u.relative}),h=Cn(),g=p.useContext(xc),{navigator:b,basename:w}=p.useContext(Ar),x=g!=null&&pE(d)&&l===!0,y=b.encodeLocation?b.encodeLocation(d).pathname:d.pathname,m=h.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(m=m.toLowerCase(),v=v?v.toLowerCase():null,y=y.toLowerCase()),v&&w&&(v=xn(v,w)||v);const _=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=m===y||!o&&m.startsWith(y)&&m.charAt(_)==="/",R=v!=null&&(v===y||!o&&v.startsWith(y)&&v.charAt(y.length)==="/"),k={isActive:S,isPending:R,isTransitioning:x},N=S?t:void 0,L;typeof n=="function"?L=n(k):L=[n,S?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(k):s;return p.createElement(_c,{...u,"aria-current":N,className:L,ref:f,style:I,to:a,viewTransition:l},typeof c=="function"?c(k):c)});aE.displayName="NavLink";var iE=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:o,state:s,method:a=pl,action:l,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:d,...h},g)=>{let b=fE(),w=hE(l,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&d0.test(l),m=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let _=v.nativeEvent.submitter,S=(_==null?void 0:_.getAttribute("formmethod"))||a;b(_||v.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:o,state:s,relative:u,preventScrollReset:f,viewTransition:d})};return p.createElement("form",{ref:g,method:x,action:w,onSubmit:n?c:m,...h,"data-discover":!y&&e==="render"?"true":void 0})});iE.displayName="Form";function lE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f0(e){let t=p.useContext(Ls);return Ze(t,lE(e)),t}function cE(e,{target:t,replace:r,state:n,preventScrollReset:o,relative:s,viewTransition:a}={}){let l=wc(),c=Cn(),u=ii(e,{relative:s});return p.useCallback(f=>{if(zC(f,t)){f.preventDefault();let d=r!==void 0?r:Ga(c)===Ga(u);l(e,{replace:d,state:n,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,n,t,e,o,s,a])}var uE=0,dE=()=>`__${String(++uE)}__`;function fE(){let{router:e}=f0("useSubmit"),{basename:t}=p.useContext(Ar),r=PC();return p.useCallback(async(n,o={})=>{let{action:s,method:a,encType:l,formData:c,body:u}=VC(n,t);if(o.navigate===!1){let f=o.fetcherKey||dE();await e.fetch(f,r,o.action||s,{preventScrollReset:o.preventScrollReset,formData:c,body:u,formMethod:o.method||a,formEncType:o.encType||l,flushSync:o.flushSync})}else await e.navigate(o.action||s,{preventScrollReset:o.preventScrollReset,formData:c,body:u,formMethod:o.method||a,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function hE(e,{relative:t}={}){let{basename:r}=p.useContext(Ar),n=p.useContext(Or);Ze(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),s={...ii(e||".",{relative:t})},a=Cn();if(e==null){s.search=a.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(d=>d).forEach(d=>l.append("index",d));let f=l.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:fn([r,s.pathname])),Ga(s)}function pE(e,t={}){let r=p.useContext(r0);Ze(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=f0("useViewTransitionState"),o=ii(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=xn(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=xn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ql(o.pathname,a)!=null||ql(o.pathname,s)!=null}[...QC];const mE="modulepreload",gE=function(e){return"/"+e},Lm={},Ns=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(r.map(c=>{if(c=gE(c),c in Lm)return;Lm[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":mE,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},vE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ns(async()=>{const{default:n}=await Promise.resolve().then(()=>Fs);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Nh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yE extends Nh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xE extends Nh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wE extends Nh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jd||(Jd={}));var bE=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class _E{constructor(t,{headers:r={},customFetch:n,region:o=Jd.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=vE(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return bE(this,void 0,void 0,function*(){try{const{headers:o,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const f=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),o),body:u}).catch(b=>{throw new yE(b)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new xE(f);if(!f.ok)throw new wE(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null}}catch(o){return{data:null,error:o}}})}}var Ht={},Rh={},Sc={},li={},Cc={},Ec={},SE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rs=SE();const CE=Rs.fetch,h0=Rs.fetch.bind(Rs),p0=Rs.Headers,EE=Rs.Request,jE=Rs.Response,Fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:p0,Request:EE,Response:jE,default:h0,fetch:CE},Symbol.toStringTag,{value:"Module"})),kE=l1(Fs);var jc={};Object.defineProperty(jc,"__esModule",{value:!0});let NE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};jc.default=NE;var m0=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ec,"__esModule",{value:!0});const RE=m0(kE),PE=m0(jc);let TE=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=RE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,f=null,d=null,h=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await s.text();try{u=JSON.parse(w),Array.isArray(u)&&s.status===404&&(f=[],u=null,h=200,g="OK")}catch{s.status===404&&w===""?(h=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new PE.default(u)}return{error:u,data:f,count:d,status:h,statusText:g}});return this.shouldThrowOnError||(o=o.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,r)}returns(){return this}overrideTypes(){return this}};Ec.default=TE;var AE=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cc,"__esModule",{value:!0});const OE=AE(Ec);let DE=class extends OE.default{select(t){let r=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:s=o}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:o=n}={}){const s=typeof o>"u"?"offset":`${o}.offset`,a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cc.default=DE;var IE=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(li,"__esModule",{value:!0});const ME=IE(Cc);let LE=class extends ME.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:o}={}){let s="";o==="plain"?s="pl":o==="phrase"?s="ph":o==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};li.default=LE;var $E=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sc,"__esModule",{value:!0});const aa=$E(li);let FE=class{constructor(t,{headers:r={},schema:n,fetch:o}){this.url=t,this.headers=r,this.schema=n,this.fetch=o}select(t,{head:r=!1,count:n}={}){const o=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new aa.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const o="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new aa.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),o&&l.push(`count=${o}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new aa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),this.headers.Prefer=o.join(","),new aa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new aa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Sc.default=FE;var kc={},Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.version=void 0;Nc.version="0.0.0-automated";Object.defineProperty(kc,"__esModule",{value:!0});kc.DEFAULT_HEADERS=void 0;const zE=Nc;kc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zE.version}`};var g0=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rh,"__esModule",{value:!0});const UE=g0(Sc),BE=g0(li),VE=kc;let HE=class v0{constructor(t,{headers:r={},schema:n,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},VE.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=o}from(t){const r=new URL(`${this.url}/${t}`);return new UE.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new v0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:o=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||o?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new BE.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Rh.default=HE;var zs=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.PostgrestError=Ht.PostgrestBuilder=Ht.PostgrestTransformBuilder=Ht.PostgrestFilterBuilder=Ht.PostgrestQueryBuilder=Ht.PostgrestClient=void 0;const y0=zs(Rh);Ht.PostgrestClient=y0.default;const x0=zs(Sc);Ht.PostgrestQueryBuilder=x0.default;const w0=zs(li);Ht.PostgrestFilterBuilder=w0.default;const b0=zs(Cc);Ht.PostgrestTransformBuilder=b0.default;const _0=zs(Ec);Ht.PostgrestBuilder=_0.default;const S0=zs(jc);Ht.PostgrestError=S0.default;var WE=Ht.default={PostgrestClient:y0.default,PostgrestQueryBuilder:x0.default,PostgrestFilterBuilder:w0.default,PostgrestTransformBuilder:b0.default,PostgrestBuilder:_0.default,PostgrestError:S0.default};const{PostgrestClient:qE,PostgrestQueryBuilder:UA,PostgrestFilterBuilder:BA,PostgrestTransformBuilder:VA,PostgrestBuilder:HA,PostgrestError:WA}=WE,GE="2.11.2",KE={"X-Client-Info":`realtime-js/${GE}`},YE="1.0.0",C0=1e4,JE=1e3;var ys;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ys||(ys={}));var Jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jt||(Jt={}));var Sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sr||(Sr={}));var Qd;(function(e){e.websocket="websocket"})(Qd||(Qd={}));var vo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vo||(vo={}));class QE{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+o));a=a+o;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class E0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const $m=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=XE(a,e,t,o),s),{})},XE=(e,t,r,n)=>{const o=t.find(l=>l.name===e),s=o==null?void 0:o.type,a=r[e];return s&&!n.includes(s)?j0(s,a):Xd(a)},j0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return r2(t,r)}switch(e){case Ve.bool:return ZE(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return e2(t);case Ve.json:case Ve.jsonb:return t2(t);case Ve.timestamp:return n2(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Xd(t);default:return Xd(t)}},Xd=e=>e,ZE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},e2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},t2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},r2=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>j0(t,l))}return e},n2=e=>typeof e=="string"?e.replace(" ","T"):e,k0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Au{constructor(t,r,n={},o=C0){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fm||(Fm={}));class ja{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ja.syncState(this.state,o,s,a),this.pendingDiffs.forEach(c=>{this.state=ja.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},o=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ja.syncDiff(this.state,o,s,a),l())}),this.onJoin((o,s,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:a})}),this.onLeave((o,s,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,f)=>{a[u]||(c[u]=f)}),this.map(a,(u,f)=>{const d=s[u];if(d){const h=f.map(x=>x.presence_ref),g=d.map(x=>x.presence_ref),b=f.filter(x=>g.indexOf(x.presence_ref)<0),w=d.filter(x=>h.indexOf(x.presence_ref)<0);b.length>0&&(l[u]=b),w.length>0&&(c[u]=w)}else l[u]=f}),this.syncDiff(s,{joins:l,leaves:c},n,o)}static syncDiff(t,r,n,o){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(s,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(g=>g.presence_ref),h=f.filter(g=>d.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,o(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zm||(zm={}));var Um;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Um||(Um={}));var on;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(on||(on={}));class Ph{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Au(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new E0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new ja(this),this.broadcastEndpointURL=k0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(f=>t==null?void 0:t(on.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(on.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&o!==void 0?o:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(on.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,b=[];for(let w=0;w<g;w++){const x=h[w],{filter:{event:y,schema:m,table:v,filter:_}}=x,S=f&&f[w];if(S&&S.event===y&&S.schema===m&&S.table===v&&S.filter===_)b.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t==null||t(on.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(on.SUBSCRIBED);return}}).receive("error",f=>{t==null||t(on.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(on.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const o=new Au(this,Sr.leave,{},t);o.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const o=new AbortController,s=setTimeout(()=>o.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Au(this,t,r,n);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Sr;if(n&&[l,c,u,f].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(g=>{var b,w,x;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(w=g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var b,w,x,y,m,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const _=g.id,S=(b=g.filter)===null||b===void 0?void 0:b.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:w,table:x,commit_timestamp:y,type:m,errors:v}=b;h=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:y,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(b))}g.callback(h,n)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),s={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ph.isEqual(o.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sr.close,{},t)}_onError(t){this._on(Sr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$m(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$m(t.columns,t.old_record)),r}}const o2=()=>{},s2=typeof WebSocket<"u",a2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class i2{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=KE,this.params={},this.timeout=C0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=o2,this.conn=null,this.sendBuffer=[],this.serializer=new QE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>Ns(async()=>{const{default:c}=await Promise.resolve().then(()=>Fs);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Qd.websocket}`,this.httpEndpoint=k0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const o=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(s2){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new l2(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ns(async()=>{const{default:t}=await import("./browser-2HR9-Hzu.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YE}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ys.connecting:return vo.Connecting;case ys.open:return vo.Open;case ys.closing:return vo.Closing;default:return vo.Closed}}isConnected(){return this.connectionState()===vo.Open}channel(t,r={config:{}}){const n=new Ph(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:o,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,o),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(o=>{r&&o.updateJoinPayload({access_token:r}),o.joinedOnce&&o._isJoined()&&o._push(Sr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(JE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:o,payload:s,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${o} ${a&&"("+a+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(o,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([a2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class l2{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ys.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Th extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class c2 extends Th{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zd extends Th{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var u2=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const N0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ns(async()=>{const{default:n}=await Promise.resolve().then(()=>Fs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},d2=()=>u2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ns(()=>Promise.resolve().then(()=>Fs),void 0)).Response:Response}),ef=e=>{if(Array.isArray(e))return e.map(r=>ef(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[o]=ef(n)}),t};var Io=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ou=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),f2=(e,t,r)=>Io(void 0,void 0,void 0,function*(){const n=yield d2();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{t(new c2(Ou(o),e.status||500))}).catch(o=>{t(new Zd(Ou(o),o))}):t(new Zd(Ou(e),e))}),h2=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(o.body=JSON.stringify(n)),Object.assign(Object.assign({},o),r))};function ci(e,t,r,n,o,s){return Io(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,h2(t,n,o,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>f2(c,l,n))})})}function Gl(e,t,r,n){return Io(this,void 0,void 0,function*(){return ci(e,"GET",t,r,n)})}function Ln(e,t,r,n,o){return Io(this,void 0,void 0,function*(){return ci(e,"POST",t,n,o,r)})}function p2(e,t,r,n,o){return Io(this,void 0,void 0,function*(){return ci(e,"PUT",t,n,o,r)})}function m2(e,t,r,n){return Io(this,void 0,void 0,function*(){return ci(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function R0(e,t,r,n,o){return Io(this,void 0,void 0,function*(){return ci(e,"DELETE",t,n,o,r)})}var Ut=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const g2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class v2{constructor(t,r={},n,o){this.url=t,this.headers=r,this.bucketId=n,this.fetch=N0(o)}uploadOrUpdate(t,r,n,o){return Ut(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Bm),o);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o!=null&&o.headers&&(l=Object.assign(Object.assign({},l),o.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:s,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return Ut(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Bm.upsert},o),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(mt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const s=yield Ln(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new Th("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}copy(t,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:{path:(yield Ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return Ut(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),s=yield Ln(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return Ut(this,void 0,void 0,function*(){try{const o=yield Ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}download(t,r){return Ut(this,void 0,void 0,function*(){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Gl(this.fetch,`${this.url}/${o}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(mt(l))return{data:null,error:l};throw l}})}info(t){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Gl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ef(n),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}exists(t){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield m2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(mt(n)&&n instanceof Zd){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&o.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ut(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},g2),r),{prefix:t||""});return{data:yield Ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const y2="2.7.1",x2={"X-Client-Info":`storage-js/${y2}`};var Ho=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class w2{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},x2),r),this.fetch=N0(n)}listBuckets(){return Ho(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(mt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ho(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ho(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ho(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ho(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ho(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}}class b2 extends w2{constructor(t,r={},n){super(t,r,n)}from(t){return new v2(this.url,this.headers,t,this.fetch)}}const _2="2.49.8";let ha="";typeof Deno<"u"?ha="deno":typeof document<"u"?ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ha="react-native":ha="node";const S2={"X-Client-Info":`supabase-js-${ha}/${_2}`},C2={headers:S2},E2={schema:"public"},j2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k2={};var N2=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const R2=e=>{let t;return e?t=e:typeof fetch>"u"?t=h0:t=fetch,(...r)=>t(...r)},P2=()=>typeof Headers>"u"?p0:Headers,T2=(e,t,r)=>{const n=R2(r),o=P2();return(s,a)=>N2(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new o(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var A2=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function O2(e){return e.endsWith("/")?e:e+"/"}function D2(e,t){var r,n;const{db:o,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>A2(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const P0="2.69.1",Qo=30*1e3,tf=3,Du=tf*Qo,I2="http://localhost:9999",M2="supabase.auth.token",L2={"X-Client-Info":`gotrue-js/${P0}`},rf="X-Supabase-Api-Version",T0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,F2=6e5;class Ah extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class z2 extends Ah{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function U2(e){return je(e)&&e.name==="AuthApiError"}class A0 extends Ah{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class oo extends Ah{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class An extends oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function B2(e){return je(e)&&e.name==="AuthSessionMissingError"}class Iu extends oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vi extends oo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hi extends oo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function V2(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vm extends oo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nf extends oo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Mu(e){return je(e)&&e.name==="AuthRetryableFetchError"}class Hm extends oo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ka extends oo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qm=` 	
\r=`.split(""),H2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qm.length;t+=1)e[qm[t].charCodeAt(0)]=-2;for(let t=0;t<Wm.length;t+=1)e[Wm[t].charCodeAt(0)]=t;return e})();function O0(e,t,r){const n=H2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gm(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=a=>{G2(a,n,r)};for(let a=0;a<e.length;a+=1)O0(e.charCodeAt(a),o,s);return t.join("")}function W2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function q2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}W2(n,t)}}function G2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function K2(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)O0(e.charCodeAt(o),r,n);return new Uint8Array(t)}function Y2(e){const t=[];return q2(e,r=>t.push(r)),new Uint8Array(t)}function J2(e){return Math.round(Date.now()/1e3)+e}function Q2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fr=()=>typeof window<"u"&&typeof document<"u",co={tested:!1,writable:!1},Na=()=>{if(!Fr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(co.tested)return co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),co.tested=!0,co.writable=!0}catch{co.tested=!0,co.writable=!1}return co.writable};function X2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,s)=>{t[s]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const D0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ns(async()=>{const{default:n}=await Promise.resolve().then(()=>Fs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",I0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qi=async(e,t)=>{await e.removeItem(t)};class Rc{constructor(){this.promise=new Rc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Rc.promiseConstructor=Promise;function Lu(e){const t=e.split(".");if(t.length!==3)throw new ka("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$2.test(t[n]))throw new ka("JWT not in base64url format");return{header:JSON.parse(Gm(t[0])),payload:JSON.parse(Gm(t[1])),signature:K2(t[2]),raw:{header:t[0],payload:t[1]}}}async function ej(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tj(e,t){return new Promise((n,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){o(a);return}}})()})}function rj(e){return("0"+e.toString(16)).substr(-2)}function nj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let s=0;s<56;s++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,rj).join("")}async function oj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function sj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await oj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wo(e,t,r=!1){const n=nj();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await I0(e,`${t}-code-verifier`,o);const s=await sj(n);return[s,n===s?"plain":"s256"]}const aj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ij(e){const t=e.headers.get(rf);if(!t||!t.match(aj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var uj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dj=[502,503,504];async function Km(e){var t;if(!Z2(e))throw new nf(po(e),0);if(dj.includes(e.status))throw new nf(po(e),e.status);let r;try{r=await e.json()}catch(s){throw new A0(po(s),s)}let n;const o=ij(e);if(o&&o.getTime()>=T0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hm(po(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new An}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Hm(po(r),e.status,r.weak_password.reasons);throw new z2(po(r),e.status||500,n)}const fj=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Ae(e,t,r,n){var o;const s=Object.assign({},n==null?void 0:n.headers);s[rf]||(s[rf]=T0["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await hj(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function hj(e,t,r,n,o,s){const a=fj(t,n,o,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new nf(po(c),0)}if(l.ok||await Km(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Km(c)}}function On(e){var t;let r=null;vj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=J2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ym(e){const t=On(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pj(e){return{data:e,error:null}}function mj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s}=e,a=uj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function gj(e){return e}function vj(e){return e.access_token&&e.refresh_token&&e.expires_in}var yj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class xj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=D0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zn})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yj(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:mj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zn})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:gj});if(f.error)throw f.error;const d=await f.json(),h=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(je(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zn})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zn})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zn})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}const wj={getItem:e=>Na()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Na()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Na()&&globalThis.localStorage.removeItem(e)}};function Jm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function bj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qo={debug:!!(globalThis&&Na()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class M0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _j extends M0{}async function Sj(e,t,r){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _j(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}bj();const Cj={url:I2,storageKey:M2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qm(e,t,r){return await r()}class Ka{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ka.nextInstanceID,Ka.nextInstanceID+=1,this.instanceID>0&&Fr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Cj),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new xj({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=D0(o.fetch),this.lock=o.lock||Qm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Fr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Sj:this.lock=Qm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Na()?this.storage=wj:(this.memoryStorage={},this.storage=Jm(this.memoryStorage)):(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),Fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${P0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=X2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fr()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),V2(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?{error:r}:{error:new A0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:On}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,o;try{let s;if("email"in t){const{email:f,password:d,options:h}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Wo(this.storage,this.storageKey)),s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:b},xform:On})}else if("phone"in t){const{phone:f,password:d,options:h}=t;s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(o=h==null?void 0:h.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:On})}else throw new Vi("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ym})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ym})}else throw new Vi("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Iu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Wi(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:s,error:a}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:On});if(await qi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Iu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(je(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:s,nonce:a}=t,l=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:On}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Iu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Wo(this.storage,this.storageKey));const{error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Vi("You must provide either an email or phone number.")}catch(l){if(je(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:On});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(je(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Wo(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:pj})}catch(s){if(je(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new An;const{error:o}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(je(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:s}=t,{error:a}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:o,options:s}=t,{data:a,error:l}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Vi("You must provide either an email or phone number and a type")}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Du:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zn}):await this._useSession(async r=>{var n,o,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new An}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:zn})})}catch(r){if(je(r))return B2(r)&&(await this._removeSession(),await qi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:s}=n;if(s)throw s;if(!o.session)throw new An;const a=o.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Wo(this.storage,this.storageKey));const{data:u,error:f}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:zn});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new An;const r=Date.now()/1e3;let n=r,o=!0,s=null;const{payload:a}=Lu(t.access_token);if(a.exp&&(n=a.exp,o=n<=r),o){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(je(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new An;const{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Fr())throw new Hi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Vm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vm("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new Hi("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const g=h-f;g*1e3<=Qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const b=h-d;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,f);const{data:w,error:x}=await this._getUser(s);if(x)throw x;const y={provider_token:n,provider_refresh_token:o,access_token:s,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(je(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:s}=r;if(s)return{error:s};const a=(n=o.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(U2(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await qi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Q2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await Wo(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(je(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:o}=await this._useSession(async s=>{var a,l,c,u,f;const{data:d,error:h}=s;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(o)throw o;return Fr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(je(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:s,error:a}=r;if(a)throw a;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tj(async o=>(o>0&&await ej(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:On})),(o,s)=>{const a=200*Math.pow(2,o);return s&&Mu(s)&&Date.now()+a-n<Qo})}catch(n){if(this._debug(r,"error",n),je(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Wi(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const o=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Du;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Du}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),Mu(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new An;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Rc;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new An;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),je(s)){const a={session:null,error:s};return Mu(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await I0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await qi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/Qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qo}ms, refresh threshold is ${tf} ticks`),o<=tf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof M0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Wo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);o.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;return s?{data:null,error:s}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=c==null?void 0:c.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;return s?{data:null,error:s}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],o=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Lu(o.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+F2>Date.now()))return n;const{data:o,error:s}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!o.keys||o.keys.length===0)throw new ka("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),n=o.keys.find(a=>a.kid===t),!n)throw new ka("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};n=g.session.access_token}const{header:o,payload:s,signature:a,raw:{header:l,payload:c}}=Lu(n);if(lj(s.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:o,signature:a},error:null}}const u=cj(o.alg),f=await this.fetchJwk(o.kid,r),d=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,Y2(`${l}.${c}`)))throw new ka("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}}Ka.nextInstanceID=0;const Ej=Ka;class jj extends Ej{constructor(t){super(t)}}var kj=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Nj{constructor(t,r,n){var o,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=O2(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:E2,realtime:k2,auth:Object.assign(Object.assign({},j2),{storageKey:u}),global:C2},d=D2(n??{},f);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=T2(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new qE(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new _E(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new b2(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return kj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,storageKey:s,flowType:a,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jj({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new i2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const L0=(e,t,r)=>new Nj(e,t,r),Rj="https://kvesgqtjpyvyxtscbfdm.supabase.co",Pj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2ZXNncXRqcHl2eXh0c2NiZmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5MzUxMjIsImV4cCI6MjA2MzUxMTEyMn0.4RT8Cj9hc6wgc6q_LG2ME4YahI4BOC4Lgg2x_qlFqts",re=L0(Rj,Pj,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Ra=L0("https://kvesgqtjpyvyxtscbfdm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2ZXNncXRqcHl2eXh0c2NiZmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5MzUxMjIsImV4cCI6MjA2MzUxMTEyMn0.4RT8Cj9hc6wgc6q_LG2ME4YahI4BOC4Lgg2x_qlFqts",{auth:{persistSession:!1}}),ds={async register(e,t,r,n=""){try{console.log("Iniciando registro de usuario:",{email:e,fullName:r,phone:n});const o=e==="andreschmde@gmail.com",s=o?"admin":"reseller",a=o?"active":"pending";console.log("Rol y estado iniciales:",{initialRole:s,initialStatus:a});const{data:l,error:c}=await re.auth.signUp({email:e,password:t,options:{data:{role:s,status:a,full_name:r,phone:n||""}}});if(c)throw c.message.includes("already registered")?new Error("El correo electrnico ya est registrado"):new Error("Error al crear el usuario: "+c.message);if(!l.user)throw new Error("No se pudo crear el usuario");console.log("Usuario creado en auth:",{id:l.user.id,email:l.user.email});try{console.log("Usando RPC create_user_profile_v2 para crear el perfil...");const{data:u,error:f}=await re.rpc("create_user_profile_v2",{user_id:l.user.id,user_email:e,user_role:s,user_status:a,user_full_name:r});if(f)throw console.error("Error al crear perfil con RPC:",f),new Error("Error al crear el perfil del usuario: "+f.message);if(console.log("Perfil creado correctamente con RPC:",u),s==="reseller")try{const d=new Date;d.setDate(d.getDate()+30),console.log("Creando revendedor con RPC update_user_status...");const{error:h}=await re.rpc("update_user_status",{user_id:l.user.id,new_status:a});h?console.error("Error al crear revendedor con RPC update_user_status:",h):console.log("Revendedor creado correctamente con RPC update_user_status"),console.log("Actualizando datos adicionales del revendedor...");const{error:g}=await re.rpc("update_reseller_info",{reseller_id:l.user.id,reseller_phone:n||"",reseller_plan_type:"basic",reseller_plan_end_date:d.toISOString()});g?console.error("Error al actualizar info adicional del revendedor:",g):console.log("Datos adicionales del revendedor actualizados correctamente")}catch(d){console.error("Error al configurar revendedor:",d)}console.log("Registro completado con xito"),console.log("Cerrando sesin automtica despus del registro..."),await re.auth.signOut(),console.log("Sesin cerrada correctamente")}catch(u){throw console.error("Error al configurar el usuario:",u),new Error("Se cre el usuario pero hubo un error al configurar su perfil: "+u.message)}}catch(o){throw console.error("Error en el registro:",o),o}},async updateUserRole(e,t){try{console.log(`Actualizando rol de usuario ${e} a ${t}`);const{error:r}=await re.from("profiles").update({role:t}).eq("id",e);if(r)throw console.error("Error actualizando rol en profiles:",r),r;if(console.log("Rol actualizado correctamente en profiles"),t==="reseller"){const{data:n,error:o}=await re.from("resellers").select("id").eq("id",e).maybeSingle();if(console.log("Verificacin de revendedor existente:",{existingReseller:n,error:o?o.message:null}),!n){const{data:s}=await re.from("profiles").select("full_name").eq("id",e).single();if(s){const a=new Date;a.setDate(a.getDate()+30);const{error:l}=await re.from("resellers").insert([{id:e,user_id:e,full_name:s.full_name,status:"pending",phone:"",plan_type:"basic",plan_end_date:a.toISOString(),created_at:new Date().toISOString()}]);l?console.error("Error creando revendedor:",l):console.log("Revendedor creado correctamente")}}}return{success:!0}}catch(r){throw console.error("Error actualizando rol:",r),new Error("Error al actualizar el rol del usuario")}},async updateUserStatus(e,t){return console.log("Esta funcin ha sido reemplazada por userStatusService.ts"),{success:!0}},async login(e,t){var r,n,o;try{console.log(`Intentando iniciar sesin con email: ${e}`);const{data:s,error:a}=await re.auth.signInWithPassword({email:e,password:t});if(a)throw console.error("Error de autenticacin:",a),new Error("Credenciales incorrectas");console.log("Autenticacin exitosa, obteniendo datos del perfil");const{data:l,error:c}=await re.from("profiles").select("role, status, full_name").eq("id",s.user.id).single();console.log("Datos del perfil:",l,"Error:",c);let u,f,d;if(c||!l?(console.log("Usando metadatos como respaldo"),u=((r=s.user.user_metadata)==null?void 0:r.role)||(e==="andreschmde@gmail.com"?"admin":"reseller"),f=((n=s.user.user_metadata)==null?void 0:n.status)||(e==="andreschmde@gmail.com"?"active":"pending"),d=((o=s.user.user_metadata)==null?void 0:o.full_name)||(e==="andreschmde@gmail.com"?"Andres":"")):(console.log("Usando datos actualizados del perfil"),u=l.role,f=l.status,d=l.full_name),console.log("Estado final del usuario:",{role:u,status:f,full_name:d}),u==="reseller"){console.log("Usuario es revendedor, verificando estado en tabla resellers");try{const{data:h,error:g}=await re.from("resellers").select("status").or(`id.eq.${s.user.id},user_id.eq.${s.user.id}`).maybeSingle();console.log("Datos del revendedor:",h,"Error:",g),!g&&h&&h.status&&(console.log("Usando estado de la tabla resellers:",h.status),f=h.status)}catch(h){console.error("Error verificando estado en resellers:",h)}}try{console.log("Verificacin adicional del estado en profiles");const{data:h,error:g}=await re.rpc("get_user_profile",{user_id:s.user.id});!g&&h&&h.length>0&&(console.log("Datos ms recientes del perfil:",h[0]),f=h[0].status,console.log("Estado actualizado desde get_user_profile:",f))}catch(h){console.error("Error en verificacin adicional del perfil:",h)}if(console.log("Estado final para verificacin:",f),f==="pending")throw console.log("Usuario pendiente de activacin"),new Error("Tu cuenta est pendiente de aprobacin por el administrador. Por favor, espera a que tu cuenta sea activada.");if(f==="inactive")throw console.log("Usuario inactivo"),new Error("Tu cuenta ha sido desactivada. Por favor, contacta al administrador para ms informacin.");return console.log("Login exitoso, devolviendo datos del usuario"),{session:s.session,user:{id:s.user.id,email:s.user.email||"",role:u,status:f,full_name:d}}}catch(s){throw console.error("Error en login:",s),s}},async getCurrentUser(){var e,t,r;try{const{data:{session:n}}=await re.auth.getSession();if(!(n!=null&&n.user))return null;console.log("Obteniendo datos actualizados del usuario actual");const{data:o,error:s}=await re.from("profiles").select("role, status, full_name").eq("id",n.user.id).single();console.log("Datos del perfil actual:",o,"Error:",s);let a,l,c;return s||!o?(console.log("Usando metadatos como respaldo para usuario actual"),a=((e=n.user.user_metadata)==null?void 0:e.role)||(n.user.email==="andreschmde@gmail.com"?"admin":"reseller"),l=((t=n.user.user_metadata)==null?void 0:t.status)||(n.user.email==="andreschmde@gmail.com"?"active":"pending"),c=((r=n.user.user_metadata)==null?void 0:r.full_name)||(n.user.email==="andreschmde@gmail.com"?"Andres":"")):(console.log("Usando datos actualizados del perfil para usuario actual"),a=o.role,l=o.status,c=o.full_name),console.log("Estado final del usuario actual:",{role:a,status:l,full_name:c}),{id:n.user.id,email:n.user.email||"",role:a,status:l,full_name:c}}catch(n){return console.error("Error obteniendo usuario actual:",n),null}},async logout(){try{const{error:e}=await re.auth.signOut();if(e)throw e;window.location.href="/"}catch(e){throw console.error("Error al cerrar sesin:",e),new Error("Error al cerrar sesin")}},async updateUserPassword(e){try{console.log("Intentando actualizar la contrasea del usuario");const{data:t,error:r}=await re.auth.updateUser({password:e});if(r)throw console.error("Error al actualizar la contrasea:",r),new Error("Error al actualizar la contrasea: "+r.message);console.log("Contrasea actualizada exitosamente:",t)}catch(t){throw console.error("Error en updateUserPassword:",t),t}},async deleteUser(e){try{console.log("Intentando eliminar usuario de Auth:",e);const{data:t}=await re.auth.getSession();if(!(t!=null&&t.session))throw new Error("No hay una sesin activa para realizar esta operacin");try{if(Ra){const{error:r}=await Ra.auth.admin.deleteUser(e);if(r)throw console.error("Error al eliminar usuario con supabaseAdmin:",r),r;console.log("Usuario eliminado correctamente de Auth con supabaseAdmin");return}}catch(r){console.error("Error o no disponible supabaseAdmin:",r)}throw console.log("No se pudo eliminar el usuario de Auth automticamente"),new Error("La eliminacin del usuario de Auth debe ser realizada manualmente por un administrador")}catch(t){throw console.error("Error en deleteUser:",t),t}}},$0=p.createContext(void 0);function Tj({children:e}){const[t,r]=p.useState(null),[n,o]=p.useState(!0);p.useEffect(()=>{s()},[]);async function s(){try{const f=await ds.getCurrentUser();r(f)}catch(f){console.error("Error checking user:",f)}finally{o(!1)}}async function a(f,d){const h=await ds.login(f,d);return r(h.user),{user:h.user}}async function l(){await ds.logout(),r(null)}async function c(f){await ds.updateUserPassword(f)}const u={user:t,loading:n,login:a,logout:l,updatePassword:c};return i.jsx($0.Provider,{value:u,children:e})}function Dr(){const e=p.useContext($0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Xm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pc(...e){return t=>{let r=!1;const n=e.map(o=>{const s=Xm(o,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let o=0;o<n.length;o++){const s=n[o];typeof s=="function"?s():Xm(e[o],null)}}}}function Be(...e){return p.useCallback(Pc(...e),e)}function Aj(e,t){const r=p.createContext(t),n=s=>{const{children:a,...l}=s,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function o(s){const a=p.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,o]}function Mo(e,t=[]){let r=[];function n(s,a){const l=p.createContext(a),c=r.length;r=[...r,a];const u=d=>{var y;const{scope:h,children:g,...b}=d,w=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,x=p.useMemo(()=>b,Object.values(b));return i.jsx(w.Provider,{value:x,children:g})};u.displayName=s+"Provider";function f(d,h){var w;const g=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,b=p.useContext(g);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,f]}const o=()=>{const s=r.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[n,Oj(o,...t)]}function Oj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var At=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Dj=Kg[" useId ".trim().toString()]||(()=>{}),Ij=0;function hn(e){const[t,r]=p.useState(Dj());return At(()=>{r(n=>n??String(Ij++))},[e]),t?`radix-${t}`:""}var Mj=Kg[" useInsertionEffect ".trim().toString()]||At;function Ya({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,s,a]=Lj({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:o;{const f=p.useRef(e!==void 0);p.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=p.useCallback(f=>{var d;if(l){const h=$j(f)?f(e):f;h!==e&&((d=a.current)==null||d.call(a,h))}else s(f)},[l,e,s,a]);return[c,u]}function Lj({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),o=p.useRef(r),s=p.useRef(t);return Mj(()=>{s.current=t},[t]),p.useEffect(()=>{var a;o.current!==r&&((a=s.current)==null||a.call(s,r),o.current=r)},[r,o]),[r,n,s]}function $j(e){return typeof e=="function"}function No(e){const t=zj(e),r=p.forwardRef((n,o)=>{const{children:s,...a}=n,l=p.Children.toArray(s),c=l.find(Bj);if(c){const u=c.props.children,f=l.map(d=>d===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:d);return i.jsx(t,{...a,ref:o,children:p.isValidElement(u)?p.cloneElement(u,void 0,f):null})}return i.jsx(t,{...a,ref:o,children:s})});return r.displayName=`${e}.Slot`,r}var Fj=No("Slot");function zj(e){const t=p.forwardRef((r,n)=>{const{children:o,...s}=r;if(p.isValidElement(o)){const a=Hj(o),l=Vj(s,o.props);return o.type!==p.Fragment&&(l.ref=n?Pc(n,a):a),p.cloneElement(o,l)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Uj=Symbol("radix.slottable");function Bj(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Uj}function Vj(e,t){const r={...t};for(const n in t){const o=e[n],s=t[n];/^on[A-Z]/.test(n)?o&&s?r[n]=(...l)=>{const c=s(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...s}:n==="className"&&(r[n]=[o,s].filter(Boolean).join(" "))}return{...e,...r}}function Hj(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Wj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=Wj.reduce((e,t)=>{const r=No(`Primitive.${t}`),n=p.forwardRef((o,s)=>{const{asChild:a,...l}=o,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function F0(e,t){e&&Is.flushSync(()=>e.dispatchEvent(t))}function Kr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function qj(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e);p.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Gj="DismissableLayer",of="dismissableLayer.update",Kj="dismissableLayer.pointerDownOutside",Yj="dismissableLayer.focusOutside",Zm,z0=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=p.useContext(z0),[f,d]=p.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),b=Be(t,k=>d(k)),w=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=w.indexOf(x),m=f?w.indexOf(f):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=m>=y,S=Xj(k=>{const N=k.target,L=[...u.branches].some(I=>I.contains(N));!_||L||(o==null||o(k),a==null||a(k),k.defaultPrevented||l==null||l())},h),R=Zj(k=>{const N=k.target;[...u.branches].some(I=>I.contains(N))||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},h);return qj(k=>{m===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),p.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Zm=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),eg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Zm)}},[f,h,r,u]),p.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),eg())},[f,u]),p.useEffect(()=>{const k=()=>g({});return document.addEventListener(of,k),()=>document.removeEventListener(of,k)},[]),i.jsx(Oe.div,{...c,ref:b,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,R.onFocusCapture),onBlurCapture:me(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,S.onPointerDownCapture)})});Tc.displayName=Gj;var Jj="DismissableLayerBranch",Qj=p.forwardRef((e,t)=>{const r=p.useContext(z0),n=p.useRef(null),o=Be(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(Oe.div,{...e,ref:o})});Qj.displayName=Jj;function Xj(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){U0(Kj,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Zj(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=p.useRef(!1);return p.useEffect(()=>{const o=s=>{s.target&&!n.current&&U0(Yj,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eg(){const e=new CustomEvent(of);document.dispatchEvent(e)}function U0(e,t,r,{discrete:n}){const o=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?F0(o,s):o.dispatchEvent(s)}var $u="focusScope.autoFocusOnMount",Fu="focusScope.autoFocusOnUnmount",tg={bubbles:!1,cancelable:!0},ek="FocusScope",Ac=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...a}=e,[l,c]=p.useState(null),u=Kr(o),f=Kr(s),d=p.useRef(null),h=Be(t,w=>c(w)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let w=function(v){if(g.paused||!l)return;const _=v.target;l.contains(_)?d.current=_:Dn(d.current,{select:!0})},x=function(v){if(g.paused||!l)return;const _=v.relatedTarget;_!==null&&(l.contains(_)||Dn(d.current,{select:!0}))},y=function(v){if(document.activeElement===document.body)for(const S of v)S.removedNodes.length>0&&Dn(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const m=new MutationObserver(y);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),m.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){ng.add(g);const w=document.activeElement;if(!l.contains(w)){const y=new CustomEvent($u,tg);l.addEventListener($u,u),l.dispatchEvent(y),y.defaultPrevented||(tk(ak(B0(l)),{select:!0}),document.activeElement===w&&Dn(l))}return()=>{l.removeEventListener($u,u),setTimeout(()=>{const y=new CustomEvent(Fu,tg);l.addEventListener(Fu,f),l.dispatchEvent(y),y.defaultPrevented||Dn(w??document.body,{select:!0}),l.removeEventListener(Fu,f),ng.remove(g)},0)}}},[l,u,f,g]);const b=p.useCallback(w=>{if(!r&&!n||g.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,y=document.activeElement;if(x&&y){const m=w.currentTarget,[v,_]=rk(m);v&&_?!w.shiftKey&&y===_?(w.preventDefault(),r&&Dn(v,{select:!0})):w.shiftKey&&y===v&&(w.preventDefault(),r&&Dn(_,{select:!0})):y===m&&w.preventDefault()}},[r,n,g.paused]);return i.jsx(Oe.div,{tabIndex:-1,...a,ref:h,onKeyDown:b})});Ac.displayName=ek;function tk(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Dn(n,{select:t}),document.activeElement!==r)return}function rk(e){const t=B0(e),r=rg(t,e),n=rg(t.reverse(),e);return[r,n]}function B0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rg(e,t){for(const r of e)if(!nk(r,{upTo:t}))return r}function nk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ok(e){return e instanceof HTMLInputElement&&"select"in e}function Dn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ok(e)&&t&&e.select()}}var ng=sk();function sk(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=og(e,t),e.unshift(t)},remove(t){var r;e=og(e,t),(r=e[0])==null||r.resume()}}}function og(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ak(e){return e.filter(t=>t.tagName!=="A")}var ik="Portal",Oc=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[o,s]=p.useState(!1);At(()=>s(!0),[]);const a=r||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Qy.createPortal(i.jsx(Oe.div,{...n,ref:t}),a):null});Oc.displayName=ik;function lk(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var so=e=>{const{present:t,children:r}=e,n=ck(t),o=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=Be(n.ref,uk(o));return typeof r=="function"||n.isPresent?p.cloneElement(o,{ref:s}):null};so.displayName="Presence";function ck(e){const[t,r]=p.useState(),n=p.useRef(null),o=p.useRef(e),s=p.useRef("none"),a=e?"mounted":"unmounted",[l,c]=lk(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Gi(n.current);s.current=l==="mounted"?u:"none"},[l]),At(()=>{const u=n.current,f=o.current;if(f!==e){const h=s.current,g=Gi(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==g?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),At(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=g=>{const w=Gi(n.current).includes(g.animationName);if(g.target===t&&w&&(c("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=g=>{g.target===t&&(s.current=Gi(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Gi(e){return(e==null?void 0:e.animationName)||"none"}function uk(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zu=0;function Oh(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sg()),document.body.insertAdjacentElement("beforeend",e[1]??sg()),zu++,()=>{zu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),zu--}},[])}function sg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Br=function(){return Br=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Br.apply(this,arguments)};function V0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function dk(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var gl="right-scroll-bar-position",vl="width-before-scroll-bar",fk="with-scroll-bars-hidden",hk="--removed-body-scroll-bar-size";function Uu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pk(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var mk=typeof window<"u"?p.useLayoutEffect:p.useEffect,ag=new WeakMap;function gk(e,t){var r=pk(null,function(n){return e.forEach(function(o){return Uu(o,n)})});return mk(function(){var n=ag.get(r);if(n){var o=new Set(n),s=new Set(e),a=r.current;o.forEach(function(l){s.has(l)||Uu(l,null)}),s.forEach(function(l){o.has(l)||Uu(l,a)})}ag.set(r,e)},[e]),r}function vk(e){return e}function yk(e,t){t===void 0&&(t=vk);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var a=t(s,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(s),a=r}var c=function(){var f=a;a=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),r}}}};return o}function xk(e){e===void 0&&(e={});var t=yk(null);return t.options=Br({async:!0,ssr:!1},e),t}var H0=function(e){var t=e.sideCar,r=V0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Br({},r))};H0.isSideCarExport=!0;function wk(e,t){return e.useMedium(t),H0}var W0=xk(),Bu=function(){},Dc=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Bu,onWheelCapture:Bu,onTouchMoveCapture:Bu}),o=n[0],s=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,g=e.noRelative,b=e.noIsolation,w=e.inert,x=e.allowPinchZoom,y=e.as,m=y===void 0?"div":y,v=e.gapMode,_=V0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,R=gk([r,t]),k=Br(Br({},_),o);return p.createElement(p.Fragment,null,f&&p.createElement(S,{sideCar:W0,removeScrollBar:u,shards:d,noRelative:g,noIsolation:b,inert:w,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:v}),a?p.cloneElement(p.Children.only(l),Br(Br({},k),{ref:R})):p.createElement(m,Br({},k,{className:c,ref:R}),l))});Dc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dc.classNames={fullWidth:vl,zeroRight:gl};var bk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _k(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bk();return t&&e.setAttribute("nonce",t),e}function Sk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ck(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ek=function(){var e=0,t=null;return{add:function(r){e==0&&(t=_k())&&(Sk(t,r),Ck(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jk=function(){var e=Ek();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},q0=function(){var e=jk(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},kk={left:0,top:0,right:0,gap:0},Vu=function(e){return parseInt(e||"",10)||0},Nk=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Vu(r),Vu(n),Vu(o)]},Rk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kk;var t=Nk(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Pk=q0(),xs="data-scroll-locked",Tk=function(e,t,r,n){var o=e.left,s=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(fk,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(xs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gl,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vl,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(gl," .").concat(gl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vl," .").concat(vl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xs,`] {
    `).concat(hk,": ").concat(l,`px;
  }
`)},ig=function(){var e=parseInt(document.body.getAttribute(xs)||"0",10);return isFinite(e)?e:0},Ak=function(){p.useEffect(function(){return document.body.setAttribute(xs,(ig()+1).toString()),function(){var e=ig()-1;e<=0?document.body.removeAttribute(xs):document.body.setAttribute(xs,e.toString())}},[])},Ok=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;Ak();var s=p.useMemo(function(){return Rk(o)},[o]);return p.createElement(Pk,{styles:Tk(s,!t,o,r?"":"!important")})},sf=!1;if(typeof window<"u")try{var Ki=Object.defineProperty({},"passive",{get:function(){return sf=!0,!0}});window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{sf=!1}var Go=sf?{passive:!1}:!1,Dk=function(e){return e.tagName==="TEXTAREA"},G0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Dk(e)&&r[t]==="visible")},Ik=function(e){return G0(e,"overflowY")},Mk=function(e){return G0(e,"overflowX")},lg=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=K0(e,n);if(o){var s=Y0(e,n),a=s[1],l=s[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Lk=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$k=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},K0=function(e,t){return e==="v"?Ik(t):Mk(t)},Y0=function(e,t){return e==="v"?Lk(t):$k(t)},Fk=function(e,t){return e==="h"&&t==="rtl"?-1:1},zk=function(e,t,r,n,o){var s=Fk(e,window.getComputedStyle(t).direction),a=s*n,l=r.target,c=t.contains(l),u=!1,f=a>0,d=0,h=0;do{var g=Y0(e,l),b=g[0],w=g[1],x=g[2],y=w-x-s*b;(b||y)&&K0(e,l)&&(d+=y,h+=b),l=l.parentNode.host||l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(h)<1)&&(u=!0),u},Yi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cg=function(e){return[e.deltaX,e.deltaY]},ug=function(e){return e&&"current"in e?e.current:e},Uk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Vk=0,Ko=[];function Hk(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),o=p.useState(Vk++)[0],s=p.useState(q0)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=dk([e.lockRef.current],(e.shards||[]).map(ug),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!a.current.allowPinchZoom;var y=Yi(w),m=r.current,v="deltaX"in w?w.deltaX:m[0]-y[0],_="deltaY"in w?w.deltaY:m[1]-y[1],S,R=w.target,k=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in w&&k==="h"&&R.type==="range")return!1;var N=lg(k,R);if(!N)return!0;if(N?S=k:(S=k==="v"?"h":"v",N=lg(k,R)),!N)return!1;if(!n.current&&"changedTouches"in w&&(v||_)&&(n.current=S),!S)return!0;var L=n.current||S;return zk(L,x,w,L==="h"?v:_)},[]),c=p.useCallback(function(w){var x=w;if(!(!Ko.length||Ko[Ko.length-1]!==s)){var y="deltaY"in x?cg(x):Yi(x),m=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&Uk(S.delta,y)})[0];if(m&&m.should){x.cancelable&&x.preventDefault();return}if(!m){var v=(a.current.shards||[]).map(ug).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=v.length>0?l(x,v[0]):!a.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(w,x,y,m){var v={name:w,delta:x,target:y,should:m,shadowParent:Wk(y)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),f=p.useCallback(function(w){r.current=Yi(w),n.current=void 0},[]),d=p.useCallback(function(w){u(w.type,cg(w),w.target,l(w,e.lockRef.current))},[]),h=p.useCallback(function(w){u(w.type,Yi(w),w.target,l(w,e.lockRef.current))},[]);p.useEffect(function(){return Ko.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Go),document.addEventListener("touchmove",c,Go),document.addEventListener("touchstart",f,Go),function(){Ko=Ko.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,Go),document.removeEventListener("touchmove",c,Go),document.removeEventListener("touchstart",f,Go)}},[]);var g=e.removeScrollBar,b=e.inert;return p.createElement(p.Fragment,null,b?p.createElement(s,{styles:Bk(o)}):null,g?p.createElement(Ok,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Wk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qk=wk(W0,Hk);var Ic=p.forwardRef(function(e,t){return p.createElement(Dc,Br({},e,{ref:t,sideCar:qk}))});Ic.classNames=Dc.classNames;var Gk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yo=new WeakMap,Ji=new WeakMap,Qi={},Hu=0,J0=function(e){return e&&(e.host||J0(e.parentNode))},Kk=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=J0(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Yk=function(e,t,r,n){var o=Kk(t,Array.isArray(e)?e:[e]);Qi[r]||(Qi[r]=new WeakMap);var s=Qi[r],a=[],l=new Set,c=new Set(o),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};o.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var g=h.getAttribute(n),b=g!==null&&g!=="false",w=(Yo.get(h)||0)+1,x=(s.get(h)||0)+1;Yo.set(h,w),s.set(h,x),a.push(h),w===1&&b&&Ji.set(h,!0),x===1&&h.setAttribute(r,"true"),b||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(t),l.clear(),Hu++,function(){a.forEach(function(d){var h=Yo.get(d)-1,g=s.get(d)-1;Yo.set(d,h),s.set(d,g),h||(Ji.has(d)||d.removeAttribute(n),Ji.delete(d)),g||d.removeAttribute(r)}),Hu--,Hu||(Yo=new WeakMap,Yo=new WeakMap,Ji=new WeakMap,Qi={})}},Dh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Gk(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),Yk(n,o,r,"aria-hidden")):function(){return null}},Mc="Dialog",[Q0,qA]=Mo(Mc),[Jk,Ir]=Q0(Mc),X0=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,f]=Ya({prop:n,defaultProp:o??!1,onChange:s,caller:Mc});return i.jsx(Jk,{scope:t,triggerRef:l,contentRef:c,contentId:hn(),titleId:hn(),descriptionId:hn(),open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(d=>!d),[f]),modal:a,children:r})};X0.displayName=Mc;var Z0="DialogTrigger",Qk=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Ir(Z0,r),s=Be(t,o.triggerRef);return i.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Lh(o.open),...n,ref:s,onClick:me(e.onClick,o.onOpenToggle)})});Qk.displayName=Z0;var Ih="DialogPortal",[Xk,ex]=Q0(Ih,{forceMount:void 0}),tx=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,s=Ir(Ih,t);return i.jsx(Xk,{scope:t,forceMount:r,children:p.Children.map(n,a=>i.jsx(so,{present:r||s.open,children:i.jsx(Oc,{asChild:!0,container:o,children:a})}))})};tx.displayName=Ih;var Kl="DialogOverlay",rx=p.forwardRef((e,t)=>{const r=ex(Kl,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=Ir(Kl,e.__scopeDialog);return s.modal?i.jsx(so,{present:n||s.open,children:i.jsx(eN,{...o,ref:t})}):null});rx.displayName=Kl;var Zk=No("DialogOverlay.RemoveScroll"),eN=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Ir(Kl,r);return i.jsx(Ic,{as:Zk,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(Oe.div,{"data-state":Lh(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ro="DialogContent",nx=p.forwardRef((e,t)=>{const r=ex(Ro,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=Ir(Ro,e.__scopeDialog);return i.jsx(so,{present:n||s.open,children:s.modal?i.jsx(tN,{...o,ref:t}):i.jsx(rN,{...o,ref:t})})});nx.displayName=Ro;var tN=p.forwardRef((e,t)=>{const r=Ir(Ro,e.__scopeDialog),n=p.useRef(null),o=Be(t,r.contentRef,n);return p.useEffect(()=>{const s=n.current;if(s)return Dh(s)},[]),i.jsx(ox,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:me(e.onFocusOutside,s=>s.preventDefault())})}),rN=p.forwardRef((e,t)=>{const r=Ir(Ro,e.__scopeDialog),n=p.useRef(!1),o=p.useRef(!1);return i.jsx(ox,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),ox=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,...a}=e,l=Ir(Ro,r),c=p.useRef(null),u=Be(t,c);return Oh(),i.jsxs(i.Fragment,{children:[i.jsx(Ac,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:i.jsx(Tc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Lh(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(nN,{titleId:l.titleId}),i.jsx(sN,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Mh="DialogTitle",sx=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Ir(Mh,r);return i.jsx(Oe.h2,{id:o.titleId,...n,ref:t})});sx.displayName=Mh;var ax="DialogDescription",ix=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Ir(ax,r);return i.jsx(Oe.p,{id:o.descriptionId,...n,ref:t})});ix.displayName=ax;var lx="DialogClose",cx=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Ir(lx,r);return i.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>o.onOpenChange(!1))})});cx.displayName=lx;function Lh(e){return e?"open":"closed"}var ux="DialogTitleWarning",[GA,dx]=Aj(ux,{contentName:Ro,titleName:Mh,docsSlug:"dialog"}),nN=({titleId:e})=>{const t=dx(ux),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},oN="DialogDescriptionWarning",sN=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dx(oN).contentName}}.`;return p.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},aN=X0,iN=tx,fx=rx,hx=nx,px=sx,mx=ix,lN=cx;/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),dg=e=>{const t=uN(e);return t.charAt(0).toUpperCase()+t.slice(1)},gx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),dN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:s,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...fN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:gx("lucide",o),...!s&&!dN(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,f])=>p.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const r=p.forwardRef(({className:n,...o},s)=>p.createElement(hN,{ref:s,iconNode:t,className:gx(`lucide-${cN(dg(e))}`,`lucide-${e}`,n),...o}));return r.displayName=dg(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vx=Ee("bell",pN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],af=Ee("calendar",mN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$h=Ee("check",gN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yN=Ee("chevron-down",vN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wN=Ee("chevron-right",xN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lc=Ee("circle-alert",bN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yx=Ee("circle-check-big",_N);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Fh=Ee("circle-plus",SN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EN=Ee("circle",CN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Yl=Ee("clock",jN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],NN=Ee("dollar-sign",kN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xx=Ee("download",RN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],wx=Ee("ellipsis",PN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AN=Ee("eye-off",TN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DN=Ee("eye",ON);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MN=Ee("file-text",IN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],$N=Ee("gift",LN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zN=Ee("layout-dashboard",FN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bx=Ee("loader-circle",UN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fg=Ee("log-out",BN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zh=Ee("mail",VN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],WN=Ee("menu",HN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],hg=Ee("message-square",qN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],$c=Ee("pencil",GN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],YN=Ee("power",KN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],QN=Ee("refresh-cw",JN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],_x=Ee("rotate-cw",XN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],eR=Ee("server",ZN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rR=Ee("settings",tR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lf=Ee("shield",nR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],sR=Ee("signal",oR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],iR=Ee("toggle-left",aR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ui=Ee("trash-2",lR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wn=Ee("triangle-alert",cR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Uh=Ee("upload",uR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fc=Ee("user-check",dR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sx=Ee("user-cog",fR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pR=Ee("user-plus",hR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Bh=Ee("user-x",mR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cf=Ee("user",gR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qr=Ee("users",vR);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Us=Ee("x",yR);function Cx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Cx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ex(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Cx(e))&&(n&&(n+=" "),n+=t);return n}const Vh="-",xR=e=>{const t=bR(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(Vh);return l[0]===""&&l.length!==1&&l.shift(),jx(l,t)||wR(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},jx=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?jx(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(Vh);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},pg=/^\[(.+)\]$/,wR=e=>{if(pg.test(e)){const t=pg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},bR=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const o in r)uf(r[o],n,o,t);return n},uf=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:mg(t,o);s.classGroupId=r;return}if(typeof o=="function"){if(_R(o)){uf(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([s,a])=>{uf(a,mg(t,s),r,n)})})},mg=(e,t)=>{let r=e;return t.split(Vh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},_R=e=>e.isThemeGetter,SR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(s,a)=>{r.set(s,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return o(s,a),a},set(s,a){r.has(s)?r.set(s,a):o(s,a)}}},df="!",ff=":",CR=ff.length,ER=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const s=[];let a=0,l=0,c=0,u;for(let b=0;b<o.length;b++){let w=o[b];if(a===0&&l===0){if(w===ff){s.push(o.slice(c,b)),c=b+CR;continue}if(w==="/"){u=b;continue}}w==="["?a++:w==="]"?a--:w==="("?l++:w===")"&&l--}const f=s.length===0?o:o.substring(c),d=jR(f),h=d!==f,g=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:g}};if(t){const o=t+ff,s=n;n=a=>a.startsWith(o)?s(a.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const o=n;n=s=>r({className:s,parseClassName:o})}return n},jR=e=>e.endsWith(df)?e.substring(0,e.length-1):e.startsWith(df)?e.substring(1):e,kR=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const o=[];let s=[];return n.forEach(a=>{a[0]==="["||t[a]?(o.push(...s.sort(),a),s=[]):s.push(a)}),o.push(...s.sort()),o}},NR=e=>({cache:SR(e.cacheSize),parseClassName:ER(e),sortModifiers:kR(e),...xR(e)}),RR=/\s+/,PR=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:s}=t,a=[],l=e.trim().split(RR);let c="";for(let u=l.length-1;u>=0;u-=1){const f=l[u],{isExternal:d,modifiers:h,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:w}=r(f);if(d){c=f+(c.length>0?" "+c:c);continue}let x=!!w,y=n(x?b.substring(0,w):b);if(!y){if(!x){c=f+(c.length>0?" "+c:c);continue}if(y=n(b),!y){c=f+(c.length>0?" "+c:c);continue}x=!1}const m=s(h).join(":"),v=g?m+df:m,_=v+y;if(a.includes(_))continue;a.push(_);const S=o(y,x);for(let R=0;R<S.length;++R){const k=S[R];a.push(v+k)}c=f+(c.length>0?" "+c:c)}return c};function TR(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=kx(t))&&(n&&(n+=" "),n+=r);return n}const kx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=kx(e[n]))&&(r&&(r+=" "),r+=t);return r};function AR(e,...t){let r,n,o,s=a;function a(c){const u=t.reduce((f,d)=>d(f),e());return r=NR(u),n=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=PR(c,r);return o(c,f),f}return function(){return s(TR.apply(null,arguments))}}const dt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Nx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Rx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OR=/^\d+\/\d+$/,DR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$R=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=e=>OR.test(e),Pe=e=>!!e&&!Number.isNaN(Number(e)),Tn=e=>!!e&&Number.isInteger(Number(e)),Wu=e=>e.endsWith("%")&&Pe(e.slice(0,-1)),rn=e=>DR.test(e),FR=()=>!0,zR=e=>IR.test(e)&&!MR.test(e),Px=()=>!1,UR=e=>LR.test(e),BR=e=>$R.test(e),VR=e=>!ue(e)&&!de(e),HR=e=>Bs(e,Ox,Px),ue=e=>Nx.test(e),uo=e=>Bs(e,Dx,zR),qu=e=>Bs(e,YR,Pe),gg=e=>Bs(e,Tx,Px),WR=e=>Bs(e,Ax,BR),Xi=e=>Bs(e,Ix,UR),de=e=>Rx.test(e),ia=e=>Vs(e,Dx),qR=e=>Vs(e,JR),vg=e=>Vs(e,Tx),GR=e=>Vs(e,Ox),KR=e=>Vs(e,Ax),Zi=e=>Vs(e,Ix,!0),Bs=(e,t,r)=>{const n=Nx.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Vs=(e,t,r=!1)=>{const n=Rx.exec(e);return n?n[1]?t(n[1]):r:!1},Tx=e=>e==="position"||e==="percentage",Ax=e=>e==="image"||e==="url",Ox=e=>e==="length"||e==="size"||e==="bg-size",Dx=e=>e==="length",YR=e=>e==="number",JR=e=>e==="family-name",Ix=e=>e==="shadow",QR=()=>{const e=dt("color"),t=dt("font"),r=dt("text"),n=dt("font-weight"),o=dt("tracking"),s=dt("leading"),a=dt("breakpoint"),l=dt("container"),c=dt("spacing"),u=dt("radius"),f=dt("shadow"),d=dt("inset-shadow"),h=dt("text-shadow"),g=dt("drop-shadow"),b=dt("blur"),w=dt("perspective"),x=dt("aspect"),y=dt("ease"),m=dt("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[..._(),de,ue],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],N=()=>[de,ue,c],L=()=>[Jo,"full","auto",...N()],I=()=>[Tn,"none","subgrid",de,ue],J=()=>["auto",{span:["full",Tn,de,ue]},Tn,de,ue],H=()=>[Tn,"auto",de,ue],K=()=>["auto","min","max","fr",de,ue],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...N()],q=()=>[Jo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],E=()=>[e,de,ue],P=()=>[..._(),vg,gg,{position:[de,ue]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",GR,HR,{size:[de,ue]}],V=()=>[Wu,ia,uo],D=()=>["","none","full",u,de,ue],O=()=>["",Pe,ia,uo],C=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[Pe,Wu,vg,gg],Y=()=>["","none",b,de,ue],ce=()=>["none",Pe,de,ue],se=()=>["none",Pe,de,ue],he=()=>[Pe,de,ue],fe=()=>[Jo,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rn],breakpoint:[rn],color:[FR],container:[rn],"drop-shadow":[rn],ease:["in","out","in-out"],font:[VR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rn],shadow:[rn],spacing:["px",Pe],text:[rn],"text-shadow":[rn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jo,ue,de,x]}],container:["container"],columns:[{columns:[Pe,ue,de,l]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Tn,"auto",de,ue]}],basis:[{basis:[Jo,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,Jo,"auto","initial","none",ue]}],grow:[{grow:["",Pe,de,ue]}],shrink:[{shrink:["",Pe,de,ue]}],order:[{order:[Tn,"first","last","none",de,ue]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:J()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:J()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,ia,uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,de,qu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wu,ue]}],"font-family":[{font:[qR,ue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,de,ue]}],"line-clamp":[{"line-clamp":[Pe,"none",de,qu]}],leading:[{leading:[s,...N()]}],"list-image":[{"list-image":["none",de,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...C(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",de,uo]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[Pe,"auto",de,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Tn,de,ue],radial:["",de,ue],conic:[Tn,de,ue]},KR,WR]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...C(),"hidden","none"]}],"divide-style":[{divide:[...C(),"hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:[...C(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,de,ue]}],"outline-w":[{outline:["",Pe,ia,uo]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",f,Zi,Xi]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",d,Zi,Xi]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[Pe,uo]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,Zi,Xi]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[Pe,de,ue]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[de,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,ue]}],filter:[{filter:["","none",de,ue]}],blur:[{blur:Y()}],brightness:[{brightness:[Pe,de,ue]}],contrast:[{contrast:[Pe,de,ue]}],"drop-shadow":[{"drop-shadow":["","none",g,Zi,Xi]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",Pe,de,ue]}],"hue-rotate":[{"hue-rotate":[Pe,de,ue]}],invert:[{invert:["",Pe,de,ue]}],saturate:[{saturate:[Pe,de,ue]}],sepia:[{sepia:["",Pe,de,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",de,ue]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,de,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,de,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,de,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,de,ue]}],"backdrop-invert":[{"backdrop-invert":["",Pe,de,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,de,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,de,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,de,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",de,ue]}],ease:[{ease:["linear","initial",y,de,ue]}],delay:[{delay:[Pe,de,ue]}],animate:[{animate:["none",m,de,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,de,ue]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[de,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,ue]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[Pe,ia,uo,qu]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XR=AR(QR);function Me(...e){return XR(Ex(e))}const Mx=aN,ZR=iN,Lx=p.forwardRef(({className:e,...t},r)=>i.jsx(fx,{ref:r,className:Me("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Lx.displayName=fx.displayName;const Hh=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(ZR,{children:[i.jsx(Lx,{}),i.jsxs(hx,{ref:n,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(lN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Us,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hh.displayName=hx.displayName;const Wh=({className:e,...t})=>i.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wh.displayName="DialogHeader";const $x=({className:e,...t})=>i.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$x.displayName="DialogFooter";const qh=p.forwardRef(({className:e,...t},r)=>i.jsx(px,{ref:r,className:Me("text-lg font-semibold leading-none tracking-tight",e),...t}));qh.displayName=px.displayName;const Gh=p.forwardRef(({className:e,...t},r)=>i.jsx(mx,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));Gh.displayName=mx.displayName;const yg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xg=Ex,eP=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return xg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:s}=t,a=Object.keys(o).map(u=>{const f=r==null?void 0:r[u],d=s==null?void 0:s[u];if(f===null)return null;const h=yg(f)||yg(d);return o[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...g}=f;return Object.entries(g).every(b=>{let[w,x]=b;return Array.isArray(x)?x.includes({...s,...l}[w]):{...s,...l}[w]===x})?[...u,d,h]:u},[]);return xg(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},tP=eP("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),it=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},s)=>{const a=n?Fj:"button";return i.jsx(a,{className:Me(tP({variant:t,size:r,className:e})),ref:s,...o})});it.displayName="Button";const Vr=p.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Vr.displayName="Input";var rP="Label",Fx=p.forwardRef((e,t)=>i.jsx(Oe.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Fx.displayName=rP;var zx=Fx;const Xt=p.forwardRef(({className:e,...t},r)=>i.jsx(zx,{ref:r,className:Me("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));Xt.displayName=zx.displayName;function nP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const oP=e=>{switch(e){case"success":return iP;case"info":return cP;case"warning":return lP;case"error":return uP;default:return null}},sP=Array(12).fill(0),aP=({visible:e,className:t})=>Q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Q.createElement("div",{className:"sonner-spinner"},sP.map((r,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),iP=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lP=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cP=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uP=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dP=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fP=()=>{const[e,t]=Q.useState(document.hidden);return Q.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let hf=1;class hP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:hf++,a=this.toasts.find(c=>c.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:n}),{...c,...t,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...o,dismissible:l,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,a;const l=o.then(async u=>{if(a=["resolve",u],Q.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(mP(u)&&!u.ok){s=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,b=typeof d=="object"&&!Q.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:h,...b})}else if(u instanceof Error){s=!1;const d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,b=typeof d=="object"&&!Q.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:h,...b})}else if(r.success!==void 0){s=!1;const d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,b=typeof d=="object"&&!Q.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:h,...b})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){s=!1;const f=typeof r.error=="function"?await r.error(u):r.error,d=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!Q.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:d,...g})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,f)=>l.then(()=>a[0]==="reject"?f(a[1]):u(a[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||hf++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Bt=new hP,pP=(e,t)=>{const r=(t==null?void 0:t.id)||hf++;return Bt.addToast({title:e,...t,id:r}),r},mP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",gP=pP,vP=()=>Bt.toasts,yP=()=>Bt.getActiveToasts(),te=Object.assign(gP,{success:Bt.success,info:Bt.info,warning:Bt.warning,error:Bt.error,custom:Bt.custom,message:Bt.message,promise:Bt.promise,dismiss:Bt.dismiss,loading:Bt.loading},{getHistory:vP,getToasts:yP});nP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function el(e){return e.label!==void 0}const xP=3,wP="24px",bP="16px",wg=4e3,_P=356,SP=14,CP=45,EP=200;function $r(...e){return e.filter(Boolean).join(" ")}function jP(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const kP=e=>{var t,r,n,o,s,a,l,c,u;const{invert:f,toast:d,unstyled:h,interacting:g,setHeights:b,visibleToasts:w,heights:x,index:y,toasts:m,expanded:v,removeToast:_,defaultRichColors:S,closeButton:R,style:k,cancelButtonStyle:N,actionButtonStyle:L,className:I="",descriptionClassName:J="",duration:H,position:K,gap:z,expandByDefault:U,classNames:M,icons:q,closeButtonAriaLabel:E="Close toast"}=e,[P,T]=Q.useState(null),[A,V]=Q.useState(null),[D,O]=Q.useState(!1),[C,Z]=Q.useState(!1),[B,Y]=Q.useState(!1),[ce,se]=Q.useState(!1),[he,fe]=Q.useState(!1),[Ne,Re]=Q.useState(0),[F,W]=Q.useState(0),ne=Q.useRef(d.duration||H||wg),xe=Q.useRef(null),le=Q.useRef(null),we=y===0,Se=y+1<=w,_e=d.type,oe=d.dismissible!==!1,ge=d.className||"",ke=d.descriptionClassName||"",ae=Q.useMemo(()=>x.findIndex(be=>be.toastId===d.id)||0,[x,d.id]),pe=Q.useMemo(()=>{var be;return(be=d.closeButton)!=null?be:R},[d.closeButton,R]),Fe=Q.useMemo(()=>d.duration||H||wg,[d.duration,H]),yt=Q.useRef(0),Qe=Q.useRef(0),Ot=Q.useRef(0),xt=Q.useRef(null),[Qr,nt]=K.split("-"),Xr=Q.useMemo(()=>x.reduce((be,We,qe)=>qe>=ae?be:be+We.height,0),[x,ae]),En=fP(),Gs=d.invert||f,Zr=_e==="loading";Qe.current=Q.useMemo(()=>ae*z+Xr,[ae,Xr]),Q.useEffect(()=>{ne.current=Fe},[Fe]),Q.useEffect(()=>{O(!0)},[]),Q.useEffect(()=>{const be=le.current;if(be){const We=be.getBoundingClientRect().height;return W(We),b(qe=>[{toastId:d.id,height:We,position:d.position},...qe]),()=>b(qe=>qe.filter(jt=>jt.toastId!==d.id))}},[b,d.id]),Q.useLayoutEffect(()=>{if(!D)return;const be=le.current,We=be.style.height;be.style.height="auto";const qe=be.getBoundingClientRect().height;be.style.height=We,W(qe),b(jt=>jt.find(at=>at.toastId===d.id)?jt.map(at=>at.toastId===d.id?{...at,height:qe}:at):[{toastId:d.id,height:qe,position:d.position},...jt])},[D,d.title,d.description,b,d.id]);const zt=Q.useCallback(()=>{Z(!0),Re(Qe.current),b(be=>be.filter(We=>We.toastId!==d.id)),setTimeout(()=>{_(d)},EP)},[d,_,b,Qe]);Q.useEffect(()=>{if(d.promise&&_e==="loading"||d.duration===1/0||d.type==="loading")return;let be;return v||g||En?(()=>{if(Ot.current<yt.current){const jt=new Date().getTime()-yt.current;ne.current=ne.current-jt}Ot.current=new Date().getTime()})():(()=>{ne.current!==1/0&&(yt.current=new Date().getTime(),be=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),zt()},ne.current))})(),()=>clearTimeout(be)},[v,g,d,_e,En,zt]),Q.useEffect(()=>{d.delete&&zt()},[zt,d.delete]);function Jc(){var be;if(q!=null&&q.loading){var We;return Q.createElement("div",{className:$r(M==null?void 0:M.loader,d==null||(We=d.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":_e==="loading"},q.loading)}return Q.createElement(aP,{className:$r(M==null?void 0:M.loader,d==null||(be=d.classNames)==null?void 0:be.loader),visible:_e==="loading"})}const Qc=d.icon||(q==null?void 0:q[_e])||oP(_e);var Ks,Ys;return Q.createElement("li",{tabIndex:0,ref:le,className:$r(I,ge,M==null?void 0:M.toast,d==null||(t=d.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[_e],d==null||(r=d.classNames)==null?void 0:r[_e]),"data-sonner-toast":"","data-rich-colors":(Ks=d.richColors)!=null?Ks:S,"data-styled":!(d.jsx||d.unstyled||h),"data-mounted":D,"data-promise":!!d.promise,"data-swiped":he,"data-removed":C,"data-visible":Se,"data-y-position":Qr,"data-x-position":nt,"data-index":y,"data-front":we,"data-swiping":B,"data-dismissible":oe,"data-type":_e,"data-invert":Gs,"data-swipe-out":ce,"data-swipe-direction":A,"data-expanded":!!(v||U&&D),style:{"--index":y,"--toasts-before":y,"--z-index":m.length-y,"--offset":`${C?Ne:Qe.current}px`,"--initial-height":U?"auto":`${F}px`,...k,...d.style},onDragEnd:()=>{Y(!1),T(null),xt.current=null},onPointerDown:be=>{Zr||!oe||(xe.current=new Date,Re(Qe.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(Y(!0),xt.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,We,qe;if(ce||!oe)return;xt.current=null;const jt=Number(((be=le.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),en=Number(((We=le.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),at=new Date().getTime()-((qe=xe.current)==null?void 0:qe.getTime()),Dt=P==="x"?jt:en,Fo=Math.abs(Dt)/at;if(Math.abs(Dt)>=CP||Fo>.11){Re(Qe.current),d.onDismiss==null||d.onDismiss.call(d,d),V(P==="x"?jt>0?"right":"left":en>0?"down":"up"),zt(),se(!0);return}else{var kt,ct;(kt=le.current)==null||kt.style.setProperty("--swipe-amount-x","0px"),(ct=le.current)==null||ct.style.setProperty("--swipe-amount-y","0px")}fe(!1),Y(!1),T(null)},onPointerMove:be=>{var We,qe,jt;if(!xt.current||!oe||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;const at=be.clientY-xt.current.y,Dt=be.clientX-xt.current.x;var Fo;const kt=(Fo=e.swipeDirections)!=null?Fo:jP(K);!P&&(Math.abs(Dt)>1||Math.abs(at)>1)&&T(Math.abs(Dt)>Math.abs(at)?"x":"y");let ct={x:0,y:0};const zo=Mr=>1/(1.5+Math.abs(Mr)/20);if(P==="y"){if(kt.includes("top")||kt.includes("bottom"))if(kt.includes("top")&&at<0||kt.includes("bottom")&&at>0)ct.y=at;else{const Mr=at*zo(at);ct.y=Math.abs(Mr)<Math.abs(at)?Mr:at}}else if(P==="x"&&(kt.includes("left")||kt.includes("right")))if(kt.includes("left")&&Dt<0||kt.includes("right")&&Dt>0)ct.x=Dt;else{const Mr=Dt*zo(Dt);ct.x=Math.abs(Mr)<Math.abs(Dt)?Mr:Dt}(Math.abs(ct.x)>0||Math.abs(ct.y)>0)&&fe(!0),(qe=le.current)==null||qe.style.setProperty("--swipe-amount-x",`${ct.x}px`),(jt=le.current)==null||jt.style.setProperty("--swipe-amount-y",`${ct.y}px`)}},pe&&!d.jsx&&_e!=="loading"?Q.createElement("button",{"aria-label":E,"data-disabled":Zr,"data-close-button":!0,onClick:Zr||!oe?()=>{}:()=>{zt(),d.onDismiss==null||d.onDismiss.call(d,d)},className:$r(M==null?void 0:M.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(Ys=q==null?void 0:q.close)!=null?Ys:dP):null,(_e||d.icon||d.promise)&&d.icon!==null&&((q==null?void 0:q[_e])!==null||d.icon)?Q.createElement("div",{"data-icon":"",className:$r(M==null?void 0:M.icon,d==null||(o=d.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Jc():null,d.type!=="loading"?Qc:null):null,Q.createElement("div",{"data-content":"",className:$r(M==null?void 0:M.content,d==null||(s=d.classNames)==null?void 0:s.content)},Q.createElement("div",{"data-title":"",className:$r(M==null?void 0:M.title,d==null||(a=d.classNames)==null?void 0:a.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?Q.createElement("div",{"data-description":"",className:$r(J,ke,M==null?void 0:M.description,d==null||(l=d.classNames)==null?void 0:l.description)},typeof d.description=="function"?d.description():d.description):null),Q.isValidElement(d.cancel)?d.cancel:d.cancel&&el(d.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||N,onClick:be=>{el(d.cancel)&&oe&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,be),zt())},className:$r(M==null?void 0:M.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,Q.isValidElement(d.action)?d.action:d.action&&el(d.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||L,onClick:be=>{el(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,be),!be.defaultPrevented&&zt())},className:$r(M==null?void 0:M.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function bg(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function NP(e,t){const r={};return[e,t].forEach((n,o)=>{const s=o===1,a=s?"--mobile-offset":"--offset",l=s?bP:wP;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const RP=Q.forwardRef(function(t,r){const{invert:n,position:o="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:l,className:c,offset:u,mobileOffset:f,theme:d="light",richColors:h,duration:g,style:b,visibleToasts:w=xP,toastOptions:x,dir:y=bg(),gap:m=SP,icons:v,containerAriaLabel:_="Notifications"}=t,[S,R]=Q.useState([]),k=Q.useMemo(()=>Array.from(new Set([o].concat(S.filter(A=>A.position).map(A=>A.position)))),[S,o]),[N,L]=Q.useState([]),[I,J]=Q.useState(!1),[H,K]=Q.useState(!1),[z,U]=Q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=Q.useRef(null),q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=Q.useRef(null),P=Q.useRef(!1),T=Q.useCallback(A=>{R(V=>{var D;return(D=V.find(O=>O.id===A.id))!=null&&D.delete||Bt.dismiss(A.id),V.filter(({id:O})=>O!==A.id)})},[]);return Q.useEffect(()=>Bt.subscribe(A=>{if(A.dismiss){requestAnimationFrame(()=>{R(V=>V.map(D=>D.id===A.id?{...D,delete:!0}:D))});return}setTimeout(()=>{Qy.flushSync(()=>{R(V=>{const D=V.findIndex(O=>O.id===A.id);return D!==-1?[...V.slice(0,D),{...V[D],...A},...V.slice(D+1)]:[A,...V]})})})}),[S]),Q.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;const A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:V})=>{U(V?"dark":"light")})}catch{A.addListener(({matches:D})=>{try{U(D?"dark":"light")}catch(O){console.error(O)}})}},[d]),Q.useEffect(()=>{S.length<=1&&J(!1)},[S]),Q.useEffect(()=>{const A=V=>{var D;if(s.every(Z=>V[Z]||V.code===Z)){var C;J(!0),(C=M.current)==null||C.focus()}V.code==="Escape"&&(document.activeElement===M.current||(D=M.current)!=null&&D.contains(document.activeElement))&&J(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[s]),Q.useEffect(()=>{if(M.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,P.current=!1)}},[M.current]),Q.createElement("section",{ref:r,"aria-label":`${_} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((A,V)=>{var D;const[O,C]=A.split("-");return S.length?Q.createElement("ol",{key:A,dir:y==="auto"?bg():y,tabIndex:-1,ref:M,className:c,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":O,"data-lifted":I&&S.length>1&&!a,"data-x-position":C,style:{"--front-toast-height":`${((D=N[0])==null?void 0:D.height)||0}px`,"--width":`${_P}px`,"--gap":`${m}px`,...b,...NP(u,f)},onBlur:Z=>{P.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(P.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||P.current||(P.current=!0,E.current=Z.relatedTarget)},onMouseEnter:()=>J(!0),onMouseMove:()=>J(!0),onMouseLeave:()=>{H||J(!1)},onDragEnd:()=>J(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},S.filter(Z=>!Z.position&&V===0||Z.position===A).map((Z,B)=>{var Y,ce;return Q.createElement(kP,{key:Z.id,icons:v,index:B,toast:Z,defaultRichColors:h,duration:(Y=x==null?void 0:x.duration)!=null?Y:g,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:w,closeButton:(ce=x==null?void 0:x.closeButton)!=null?ce:l,interacting:H,position:A,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:T,toasts:S.filter(se=>se.position==Z.position),heights:N.filter(se=>se.position==Z.position),setHeights:L,expandByDefault:a,gap:m,expanded:I,swipeDirections:t.swipeDirections})})):null}))});function PP({isOpen:e,onClose:t}){const[r,n]=p.useState(""),[o,s]=p.useState(""),[a,l]=p.useState(""),[c,u]=p.useState(""),[f,d]=p.useState(!1),[h,g]=p.useState(!1),b=S=>S.length<6?"La contrasea debe tener al menos 6 caracteres":null,[w,x]=p.useState(!1),[y,m]=p.useState(null),v=()=>{x(!1),t(),n(""),u(""),s(""),l(""),m(null)},_=async S=>{S.preventDefault(),m(null);const R=b(c);if(R){m(R);return}if(!r.includes("@")||!r.includes(".")){m("Por favor ingresa un correo electrnico vlido");return}if(a&&!/^[0-9+\s()-]{7,15}$/.test(a)){m("Por favor ingresa un nmero de telfono vlido");return}g(!0);try{await ds.register(r,c,o,a),n(""),u(""),s(""),l(""),x(!0),te.success("Cuenta creada exitosamente. A la espera de activacin por el administrador.")}catch(k){const N=k.message||"Error al crear la cuenta";N.includes("ya est registrado")?(m("El correo electrnico ya est registrado"),te.error("El correo electrnico ya est registrado")):N.includes("permission denied")?(n(""),u(""),x(!0),te.success("Cuenta creada exitosamente. A la espera de activacin por el administrador.")):N.includes("Invalid email")?(m("El correo electrnico no es vlido"),te.error("El correo electrnico no es vlido")):(m("Error al crear la cuenta. Intntalo de nuevo."),te.error("Error al crear la cuenta. Intntalo de nuevo."))}finally{g(!1)}};return i.jsx(Mx,{open:e,onOpenChange:w?()=>{}:t,children:i.jsxs(Hh,{className:"sm:max-w-[425px] bg-card border-border",children:[i.jsxs(Wh,{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("img",{src:"/xstream_logo.png",alt:"XtreamSales Logo",className:"h-12 w-auto"})}),i.jsx(qh,{className:"text-2xl font-bold",children:"Registrarse"}),i.jsx(Gh,{className:"text-muted-foreground",children:"Crea una cuenta para acceder al sistema. Los revendedores necesitarn aprobacin del administrador."})]}),w?i.jsxs("div",{className:"py-8 flex flex-col items-center justify-center space-y-4 text-center",children:[i.jsx(yx,{className:"h-16 w-16 text-green-500"}),i.jsx("h3",{className:"text-xl font-semibold",children:"Cuenta creada exitosamente!"}),i.jsx("p",{className:"text-muted-foreground",children:"Tu cuenta est pendiente de aprobacin por el administrador."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Debers esperar a que un administrador active tu cuenta."}),i.jsx(it,{onClick:v,className:"mt-2 bg-green-600 hover:bg-green-700",children:"Aceptar"})]}):i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Xt,{htmlFor:"fullName",className:"text-right font-medium",children:"Nombre de Usuario"}),i.jsx(Vr,{id:"fullName",type:"text",value:o,onChange:S=>s(S.target.value),placeholder:"Tu nombre de usuario",required:!0,className:"col-span-3"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Xt,{htmlFor:"email",className:"text-right font-medium",children:"Correo Electrnico"}),i.jsx(Vr,{id:"email",type:"email",value:r,onChange:S=>n(S.target.value),placeholder:"correo@ejemplo.com",required:!0,className:"col-span-3"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Xt,{htmlFor:"phone",className:"text-right font-medium",children:"Telfono WhatsApp"}),i.jsx("div",{className:"col-span-3 relative",children:i.jsxs("div",{className:"flex",children:[i.jsxs("select",{className:"flex h-10 w-20 rounded-l-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 border-r-0",defaultValue:"+57",children:[i.jsx("option",{value:"+1",children:" +1"}),i.jsx("option",{value:"+52",children:" +52"}),i.jsx("option",{value:"+57",children:" +57"}),i.jsx("option",{value:"+54",children:" +54"}),i.jsx("option",{value:"+56",children:" +56"}),i.jsx("option",{value:"+51",children:" +51"}),i.jsx("option",{value:"+58",children:" +58"}),i.jsx("option",{value:"+55",children:" +55"}),i.jsx("option",{value:"+593",children:" +593"}),i.jsx("option",{value:"+507",children:" +507"}),i.jsx("option",{value:"+506",children:" +506"}),i.jsx("option",{value:"+503",children:" +503"}),i.jsx("option",{value:"+502",children:" +502"}),i.jsx("option",{value:"+504",children:" +504"}),i.jsx("option",{value:"+505",children:" +505"}),i.jsx("option",{value:"+34",children:" +34"})]}),i.jsx(Vr,{id:"phone",type:"tel",value:a,onChange:S=>{const R=S.target.value.replace(/\D/g,"");l(R)},placeholder:"300 123 4567",className:"rounded-l-none border-l-0 flex-1",maxLength:10})]})})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Xt,{htmlFor:"password",className:"text-right font-medium",children:"Contrasea"}),i.jsxs("div",{className:"col-span-3 relative",children:[i.jsx(Vr,{id:"password",type:f?"text":"password",value:c,onChange:S=>u(S.target.value),placeholder:"********",required:!0,className:"pr-10"}),i.jsx("button",{type:"button",onClick:()=>d(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",children:f?i.jsx(AN,{className:"h-4 w-4"}):i.jsx(DN,{className:"h-4 w-4"})})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(it,{variant:"outline",type:"button",onClick:t,disabled:h,children:"Cancelar"}),i.jsx(it,{type:"submit",disabled:h,children:h?"Registrando...":"Registrarse"})]}),y&&i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 flex items-start space-x-2",children:[i.jsx(Lc,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-500",children:y})]})]})]})})}function TP(){const e=wc(),{user:t,login:r}=Dr(),[n,o]=p.useState(!1),[s,a]=p.useState(null),[l,c]=p.useState(!1),[u,f]=p.useState(""),[d,h]=p.useState(""),[g,b]=p.useState(!1),w=async x=>{x.preventDefault(),a(null),o(!0);try{(await r(u,d)).user.role==="admin"?e("/dashboard"):e("/resellers")}catch(y){y.message.includes("pendiente de aprobacin")?a("Tu cuenta est pendiente de aprobacin por el administrador. Por favor, espera a que tu cuenta sea activada o contacta al administrador."):y.message.includes("desactivada")?a("Tu cuenta ha sido desactivada. Por favor, contacta al administrador para ms informacin."):y.message.includes("Credenciales incorrectas")?a("El correo electrnico o la contrasea son incorrectos. Por favor, verifica tus datos."):a(y.message)}finally{o(!1)}};return p.useEffect(()=>{(t==null?void 0:t.role)==="admin"?e("/dashboard"):(t==null?void 0:t.role)==="reseller"&&e("/resellers")},[t,e]),i.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[i.jsx("div",{className:"hidden md:flex md:w-1/2 bg-gradient-to-br from-cyan-500 to-blue-600 p-12 items-center justify-center",children:i.jsxs("div",{className:"max-w-xl text-white",children:[i.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Bienvenido a XtreamSales"}),i.jsx("p",{className:"text-lg opacity-90 mb-8",children:"Gestiona tus clientes y comunicaciones de manera profesional con nuestra plataforma integral."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsx("span",{children:"Gestin de Clientes"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),i.jsx("span",{children:"Mensajes por WhatsApp"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})})}),i.jsx("span",{children:"Dashboard con funcionalidades"})]})]})]})}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:i.jsxs("div",{className:"w-full max-w-md space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("img",{src:"/xstream_logo.png",alt:"XStream",className:"h-12 mx-auto mb-6"}),i.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Accede a tu cuenta"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Ingresa tus credenciales para continuar"})]}),s&&i.jsx("div",{className:"p-4 mb-6 rounded-lg bg-red-500/10 border border-red-500/20 text-red-500 text-sm",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i.jsx("span",{children:s})]})}),i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Correo electrnico"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"email",name:"email",type:"email",value:u,onChange:x=>f(x.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"nombre@ejemplo.com"}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-muted-foreground",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"Contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",name:"password",type:g?"text":"password",value:d,onChange:x=>h(x.target.value),required:!0,className:"w-full pl-10 pr-12 py-2 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:""}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-muted-foreground",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsx("button",{type:"button",onClick:()=>b(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-muted-foreground hover:text-foreground transition-colors",children:g?i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),s&&i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 flex items-start space-x-2 mt-3 mb-4",children:[i.jsx(Lc,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-500",children:s})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-lg hover:from-cyan-600 hover:to-blue-700 transition-all disabled:opacity-50 font-medium shadow-lg shadow-blue-500/25",children:n?i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{children:"Iniciando sesin..."})]}):"Iniciar Sesin"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-border/10"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"O"})})]}),i.jsx("button",{type:"button",onClick:()=>c(!0),className:"w-full bg-card text-card-foreground py-3 rounded-lg border border-border hover:bg-accent hover:text-accent-foreground transition-colors font-medium",children:"Crear cuenta nueva"})]})]}),i.jsx(PP,{isOpen:l,onClose:()=>c(!1)})]})]})})]})}var AP=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(n,o,s){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var a in n)r.d(s,a,(function(l){return n[l]}).bind(null,a));return s},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=9)}([function(e,t){e.exports=p},function(e,t,r){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var o={}.hasOwnProperty;function s(){for(var a=[],l=0;l<arguments.length;l++){var c=arguments[l];if(c){var u=typeof c;if(u==="string"||u==="number")a.push(c);else if(Array.isArray(c)&&c.length){var f=s.apply(null,c);f&&a.push(f)}else if(u==="object")for(var d in c)o.call(c,d)&&c[d]&&a.push(d)}}return a.join(" ")}e.exports?(s.default=s,e.exports=s):(n=(function(){return s}).apply(t,[]))===void 0||(e.exports=n)})()},function(e,t,r){(function(n){var o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u=typeof n=="object"&&n&&n.Object===Object&&n,f=typeof self=="object"&&self&&self.Object===Object&&self,d=u||f||Function("return this")(),h=Object.prototype.toString,g=d.Symbol,b=g?g.prototype:void 0,w=b?b.toString:void 0;function x(_){if(typeof _=="string")return _;if(m(_))return w?w.call(_):"";var S=_+"";return S=="0"&&1/_==-1/0?"-0":S}function y(_){var S=typeof _;return!!_&&(S=="object"||S=="function")}function m(_){return typeof _=="symbol"||function(S){return!!S&&typeof S=="object"}(_)&&h.call(_)=="[object Symbol]"}function v(_){return _?(_=function(S){if(typeof S=="number")return S;if(m(S))return NaN;if(y(S)){var R=typeof S.valueOf=="function"?S.valueOf():S;S=y(R)?R+"":R}if(typeof S!="string")return S===0?S:+S;S=S.replace(o,"");var k=a.test(S);return k||l.test(S)?c(S.slice(2),k?2:8):s.test(S)?NaN:+S}(_))===1/0||_===-1/0?17976931348623157e292*(_<0?-1:1):_==_?_:0:_===0?_:0}e.exports=function(_,S,R){var k,N,L,I;return _=(k=_)==null?"":x(k),N=function(J){var H=v(J),K=H%1;return H==H?K?H-K:H:0}(R),L=0,I=_.length,N==N&&(I!==void 0&&(N=N<=I?N:I),L!==void 0&&(N=N>=L?N:L)),R=N,S=x(S),_.slice(R,R+S.length)==S}}).call(this,r(3))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}e.exports=r},function(e,t,r){(function(n){var o=/^\[object .+?Constructor\]$/,s=typeof n=="object"&&n&&n.Object===Object&&n,a=typeof self=="object"&&self&&self.Object===Object&&self,l=s||a||Function("return this")(),c,u=Array.prototype,f=Function.prototype,d=Object.prototype,h=l["__core-js_shared__"],g=(c=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",b=f.toString,w=d.hasOwnProperty,x=d.toString,y=RegExp("^"+b.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=u.splice,v=J(l,"Map"),_=J(Object,"create");function S(z){var U=-1,M=z?z.length:0;for(this.clear();++U<M;){var q=z[U];this.set(q[0],q[1])}}function R(z){var U=-1,M=z?z.length:0;for(this.clear();++U<M;){var q=z[U];this.set(q[0],q[1])}}function k(z){var U=-1,M=z?z.length:0;for(this.clear();++U<M;){var q=z[U];this.set(q[0],q[1])}}function N(z,U){for(var M,q,E=z.length;E--;)if((M=z[E][0])===(q=U)||M!=M&&q!=q)return E;return-1}function L(z){return!(!K(z)||(U=z,g&&g in U))&&(function(M){var q=K(M)?x.call(M):"";return q=="[object Function]"||q=="[object GeneratorFunction]"}(z)||function(M){var q=!1;if(M!=null&&typeof M.toString!="function")try{q=!!(M+"")}catch{}return q}(z)?y:o).test(function(M){if(M!=null){try{return b.call(M)}catch{}try{return M+""}catch{}}return""}(z));var U}function I(z,U){var M,q,E=z.__data__;return((q=typeof(M=U))=="string"||q=="number"||q=="symbol"||q=="boolean"?M!=="__proto__":M===null)?E[typeof U=="string"?"string":"hash"]:E.map}function J(z,U){var M=function(q,E){return q==null?void 0:q[E]}(z,U);return L(M)?M:void 0}function H(z,U){if(typeof z!="function"||U&&typeof U!="function")throw new TypeError("Expected a function");var M=function(){var q=arguments,E=U?U.apply(this,q):q[0],P=M.cache;if(P.has(E))return P.get(E);var T=z.apply(this,q);return M.cache=P.set(E,T),T};return M.cache=new(H.Cache||k),M}function K(z){var U=typeof z;return!!z&&(U=="object"||U=="function")}S.prototype.clear=function(){this.__data__=_?_(null):{}},S.prototype.delete=function(z){return this.has(z)&&delete this.__data__[z]},S.prototype.get=function(z){var U=this.__data__;if(_){var M=U[z];return M==="__lodash_hash_undefined__"?void 0:M}return w.call(U,z)?U[z]:void 0},S.prototype.has=function(z){var U=this.__data__;return _?U[z]!==void 0:w.call(U,z)},S.prototype.set=function(z,U){return this.__data__[z]=_&&U===void 0?"__lodash_hash_undefined__":U,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(z){var U=this.__data__,M=N(U,z);return!(M<0)&&(M==U.length-1?U.pop():m.call(U,M,1),!0)},R.prototype.get=function(z){var U=this.__data__,M=N(U,z);return M<0?void 0:U[M][1]},R.prototype.has=function(z){return N(this.__data__,z)>-1},R.prototype.set=function(z,U){var M=this.__data__,q=N(M,z);return q<0?M.push([z,U]):M[q][1]=U,this},k.prototype.clear=function(){this.__data__={hash:new S,map:new(v||R),string:new S}},k.prototype.delete=function(z){return I(this,z).delete(z)},k.prototype.get=function(z){return I(this,z).get(z)},k.prototype.has=function(z){return I(this,z).has(z)},k.prototype.set=function(z,U){return I(this,z).set(z,U),this},H.Cache=k,e.exports=H}).call(this,r(3))},function(e,t,r){(function(n){var o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u=typeof n=="object"&&n&&n.Object===Object&&n,f=typeof self=="object"&&self&&self.Object===Object&&self,d=u||f||Function("return this")(),h=Object.prototype.toString,g=Math.max,b=Math.min,w=function(){return d.Date.now()};function x(m){var v=typeof m;return!!m&&(v=="object"||v=="function")}function y(m){if(typeof m=="number")return m;if(function(S){return typeof S=="symbol"||function(R){return!!R&&typeof R=="object"}(S)&&h.call(S)=="[object Symbol]"}(m))return NaN;if(x(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=x(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=m.replace(o,"");var _=a.test(m);return _||l.test(m)?c(m.slice(2),_?2:8):s.test(m)?NaN:+m}e.exports=function(m,v,_){var S,R,k,N,L,I,J=0,H=!1,K=!1,z=!0;if(typeof m!="function")throw new TypeError("Expected a function");function U(A){var V=S,D=R;return S=R=void 0,J=A,N=m.apply(D,V)}function M(A){return J=A,L=setTimeout(E,v),H?U(A):N}function q(A){var V=A-I;return I===void 0||V>=v||V<0||K&&A-J>=k}function E(){var A=w();if(q(A))return P(A);L=setTimeout(E,function(V){var D=v-(V-I);return K?b(D,k-(V-J)):D}(A))}function P(A){return L=void 0,z&&S?U(A):(S=R=void 0,N)}function T(){var A=w(),V=q(A);if(S=arguments,R=this,I=A,V){if(L===void 0)return M(I);if(K)return L=setTimeout(E,v),U(I)}return L===void 0&&(L=setTimeout(E,v)),N}return v=y(v)||0,x(_)&&(H=!!_.leading,k=(K="maxWait"in _)?g(y(_.maxWait)||0,v):k,z="trailing"in _?!!_.trailing:z),T.cancel=function(){L!==void 0&&clearTimeout(L),J=0,S=I=R=L=void 0},T.flush=function(){return L===void 0?N:P(w())},T}}).call(this,r(3))},function(e,t,r){(function(n,o){var s="[object Arguments]",a="[object Map]",l="[object Object]",c="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,b=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[s]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object Boolean]"]=x["[object DataView]"]=x["[object Date]"]=x["[object Error]"]=x["[object Function]"]=x[a]=x["[object Number]"]=x[l]=x["[object RegExp]"]=x[c]=x["[object String]"]=x["[object WeakMap]"]=!1;var y=typeof n=="object"&&n&&n.Object===Object&&n,m=typeof self=="object"&&self&&self.Object===Object&&self,v=y||m||Function("return this")(),_=t&&!t.nodeType&&t,S=_&&typeof o=="object"&&o&&!o.nodeType&&o,R=S&&S.exports===_&&y.process,k=function(){try{return R&&R.binding("util")}catch{}}(),N=k&&k.isTypedArray;function L(j,$,G,ee){var ve=-1,ye=j?j.length:0;for(ee&&ye&&(G=j[++ve]);++ve<ye;)G=$(G,j[ve],ve,j);return G}function I(j,$){for(var G=-1,ee=j?j.length:0;++G<ee;)if($(j[G],G,j))return!0;return!1}function J(j,$,G,ee,ve){return ve(j,function(ye,Ce,Ge){G=ee?(ee=!1,ye):$(G,ye,Ce,Ge)}),G}function H(j){var $=!1;if(j!=null&&typeof j.toString!="function")try{$=!!(j+"")}catch{}return $}function K(j){var $=-1,G=Array(j.size);return j.forEach(function(ee,ve){G[++$]=[ve,ee]}),G}function z(j){var $=-1,G=Array(j.size);return j.forEach(function(ee){G[++$]=ee}),G}var U,M,q,E=Array.prototype,P=Function.prototype,T=Object.prototype,A=v["__core-js_shared__"],V=(U=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",D=P.toString,O=T.hasOwnProperty,C=T.toString,Z=RegExp("^"+D.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=v.Symbol,Y=v.Uint8Array,ce=T.propertyIsEnumerable,se=E.splice,he=(M=Object.keys,q=Object,function(j){return M(q(j))}),fe=We(v,"DataView"),Ne=We(v,"Map"),Re=We(v,"Promise"),F=We(v,"Set"),W=We(v,"WeakMap"),ne=We(Object,"create"),xe=ct(fe),le=ct(Ne),we=ct(Re),Se=ct(F),_e=ct(W),oe=B?B.prototype:void 0,ge=oe?oe.valueOf:void 0,ke=oe?oe.toString:void 0;function ae(j){var $=-1,G=j?j.length:0;for(this.clear();++$<G;){var ee=j[$];this.set(ee[0],ee[1])}}function pe(j){var $=-1,G=j?j.length:0;for(this.clear();++$<G;){var ee=j[$];this.set(ee[0],ee[1])}}function Fe(j){var $=-1,G=j?j.length:0;for(this.clear();++$<G;){var ee=j[$];this.set(ee[0],ee[1])}}function yt(j){var $=-1,G=j?j.length:0;for(this.__data__=new Fe;++$<G;)this.add(j[$])}function Qe(j){this.__data__=new pe(j)}function Ot(j,$){var G=jn(j)||Xc(j)?function(Ce,Ge){for(var Ke=-1,ze=Array(Ce);++Ke<Ce;)ze[Ke]=Ge(Ke);return ze}(j.length,String):[],ee=G.length,ve=!!ee;for(var ye in j)!O.call(j,ye)||ve&&(ye=="length"||jt(ye,ee))||G.push(ye);return G}function xt(j,$){for(var G=j.length;G--;)if(Mr(j[G][0],$))return G;return-1}ae.prototype.clear=function(){this.__data__=ne?ne(null):{}},ae.prototype.delete=function(j){return this.has(j)&&delete this.__data__[j]},ae.prototype.get=function(j){var $=this.__data__;if(ne){var G=$[j];return G==="__lodash_hash_undefined__"?void 0:G}return O.call($,j)?$[j]:void 0},ae.prototype.has=function(j){var $=this.__data__;return ne?$[j]!==void 0:O.call($,j)},ae.prototype.set=function(j,$){return this.__data__[j]=ne&&$===void 0?"__lodash_hash_undefined__":$,this},pe.prototype.clear=function(){this.__data__=[]},pe.prototype.delete=function(j){var $=this.__data__,G=xt($,j);return!(G<0)&&(G==$.length-1?$.pop():se.call($,G,1),!0)},pe.prototype.get=function(j){var $=this.__data__,G=xt($,j);return G<0?void 0:$[G][1]},pe.prototype.has=function(j){return xt(this.__data__,j)>-1},pe.prototype.set=function(j,$){var G=this.__data__,ee=xt(G,j);return ee<0?G.push([j,$]):G[ee][1]=$,this},Fe.prototype.clear=function(){this.__data__={hash:new ae,map:new(Ne||pe),string:new ae}},Fe.prototype.delete=function(j){return be(this,j).delete(j)},Fe.prototype.get=function(j){return be(this,j).get(j)},Fe.prototype.has=function(j){return be(this,j).has(j)},Fe.prototype.set=function(j,$){return be(this,j).set(j,$),this},yt.prototype.add=yt.prototype.push=function(j){return this.__data__.set(j,"__lodash_hash_undefined__"),this},yt.prototype.has=function(j){return this.__data__.has(j)},Qe.prototype.clear=function(){this.__data__=new pe},Qe.prototype.delete=function(j){return this.__data__.delete(j)},Qe.prototype.get=function(j){return this.__data__.get(j)},Qe.prototype.has=function(j){return this.__data__.has(j)},Qe.prototype.set=function(j,$){var G=this.__data__;if(G instanceof pe){var ee=G.__data__;if(!Ne||ee.length<199)return ee.push([j,$]),this;G=this.__data__=new Fe(ee)}return G.set(j,$),this};var Qr,nt=(Qr=function(j,$){return j&&Xr(j,$,vi)},function(j,$){if(j==null)return j;if(!Zc(j))return Qr(j,$);for(var G=j.length,ee=-1,ve=Object(j);++ee<G&&$(ve[ee],ee,ve)!==!1;);return j}),Xr=function(j){return function($,G,ee){for(var ve=-1,ye=Object($),Ce=ee($),Ge=Ce.length;Ge--;){var Ke=Ce[++ve];if(G(ye[Ke],Ke,ye)===!1)break}return $}}();function En(j,$){for(var G=0,ee=($=en($,j)?[$]:Ks($)).length;j!=null&&G<ee;)j=j[kt($[G++])];return G&&G==ee?j:void 0}function Gs(j,$){return j!=null&&$ in Object(j)}function Zr(j,$,G,ee,ve){return j===$||(j==null||$==null||!mi(j)&&!gi($)?j!=j&&$!=$:function(ye,Ce,Ge,Ke,ze,Ie){var ir=jn(ye),wt=jn(Ce),ut="[object Array]",pt="[object Array]";ir||(ut=(ut=qe(ye))==s?l:ut),wt||(pt=(pt=qe(Ce))==s?l:pt);var vr=ut==l&&!H(ye),Uo=pt==l&&!H(Ce),kn=ut==pt;if(kn&&!vr)return Ie||(Ie=new Qe),ir||n1(ye)?Ys(ye,Ce,Ge,Ke,ze,Ie):function(Ue,Le,ru,lo,yi,Yt,tn){switch(ru){case"[object DataView]":if(Ue.byteLength!=Le.byteLength||Ue.byteOffset!=Le.byteOffset)return!1;Ue=Ue.buffer,Le=Le.buffer;case"[object ArrayBuffer]":return!(Ue.byteLength!=Le.byteLength||!lo(new Y(Ue),new Y(Le)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Mr(+Ue,+Le);case"[object Error]":return Ue.name==Le.name&&Ue.message==Le.message;case"[object RegExp]":case"[object String]":return Ue==Le+"";case a:var Nn=K;case c:var Js=2&Yt;if(Nn||(Nn=z),Ue.size!=Le.size&&!Js)return!1;var xi=tn.get(Ue);if(xi)return xi==Le;Yt|=1,tn.set(Ue,Le);var Bo=Ys(Nn(Ue),Nn(Le),lo,yi,Yt,tn);return tn.delete(Ue),Bo;case"[object Symbol]":if(ge)return ge.call(Ue)==ge.call(Le)}return!1}(ye,Ce,ut,Ge,Ke,ze,Ie);if(!(2&ze)){var vp=vr&&O.call(ye,"__wrapped__"),yp=Uo&&O.call(Ce,"__wrapped__");if(vp||yp){var s1=vp?ye.value():ye,a1=yp?Ce.value():Ce;return Ie||(Ie=new Qe),Ge(s1,a1,Ke,ze,Ie)}}return kn?(Ie||(Ie=new Qe),function(Ue,Le,ru,lo,yi,Yt){var tn=2&yi,Nn=vi(Ue),Js=Nn.length,xi=vi(Le).length;if(Js!=xi&&!tn)return!1;for(var Bo=Js;Bo--;){var Rn=Nn[Bo];if(!(tn?Rn in Le:O.call(Le,Rn)))return!1}var xp=Yt.get(Ue);if(xp&&Yt.get(Le))return xp==Le;var wi=!0;Yt.set(Ue,Le),Yt.set(Le,Ue);for(var nu=tn;++Bo<Js;){Rn=Nn[Bo];var bi=Ue[Rn],_i=Le[Rn];if(lo)var wp=tn?lo(_i,bi,Rn,Le,Ue,Yt):lo(bi,_i,Rn,Ue,Le,Yt);if(!(wp===void 0?bi===_i||ru(bi,_i,lo,yi,Yt):wp)){wi=!1;break}nu||(nu=Rn=="constructor")}if(wi&&!nu){var Si=Ue.constructor,Ci=Le.constructor;Si==Ci||!("constructor"in Ue)||!("constructor"in Le)||typeof Si=="function"&&Si instanceof Si&&typeof Ci=="function"&&Ci instanceof Ci||(wi=!1)}return Yt.delete(Ue),Yt.delete(Le),wi}(ye,Ce,Ge,Ke,ze,Ie)):!1}(j,$,Zr,G,ee,ve))}function zt(j){return!(!mi(j)||function($){return!!V&&V in $}(j))&&(gp(j)||H(j)?Z:b).test(ct(j))}function Jc(j){return typeof j=="function"?j:j==null?o1:typeof j=="object"?jn(j)?function(ee,ve){return en(ee)&&at(ve)?Dt(kt(ee),ve):function(ye){var Ce=function(Ge,Ke,ze){var Ie=Ge==null?void 0:En(Ge,Ke);return Ie===void 0?ze:Ie}(ye,ee);return Ce===void 0&&Ce===ve?function(Ge,Ke){return Ge!=null&&function(ze,Ie,ir){Ie=en(Ie,ze)?[Ie]:Ks(Ie);for(var wt,ut=-1,pt=Ie.length;++ut<pt;){var vr=kt(Ie[ut]);if(!(wt=ze!=null&&ir(ze,vr)))break;ze=ze[vr]}return wt||!!(pt=ze?ze.length:0)&&eu(pt)&&jt(vr,pt)&&(jn(ze)||Xc(ze))}(Ge,Ke,Gs)}(ye,ee):Zr(ve,Ce,void 0,3)}}(j[0],j[1]):function(ee){var ve=function(ye){for(var Ce=vi(ye),Ge=Ce.length;Ge--;){var Ke=Ce[Ge],ze=ye[Ke];Ce[Ge]=[Ke,ze,at(ze)]}return Ce}(ee);return ve.length==1&&ve[0][2]?Dt(ve[0][0],ve[0][1]):function(ye){return ye===ee||function(Ce,Ge,Ke,ze){var Ie=Ke.length,ir=Ie;if(Ce==null)return!ir;for(Ce=Object(Ce);Ie--;){var wt=Ke[Ie];if(wt[2]?wt[1]!==Ce[wt[0]]:!(wt[0]in Ce))return!1}for(;++Ie<ir;){var ut=(wt=Ke[Ie])[0],pt=Ce[ut],vr=wt[1];if(wt[2]){if(pt===void 0&&!(ut in Ce))return!1}else{var Uo=new Qe,kn;if(!(kn===void 0?Zr(vr,pt,ze,3,Uo):kn))return!1}}return!0}(ye,ee,ve)}}(j):en($=j)?(G=kt($),function(ee){return ee==null?void 0:ee[G]}):function(ee){return function(ve){return En(ve,ee)}}($);var $,G}function Qc(j){if(G=($=j)&&$.constructor,ee=typeof G=="function"&&G.prototype||T,$!==ee)return he(j);var $,G,ee,ve=[];for(var ye in Object(j))O.call(j,ye)&&ye!="constructor"&&ve.push(ye);return ve}function Ks(j){return jn(j)?j:Fo(j)}function Ys(j,$,G,ee,ve,ye){var Ce=2&ve,Ge=j.length,Ke=$.length;if(Ge!=Ke&&!(Ce&&Ke>Ge))return!1;var ze=ye.get(j);if(ze&&ye.get($))return ze==$;var Ie=-1,ir=!0,wt=1&ve?new yt:void 0;for(ye.set(j,$),ye.set($,j);++Ie<Ge;){var ut=j[Ie],pt=$[Ie];if(ee)var vr=Ce?ee(pt,ut,Ie,$,j,ye):ee(ut,pt,Ie,j,$,ye);if(vr!==void 0){if(vr)continue;ir=!1;break}if(wt){if(!I($,function(Uo,kn){if(!wt.has(kn)&&(ut===Uo||G(ut,Uo,ee,ve,ye)))return wt.add(kn)})){ir=!1;break}}else if(ut!==pt&&!G(ut,pt,ee,ve,ye)){ir=!1;break}}return ye.delete(j),ye.delete($),ir}function be(j,$){var G,ee,ve=j.__data__;return((ee=typeof(G=$))=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?G!=="__proto__":G===null)?ve[typeof $=="string"?"string":"hash"]:ve.map}function We(j,$){var G=function(ee,ve){return ee==null?void 0:ee[ve]}(j,$);return zt(G)?G:void 0}var qe=function(j){return C.call(j)};function jt(j,$){return!!($=$??9007199254740991)&&(typeof j=="number"||w.test(j))&&j>-1&&j%1==0&&j<$}function en(j,$){if(jn(j))return!1;var G=typeof j;return!(G!="number"&&G!="symbol"&&G!="boolean"&&j!=null&&!tu(j))||f.test(j)||!u.test(j)||$!=null&&j in Object($)}function at(j){return j==j&&!mi(j)}function Dt(j,$){return function(G){return G!=null&&G[j]===$&&($!==void 0||j in Object(G))}}(fe&&qe(new fe(new ArrayBuffer(1)))!="[object DataView]"||Ne&&qe(new Ne)!=a||Re&&qe(Re.resolve())!="[object Promise]"||F&&qe(new F)!=c||W&&qe(new W)!="[object WeakMap]")&&(qe=function(j){var $=C.call(j),G=$==l?j.constructor:void 0,ee=G?ct(G):void 0;if(ee)switch(ee){case xe:return"[object DataView]";case le:return a;case we:return"[object Promise]";case Se:return c;case _e:return"[object WeakMap]"}return $});var Fo=zo(function(j){var $;j=($=j)==null?"":function(ee){if(typeof ee=="string")return ee;if(tu(ee))return ke?ke.call(ee):"";var ve=ee+"";return ve=="0"&&1/ee==-1/0?"-0":ve}($);var G=[];return d.test(j)&&G.push(""),j.replace(h,function(ee,ve,ye,Ce){G.push(ye?Ce.replace(g,"$1"):ve||ee)}),G});function kt(j){if(typeof j=="string"||tu(j))return j;var $=j+"";return $=="0"&&1/j==-1/0?"-0":$}function ct(j){if(j!=null){try{return D.call(j)}catch{}try{return j+""}catch{}}return""}function zo(j,$){if(typeof j!="function"||$&&typeof $!="function")throw new TypeError("Expected a function");var G=function(){var ee=arguments,ve=$?$.apply(this,ee):ee[0],ye=G.cache;if(ye.has(ve))return ye.get(ve);var Ce=j.apply(this,ee);return G.cache=ye.set(ve,Ce),Ce};return G.cache=new(zo.Cache||Fe),G}function Mr(j,$){return j===$||j!=j&&$!=$}function Xc(j){return function($){return gi($)&&Zc($)}(j)&&O.call(j,"callee")&&(!ce.call(j,"callee")||C.call(j)==s)}zo.Cache=Fe;var jn=Array.isArray;function Zc(j){return j!=null&&eu(j.length)&&!gp(j)}function gp(j){var $=mi(j)?C.call(j):"";return $=="[object Function]"||$=="[object GeneratorFunction]"}function eu(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=9007199254740991}function mi(j){var $=typeof j;return!!j&&($=="object"||$=="function")}function gi(j){return!!j&&typeof j=="object"}function tu(j){return typeof j=="symbol"||gi(j)&&C.call(j)=="[object Symbol]"}var n1=N?function(j){return function($){return j($)}}(N):function(j){return gi(j)&&eu(j.length)&&!!x[C.call(j)]};function vi(j){return Zc(j)?Ot(j):Qc(j)}function o1(j){return j}o.exports=function(j,$,G){var ee=jn(j)?L:J,ve=arguments.length<3;return ee(j,Jc($),G,ve,nt)}}).call(this,r(3),r(7)(e))},function(e,t){e.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(e,t){String.prototype.padEnd||(String.prototype.padEnd=function(r,n){return r>>=0,n=String(n!==void 0?n:" "),this.length>r?String(this):((r-=this.length)>n.length&&(n+=n.repeat(r/n.length)),String(this)+n.slice(0,r))})},function(e,t,r){function n(T,A,V){return A in T?Object.defineProperty(T,A,{value:V,enumerable:!0,configurable:!0,writable:!0}):T[A]=V,T}function o(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}function s(T){return function(A){if(Array.isArray(A)){for(var V=0,D=new Array(A.length);V<A.length;V++)D[V]=A[V];return D}}(T)||o(T)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(T){if(Array.isArray(T))return T}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function u(T,A){for(var V=0;V<A.length;V++){var D=A[V];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}function f(T){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(T)}function d(T){return(d=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(A){return f(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":f(A)})(T)}function h(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function g(T){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(T)}function b(T,A){return(b=Object.setPrototypeOf||function(V,D){return V.__proto__=D,V})(T,A)}r.r(t);var w=r(0),x=r.n(w),y=r(5),m=r.n(y),v=r(4),_=r.n(v),S=r(6),R=r.n(S),k=r(2),N=r.n(k),L=r(1),I=r.n(L);r(8);function J(T,A){return a(T)||function(V,D){var O=[],C=!0,Z=!1,B=void 0;try{for(var Y,ce=V[Symbol.iterator]();!(C=(Y=ce.next()).done)&&(O.push(Y.value),!D||O.length!==D);C=!0);}catch(se){Z=!0,B=se}finally{try{C||ce.return==null||ce.return()}finally{if(Z)throw B}}return O}(T,A)||l()}var H=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Cte dIvoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Runion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["So Tom and Prncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],K=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthlemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function z(T,A,V,D,O){return!V||O?T+"".padEnd(A.length,".")+" "+D:T+"".padEnd(A.length,".")+" "+V}function U(T,A,V,D,O){var C,Z,B=[];return Z=A===!0,[(C=[]).concat.apply(C,s(T.map(function(Y){var ce={name:Y[0],regions:Y[1],iso2:Y[2],countryCode:Y[3],dialCode:Y[3],format:z(V,Y[3],Y[4],D,O),priority:Y[5]||0},se=[];return Y[6]&&Y[6].map(function(he){var fe=function(Ne){for(var Re=1;Re<arguments.length;Re++){var F=arguments[Re]!=null?arguments[Re]:{},W=Object.keys(F);typeof Object.getOwnPropertySymbols=="function"&&(W=W.concat(Object.getOwnPropertySymbols(F).filter(function(ne){return Object.getOwnPropertyDescriptor(F,ne).enumerable}))),W.forEach(function(ne){n(Ne,ne,F[ne])})}return Ne}({},ce);fe.dialCode=Y[3]+he,fe.isAreaCode=!0,fe.areaCodeLength=he.length,se.push(fe)}),se.length>0?(ce.mainCode=!0,Z||A.constructor.name==="Array"&&A.includes(Y[2])?(ce.hasAreaCodes=!0,[ce].concat(se)):(B=B.concat(se),[ce])):[ce]}))),B]}function M(T,A,V,D){if(V!==null){var O=Object.keys(V),C=Object.values(V);O.forEach(function(Z,B){if(D)return T.push([Z,C[B]]);var Y=T.findIndex(function(se){return se[0]===Z});if(Y===-1){var ce=[Z];ce[A]=C[B],T.push(ce)}else T[Y][A]=C[B]})}}function q(T,A){return A.length===0?T:T.map(function(V){var D=A.findIndex(function(C){return C[0]===V[2]});if(D===-1)return V;var O=A[D];return O[1]&&(V[4]=O[1]),O[3]&&(V[5]=O[3]),O[2]&&(V[6]=O[2]),V})}var E=function T(A,V,D,O,C,Z,B,Y,ce,se,he,fe,Ne,Re){c(this,T),this.filterRegions=function(oe,ge){if(typeof oe=="string"){var ke=oe;return ge.filter(function(ae){return ae.regions.some(function(pe){return pe===ke})})}return ge.filter(function(ae){return oe.map(function(pe){return ae.regions.some(function(Fe){return Fe===pe})}).some(function(pe){return pe})})},this.sortTerritories=function(oe,ge){var ke=[].concat(s(oe),s(ge));return ke.sort(function(ae,pe){return ae.name<pe.name?-1:ae.name>pe.name?1:0}),ke},this.getFilteredCountryList=function(oe,ge,ke){return oe.length===0?ge:ke?oe.map(function(ae){var pe=ge.find(function(Fe){return Fe.iso2===ae});if(pe)return pe}).filter(function(ae){return ae}):ge.filter(function(ae){return oe.some(function(pe){return pe===ae.iso2})})},this.localizeCountries=function(oe,ge,ke){for(var ae=0;ae<oe.length;ae++)ge[oe[ae].iso2]!==void 0?oe[ae].localName=ge[oe[ae].iso2]:ge[oe[ae].name]!==void 0&&(oe[ae].localName=ge[oe[ae].name]);return ke||oe.sort(function(pe,Fe){return pe.localName<Fe.localName?-1:pe.localName>Fe.localName?1:0}),oe},this.getCustomAreas=function(oe,ge){for(var ke=[],ae=0;ae<ge.length;ae++){var pe=JSON.parse(JSON.stringify(oe));pe.dialCode+=ge[ae],ke.push(pe)}return ke},this.excludeCountries=function(oe,ge){return ge.length===0?oe:oe.filter(function(ke){return!ge.includes(ke.iso2)})};var F=function(oe,ge,ke){var ae=[];return M(ae,1,oe,!0),M(ae,3,ge),M(ae,2,ke),ae}(Y,ce,se),W=q(JSON.parse(JSON.stringify(H)),F),ne=q(JSON.parse(JSON.stringify(K)),F),xe=J(U(W,A,fe,Ne,Re),2),le=xe[0],we=xe[1];if(V){var Se=J(U(ne,A,fe,Ne,Re),2),_e=Se[0];Se[1],le=this.sortTerritories(_e,le)}D&&(le=this.filterRegions(D,le)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(O,le,B.includes("onlyCountries")),Z),he,B.includes("onlyCountries")),this.preferredCountries=C.length===0?[]:this.localizeCountries(this.getFilteredCountryList(C,le,B.includes("preferredCountries")),he,B.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(O,we),Z)},P=function(T){function A(O){var C;c(this,A),(C=function(F,W){return!W||d(W)!=="object"&&typeof W!="function"?h(F):W}(this,g(A).call(this,O))).getProbableCandidate=_()(function(F){return F&&F.length!==0?C.state.onlyCountries.filter(function(W){return N()(W.name.toLowerCase(),F.toLowerCase())},h(h(C)))[0]:null}),C.guessSelectedCountry=_()(function(F,W,ne,xe){var le;if(C.props.enableAreaCodes===!1&&(xe.some(function(_e){if(N()(F,_e.dialCode))return ne.some(function(oe){if(_e.iso2===oe.iso2&&oe.mainCode)return le=oe,!0}),!0}),le))return le;var we=ne.find(function(_e){return _e.iso2==W});if(F.trim()==="")return we;var Se=ne.reduce(function(_e,oe){return N()(F,oe.dialCode)&&(oe.dialCode.length>_e.dialCode.length||oe.dialCode.length===_e.dialCode.length&&oe.priority<_e.priority)?oe:_e},{dialCode:"",priority:10001},h(h(C)));return Se.name?Se:we}),C.updateCountry=function(F){var W,ne=C.state.onlyCountries;(W=F.indexOf(0)>="0"&&F.indexOf(0)<="9"?ne.find(function(xe){return xe.dialCode==+F}):ne.find(function(xe){return xe.iso2==F}))&&W.dialCode&&C.setState({selectedCountry:W,formattedNumber:C.props.disableCountryCode?"":C.formatNumber(W.dialCode,W)})},C.scrollTo=function(F,W){if(F){var ne=C.dropdownRef;if(ne&&document.body){var xe=ne.offsetHeight,le=ne.getBoundingClientRect().top+document.body.scrollTop,we=le+xe,Se=F,_e=Se.getBoundingClientRect(),oe=Se.offsetHeight,ge=_e.top+document.body.scrollTop,ke=ge+oe,ae=ge-le+ne.scrollTop,pe=xe/2-oe/2;if(C.props.enableSearch?ge<le+32:ge<le)W&&(ae-=pe),ne.scrollTop=ae;else if(ke>we){W&&(ae+=pe);var Fe=xe-oe;ne.scrollTop=ae-Fe}}}},C.scrollToTop=function(){var F=C.dropdownRef;F&&document.body&&(F.scrollTop=0)},C.formatNumber=function(F,W){if(!W)return F;var ne,xe=W.format,le=C.props,we=le.disableCountryCode,Se=le.enableAreaCodeStretch,_e=le.enableLongNumbers,oe=le.autoFormat;if(we?((ne=xe.split(" ")).shift(),ne=ne.join(" ")):Se&&W.isAreaCode?((ne=xe.split(" "))[1]=ne[1].replace(/\.+/,"".padEnd(W.areaCodeLength,".")),ne=ne.join(" ")):ne=xe,!F||F.length===0)return we?"":C.props.prefix;if(F&&F.length<2||!ne||!oe)return we?F:C.props.prefix+F;var ge,ke=R()(ne,function(ae,pe){if(ae.remainingText.length===0)return ae;if(pe!==".")return{formattedText:ae.formattedText+pe,remainingText:ae.remainingText};var Fe,yt=a(Fe=ae.remainingText)||o(Fe)||l(),Qe=yt[0],Ot=yt.slice(1);return{formattedText:ae.formattedText+Qe,remainingText:Ot}},{formattedText:"",remainingText:F.split("")});return(ge=_e?ke.formattedText+ke.remainingText.join(""):ke.formattedText).includes("(")&&!ge.includes(")")&&(ge+=")"),ge},C.cursorToEnd=function(){var F=C.numberInputRef;if(document.activeElement===F){F.focus();var W=F.value.length;F.value.charAt(W-1)===")"&&(W-=1),F.setSelectionRange(W,W)}},C.getElement=function(F){return C["flag_no_".concat(F)]},C.getCountryData=function(){return C.state.selectedCountry?{name:C.state.selectedCountry.name||"",dialCode:C.state.selectedCountry.dialCode||"",countryCode:C.state.selectedCountry.iso2||"",format:C.state.selectedCountry.format||""}:{}},C.handleFlagDropdownClick=function(F){if(F.preventDefault(),C.state.showDropdown||!C.props.disabled){var W=C.state,ne=W.preferredCountries,xe=W.onlyCountries,le=W.selectedCountry,we=C.concatPreferredCountries(ne,xe).findIndex(function(Se){return Se.dialCode===le.dialCode&&Se.iso2===le.iso2});C.setState({showDropdown:!C.state.showDropdown,highlightCountryIndex:we},function(){C.state.showDropdown&&C.scrollTo(C.getElement(C.state.highlightCountryIndex))})}},C.handleInput=function(F){var W=F.target.value,ne=C.props,xe=ne.prefix,le=ne.onChange,we=C.props.disableCountryCode?"":xe,Se=C.state.selectedCountry,_e=C.state.freezeSelection;if(!C.props.countryCodeEditable){var oe=xe+(Se.hasAreaCodes?C.state.onlyCountries.find(function(nt){return nt.iso2===Se.iso2&&nt.mainCode}).dialCode:Se.dialCode);if(W.slice(0,oe.length)!==oe)return}if(W===xe)return le&&le("",C.getCountryData(),F,""),C.setState({formattedNumber:""});if(!(W.replace(/\D/g,"").length>15&&(C.props.enableLongNumbers===!1||typeof C.props.enableLongNumbers=="number"&&W.replace(/\D/g,"").length>C.props.enableLongNumbers))&&W!==C.state.formattedNumber){F.preventDefault?F.preventDefault():F.returnValue=!1;var ge=C.props.country,ke=C.state,ae=ke.onlyCountries,pe=ke.selectedCountry,Fe=ke.hiddenAreaCodes;if(le&&F.persist(),W.length>0){var yt=W.replace(/\D/g,"");(!C.state.freezeSelection||pe&&pe.dialCode.length>yt.length)&&(Se=C.props.disableCountryGuess?pe:C.guessSelectedCountry(yt.substring(0,6),ge,ae,Fe)||pe,_e=!1),we=C.formatNumber(yt,Se),Se=Se.dialCode?Se:pe}var Qe=F.target.selectionStart,Ot=F.target.selectionStart,xt=C.state.formattedNumber,Qr=we.length-xt.length;C.setState({formattedNumber:we,freezeSelection:_e,selectedCountry:Se},function(){Qr>0&&(Ot-=Qr),we.charAt(we.length-1)==")"?C.numberInputRef.setSelectionRange(we.length-1,we.length-1):Ot>0&&xt.length>=we.length?C.numberInputRef.setSelectionRange(Ot,Ot):Qe<xt.length&&C.numberInputRef.setSelectionRange(Qe,Qe),le&&le(we.replace(/[^0-9]+/g,""),C.getCountryData(),F,we)})}},C.handleInputClick=function(F){C.setState({showDropdown:!1}),C.props.onClick&&C.props.onClick(F,C.getCountryData())},C.handleDoubleClick=function(F){var W=F.target.value.length;F.target.setSelectionRange(0,W)},C.handleFlagItemClick=function(F,W){var ne=C.state.selectedCountry,xe=C.state.onlyCountries.find(function(_e){return _e==F});if(xe){var le=C.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),we=le.length>1?le.replace(ne.dialCode,xe.dialCode):xe.dialCode,Se=C.formatNumber(we.replace(/\D/g,""),xe);C.setState({showDropdown:!1,selectedCountry:xe,freezeSelection:!0,formattedNumber:Se,searchValue:""},function(){C.cursorToEnd(),C.props.onChange&&C.props.onChange(Se.replace(/[^0-9]+/g,""),C.getCountryData(),W,Se)})}},C.handleInputFocus=function(F){C.numberInputRef&&C.numberInputRef.value===C.props.prefix&&C.state.selectedCountry&&!C.props.disableCountryCode&&C.setState({formattedNumber:C.props.prefix+C.state.selectedCountry.dialCode},function(){C.props.jumpCursorToEnd&&setTimeout(C.cursorToEnd,0)}),C.setState({placeholder:""}),C.props.onFocus&&C.props.onFocus(F,C.getCountryData()),C.props.jumpCursorToEnd&&setTimeout(C.cursorToEnd,0)},C.handleInputBlur=function(F){F.target.value||C.setState({placeholder:C.props.placeholder}),C.props.onBlur&&C.props.onBlur(F,C.getCountryData())},C.handleInputCopy=function(F){if(C.props.copyNumbersOnly){var W=window.getSelection().toString().replace(/[^0-9]+/g,"");F.clipboardData.setData("text/plain",W),F.preventDefault()}},C.getHighlightCountryIndex=function(F){var W=C.state.highlightCountryIndex+F;return W<0||W>=C.state.onlyCountries.length+C.state.preferredCountries.length?W-F:C.props.enableSearch&&W>C.getSearchFilteredCountries().length?0:W},C.searchCountry=function(){var F=C.getProbableCandidate(C.state.queryString)||C.state.onlyCountries[0],W=C.state.onlyCountries.findIndex(function(ne){return ne==F})+C.state.preferredCountries.length;C.scrollTo(C.getElement(W),!0),C.setState({queryString:"",highlightCountryIndex:W})},C.handleKeydown=function(F){var W=C.props.keys,ne=F.target.className;if(ne.includes("selected-flag")&&F.which===W.ENTER&&!C.state.showDropdown)return C.handleFlagDropdownClick(F);if(ne.includes("form-control")&&(F.which===W.ENTER||F.which===W.ESC))return F.target.blur();if(C.state.showDropdown&&!C.props.disabled&&(!ne.includes("search-box")||F.which===W.UP||F.which===W.DOWN||F.which===W.ENTER||F.which===W.ESC&&F.target.value==="")){F.preventDefault?F.preventDefault():F.returnValue=!1;var xe=function(le){C.setState({highlightCountryIndex:C.getHighlightCountryIndex(le)},function(){C.scrollTo(C.getElement(C.state.highlightCountryIndex),!0)})};switch(F.which){case W.DOWN:xe(1);break;case W.UP:xe(-1);break;case W.ENTER:C.props.enableSearch?C.handleFlagItemClick(C.getSearchFilteredCountries()[C.state.highlightCountryIndex]||C.getSearchFilteredCountries()[0],F):C.handleFlagItemClick([].concat(s(C.state.preferredCountries),s(C.state.onlyCountries))[C.state.highlightCountryIndex],F);break;case W.ESC:case W.TAB:C.setState({showDropdown:!1},C.cursorToEnd);break;default:(F.which>=W.A&&F.which<=W.Z||F.which===W.SPACE)&&C.setState({queryString:C.state.queryString+String.fromCharCode(F.which)},C.state.debouncedQueryStingSearcher)}}},C.handleInputKeyDown=function(F){var W=C.props,ne=W.keys,xe=W.onEnterKeyPress,le=W.onKeyDown;F.which===ne.ENTER&&xe&&xe(F),le&&le(F)},C.handleClickOutside=function(F){C.dropdownRef&&!C.dropdownContainerRef.contains(F.target)&&C.state.showDropdown&&C.setState({showDropdown:!1})},C.handleSearchChange=function(F){var W=F.currentTarget.value,ne=C.state,xe=ne.preferredCountries,le=ne.selectedCountry,we=0;if(W===""&&le){var Se=C.state.onlyCountries;we=C.concatPreferredCountries(xe,Se).findIndex(function(_e){return _e==le}),setTimeout(function(){return C.scrollTo(C.getElement(we))},100)}C.setState({searchValue:W,highlightCountryIndex:we})},C.concatPreferredCountries=function(F,W){return F.length>0?s(new Set(F.concat(W))):W},C.getDropdownCountryName=function(F){return F.localName||F.name},C.getSearchFilteredCountries=function(){var F=C.state,W=F.preferredCountries,ne=F.onlyCountries,xe=F.searchValue,le=C.props.enableSearch,we=C.concatPreferredCountries(W,ne),Se=xe.trim().toLowerCase().replace("+","");if(le&&Se){if(/^\d+$/.test(Se))return we.filter(function(ge){var ke=ge.dialCode;return["".concat(ke)].some(function(ae){return ae.toLowerCase().includes(Se)})});var _e=we.filter(function(ge){var ke=ge.iso2;return["".concat(ke)].some(function(ae){return ae.toLowerCase().includes(Se)})}),oe=we.filter(function(ge){var ke=ge.name,ae=ge.localName;return ge.iso2,["".concat(ke),"".concat(ae||"")].some(function(pe){return pe.toLowerCase().includes(Se)})});return C.scrollToTop(),s(new Set([].concat(_e,oe)))}return we},C.getCountryDropdownList=function(){var F=C.state,W=F.preferredCountries,ne=F.highlightCountryIndex,xe=F.showDropdown,le=F.searchValue,we=C.props,Se=we.disableDropdown,_e=we.prefix,oe=C.props,ge=oe.enableSearch,ke=oe.searchNotFound,ae=oe.disableSearchIcon,pe=oe.searchClass,Fe=oe.searchStyle,yt=oe.searchPlaceholder,Qe=oe.autocompleteSearch,Ot=C.getSearchFilteredCountries().map(function(nt,Xr){var En=ne===Xr,Gs=I()({country:!0,preferred:nt.iso2==="us"||nt.iso2==="gb",active:nt.iso2==="us",highlight:En}),Zr="flag ".concat(nt.iso2);return x.a.createElement("li",Object.assign({ref:function(zt){return C["flag_no_".concat(Xr)]=zt},key:"flag_no_".concat(Xr),"data-flag-key":"flag_no_".concat(Xr),className:Gs,"data-dial-code":"1",tabIndex:Se?"-1":"0","data-country-code":nt.iso2,onClick:function(zt){return C.handleFlagItemClick(nt,zt)},role:"option"},En?{"aria-selected":!0}:{}),x.a.createElement("div",{className:Zr}),x.a.createElement("span",{className:"country-name"},C.getDropdownCountryName(nt)),x.a.createElement("span",{className:"dial-code"},nt.format?C.formatNumber(nt.dialCode,nt):_e+nt.dialCode))}),xt=x.a.createElement("li",{key:"dashes",className:"divider"});W.length>0&&(!ge||ge&&!le.trim())&&Ot.splice(W.length,0,xt);var Qr=I()(n({"country-list":!0,hide:!xe},C.props.dropdownClass,!0));return x.a.createElement("ul",{ref:function(nt){return!ge&&nt&&nt.focus(),C.dropdownRef=nt},className:Qr,style:C.props.dropdownStyle,role:"listbox",tabIndex:"0"},ge&&x.a.createElement("li",{className:I()(n({search:!0},pe,pe))},!ae&&x.a.createElement("span",{className:I()(n({"search-emoji":!0},"".concat(pe,"-emoji"),pe)),role:"img","aria-label":"Magnifying glass"},""),x.a.createElement("input",{className:I()(n({"search-box":!0},"".concat(pe,"-box"),pe)),style:Fe,type:"search",placeholder:yt,autoFocus:!0,autoComplete:Qe?"on":"off",value:le,onChange:C.handleSearchChange})),Ot.length>0?Ot:x.a.createElement("li",{className:"no-entries-message"},x.a.createElement("span",null,ke)))};var Z,B=new E(O.enableAreaCodes,O.enableTerritories,O.regions,O.onlyCountries,O.preferredCountries,O.excludeCountries,O.preserveOrder,O.masks,O.priority,O.areaCodes,O.localization,O.prefix,O.defaultMask,O.alwaysDefaultMask),Y=B.onlyCountries,ce=B.preferredCountries,se=B.hiddenAreaCodes,he=O.value?O.value.replace(/\D/g,""):"";Z=O.disableInitialCountryGuess?0:he.length>1?C.guessSelectedCountry(he.substring(0,6),O.country,Y,se)||0:O.country&&Y.find(function(F){return F.iso2==O.country})||0;var fe,Ne=he.length<2&&Z&&!N()(he,Z.dialCode)?Z.dialCode:"";fe=he===""&&Z===0?"":C.formatNumber((O.disableCountryCode?"":Ne)+he,Z.name?Z:void 0);var Re=Y.findIndex(function(F){return F==Z});return C.state={showDropdown:O.showDropdown,formattedNumber:fe,onlyCountries:Y,preferredCountries:ce,hiddenAreaCodes:se,selectedCountry:Z,highlightCountryIndex:Re,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:m()(C.searchCountry,250),searchValue:""},C}var V,D;return function(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&b(O,C)}(A,T),V=A,(D=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(O,C,Z){O.country!==this.props.country?this.updateCountry(this.props.country):O.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(O){if(O===null)return this.setState({selectedCountry:0,formattedNumber:""});var C=this.state,Z=C.onlyCountries,B=C.selectedCountry,Y=C.hiddenAreaCodes,ce=this.props,se=ce.country,he=ce.prefix;if(O==="")return this.setState({selectedCountry:B,formattedNumber:""});var fe,Ne,Re=O.replace(/\D/g,"");if(B&&N()(O,he+B.dialCode))Ne=this.formatNumber(Re,B),this.setState({formattedNumber:Ne});else{var F=(fe=this.props.disableCountryGuess?B:this.guessSelectedCountry(Re.substring(0,6),se,Z,Y)||B)&&N()(Re,he+fe.dialCode)?fe.dialCode:"";Ne=this.formatNumber((this.props.disableCountryCode?"":F)+Re,fe||void 0),this.setState({selectedCountry:fe,formattedNumber:Ne})}}},{key:"render",value:function(){var O,C,Z,B=this,Y=this.state,ce=Y.onlyCountries,se=Y.selectedCountry,he=Y.showDropdown,fe=Y.formattedNumber,Ne=Y.hiddenAreaCodes,Re=this.props,F=Re.disableDropdown,W=Re.renderStringAsFlag,ne=Re.isValid,xe=Re.defaultErrorMessage,le=Re.specialLabel;if(typeof ne=="boolean")C=ne;else{var we=ne(fe.replace(/\D/g,""),se,ce,Ne);typeof we=="boolean"?(C=we)===!1&&(Z=xe):(C=!1,Z=we)}var Se=I()((n(O={},this.props.containerClass,!0),n(O,"react-tel-input",!0),O)),_e=I()({arrow:!0,up:he}),oe=I()(n({"form-control":!0,"invalid-number":!C,open:he},this.props.inputClass,!0)),ge=I()({"selected-flag":!0,open:he}),ke=I()(n({"flag-dropdown":!0,"invalid-number":!C,open:he},this.props.buttonClass,!0)),ae="flag ".concat(se&&se.iso2);return x.a.createElement("div",{className:"".concat(Se," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},le&&x.a.createElement("div",{className:"special-label"},le),Z&&x.a.createElement("div",{className:"invalid-number-message"},Z),x.a.createElement("input",Object.assign({className:oe,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:fe,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(pe){B.numberInputRef=pe,typeof B.props.inputProps.ref=="function"?B.props.inputProps.ref(pe):typeof B.props.inputProps.ref=="object"&&(B.props.inputProps.ref.current=pe)}})),x.a.createElement("div",{className:ke,style:this.props.buttonStyle,ref:function(pe){return B.dropdownContainerRef=pe}},W?x.a.createElement("div",{className:ge},W):x.a.createElement("div",{onClick:F?void 0:this.handleFlagDropdownClick,className:ge,title:se?"".concat(se.localName||se.name,": + ").concat(se.dialCode):"",tabIndex:F?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!he||void 0},x.a.createElement("div",{className:ae},!F&&x.a.createElement("div",{className:_e}))),he&&this.getCountryDropdownList()))}}])&&u(V.prototype,D),A}(x.a.Component);P.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},t.default=P}]);const Ux=Ef(AP);function OP({isOpen:e,onClose:t,onSubmit:r,reseller:n}){const[o,s]=Q.useState(!1),a=h=>{const g=new Date;let b;switch(h){case"Demo (24 Hrs)":b=new Date(g),b.setDate(g.getDate()+1);break;case"1 Mes":b=new Date(g),b.setMonth(g.getMonth()+1);break;case"3 Meses":b=new Date(g),b.setMonth(g.getMonth()+3);break;case"6 Meses":b=new Date(g),b.setMonth(g.getMonth()+6);break;case"12 Meses":b=new Date(g),b.setMonth(g.getMonth()+12);break;default:b=new Date(g),b.setMonth(g.getMonth()+1)}return console.log(`Calculando fecha fin para plan ${h}: ${b.toISOString()}`),b},l=h=>h.toISOString().split("T")[0],[c,u]=Q.useState(()=>{const h=l(a("1 Mes"));return console.log("Inicializando formulario con fecha de fin por defecto:",h),{fullName:(n==null?void 0:n.fullName)||"",email:(n==null?void 0:n.email)||"",password:"",phone:(n==null?void 0:n.phone)||"",phoneCountry:(n==null?void 0:n.phoneCountry)||"co",plan:(n==null?void 0:n.plan)||"1 Mes",endDate:(n==null?void 0:n.endDate)||h}});Q.useEffect(()=>{const h=g=>l(a(g||"1 Mes"));if(n){const g=h(n.plan);console.log("Fecha calculada para edicin:",g),u({fullName:n.fullName,email:n.email,password:"",phone:n.phone||"",phoneCountry:n.phoneCountry||"co",plan:n.plan||"1 Mes",endDate:g})}else{const g=h("1 Mes");console.log("Fecha de fin por defecto para nuevo revendedor:",g),u({fullName:"",email:"",password:"",phone:"",phoneCountry:"co",plan:"1 Mes",endDate:g})}},[n]);const f=h=>{h.preventDefault(),r(c)};if(!e)return null;const d=!!n;return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:i.jsx("div",{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]",children:i.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 w-[400px] shadow-xl",children:[i.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",children:i.jsx(Us,{className:"w-5 h-5"})}),i.jsx("style",{children:`
            select option:hover {
              background-color: #a855f7 !important;
            }
          `}),i.jsxs("div",{className:"p-4 border-b border-border/10",children:[i.jsx("h2",{className:"text-lg font-medium",children:d?"Editar Revendedor":"Agregar Nuevo Revendedor"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d?"Modifica la informacin del revendedor.":"Completa la informacin del nuevo revendedor. Se crear un usuario y un perfil de revendedor."})]}),i.jsxs("form",{onSubmit:f,className:"p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Nombre Completo / Empresa"}),i.jsx("input",{type:"text",value:c.fullName,onChange:h=>u(g=>({...g,fullName:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Email"}),i.jsx("input",{type:"email",value:c.email,onChange:h=>u(g=>({...g,email:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0,readOnly:d,style:d?{backgroundColor:"#222",color:"#888",cursor:"not-allowed"}:{}})]}),!d&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:o?"text":"password",value:c.password,onChange:h=>u(g=>({...g,password:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm pr-10",placeholder:"Mnimo 6 caracteres",minLength:6,required:!0}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-muted-foreground hover:text-foreground",onClick:()=>s(h=>!h),tabIndex:-1,children:o?"Ocultar":"Mostrar"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium mb-2",htmlFor:"phone",children:"Telfono"}),i.jsx(Ux,{country:c.phoneCountry,value:c.phone,onChange:(h,g)=>{u(b=>({...b,phone:h,phoneCountry:g.countryCode||"co"}))},inputProps:{id:"phone",required:!0},containerClass:"phone-input-container",inputClass:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",buttonClass:"phone-input-button",dropdownClass:"phone-input-dropdown",specialLabel:"",preferredCountries:["co","mx","pe","ar","cl","ec","ve"],enableSearch:!0,searchPlaceholder:"Buscar pas..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Plan de Suscripcin"}),i.jsxs("select",{value:c.plan,onChange:h=>{const g=h.target.value,b=l(a(g));u(w=>({...w,plan:g,endDate:b}))},className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm [&>option]:bg-[#0e121d]",required:!0,children:[i.jsx("option",{children:"1 Mes"}),i.jsx("option",{children:"3 Meses"}),i.jsx("option",{children:"6 Meses"}),i.jsx("option",{children:"12 Meses"}),i.jsx("option",{children:"Demo (24 Hrs)"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Fecha Fin Suscripcin"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:c.endDate,onChange:h=>u(g=>({...g,endDate:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",required:!0}),i.jsx(af,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#00A8FF] pointer-events-none"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border/10",children:[i.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-border/10 hover:bg-[#a855f7]/20 transition-colors",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:d?"Guardar Cambios":"Agregar Revendedor"})]})]})]})})})}const _g=["1 Mes","3 Meses","6 Meses","12 Meses"];function Kh({isOpen:e,onClose:t,onSubmit:r}){const[n,o]=Q.useState(_g[0]);return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:i.jsx("div",{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]",children:i.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 w-[300px] shadow-xl",children:[i.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground",children:i.jsx(Us,{className:"w-5 h-5"})}),i.jsxs("div",{className:"p-4 border-b border-border/10",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Renovar Plan"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona el nuevo plan de suscripcin."})]}),i.jsxs("form",{onSubmit:s=>{s.preventDefault(),r(n)},className:"p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Plan de Suscripcin"}),i.jsx("select",{value:n,onChange:s=>o(s.target.value),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm [&>option]:bg-[#0e121d]",required:!0,children:_g.map(s=>i.jsx("option",{value:s,children:s},s))})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border/10",children:[i.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-border/10 hover:bg-[#a855f7]/20 transition-colors",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:"Renovar Plan"})]})]})]})})}):null}const _t=[];for(let e=0;e<256;++e)_t.push((e+256).toString(16).slice(1));function DP(e,t=0){return(_t[e[t+0]]+_t[e[t+1]]+_t[e[t+2]]+_t[e[t+3]]+"-"+_t[e[t+4]]+_t[e[t+5]]+"-"+_t[e[t+6]]+_t[e[t+7]]+"-"+_t[e[t+8]]+_t[e[t+9]]+"-"+_t[e[t+10]]+_t[e[t+11]]+_t[e[t+12]]+_t[e[t+13]]+_t[e[t+14]]+_t[e[t+15]]).toLowerCase()}let Gu;const IP=new Uint8Array(16);function MP(){if(!Gu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gu=crypto.getRandomValues.bind(crypto)}return Gu(IP)}const LP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Sg={randomUUID:LP};function $P(e,t,r){var o;if(Sg.randomUUID&&!e)return Sg.randomUUID();e=e||{};const n=e.random??((o=e.rng)==null?void 0:o.call(e))??MP();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,DP(n)}const an={async createReseller({email:e,full_name:t,phone:r,plan_type:n,plan_end_date:o}){const s=$P(),{data:a,error:l}=await re.rpc("create_user_profile",{p_user_id:s,p_user_email:e,p_user_role:"reseller",p_user_status:"active",p_user_full_name:t,p_user_phone:r||""});if(l)throw console.error("Error en RPC create_user_profile (profileError):",l),new Error(l.message||"Error en la llamada RPC para crear perfil");if(!a)throw console.error("Respuesta nula de RPC create_user_profile"),new Error("Respuesta nula al crear perfil");if(!a.success)throw console.error("Fallo en RPC create_user_profile (profileResult.success false):",a.message),new Error(a.message||"Error creando perfil (fallo reportado por RPC)");const c=a.id;if(!c)throw console.error("ID de usuario final no encontrado en la respuesta de create_user_profile a pesar de success:true"),new Error("No se pudo obtener el ID de usuario final del perfil para crear el revendedor.");const{data:u,error:f}=await re.rpc("create_reseller",{user_id:c,user_email:e,user_full_name:t,user_phone:r||"",user_plan_type:n,user_status:"active",user_plan_end_date:o});if(f||!(u&&u.success))throw new Error(u&&u.message||f&&f.message||"Error creando revendedor");return{success:!0,user_id:s,message:"Revendedor creado correctamente"}},async getAll(e=!1){console.log("DEPURACIN - Fetching resellers... forceReload:",e);try{console.log("Obteniendo datos de resellers...");const{data:t,error:r}=await re.rpc("get_all_resellers");if(r||!Array.isArray(t))return console.error("Error al obtener resellers con RPC:",r),[];console.log("Obteniendo perfiles con rol reseller...");const{data:n,error:o}=await re.rpc("get_all_profiles");if(o||!Array.isArray(n))return console.error("Error al obtener perfiles con RPC:",o),[];const s=n.filter(f=>f&&f.role==="reseller"&&t.some(d=>d.id===f.id));console.log(`Encontrados ${s.length} perfiles de revendedores`),console.log("Obteniendo conteo de clientes por revendedor...");const a=s.map(async f=>{const{count:d,error:h}=await re.from("clients").select("*",{count:"exact",head:!0}).eq("owner_id",f.id);return h?(console.error(`Error contando clientes para revendedor ${f.id}:`,h),{id:f.id,clients_count:0}):{id:f.id,clients_count:d||0}}),c=(await Promise.all(a)).reduce((f,d)=>(f[d.id]=d.clients_count,f),{}),u=s.map(f=>{const d=t.find(g=>g.id===f.id||g.user_id===f.id);return{...d?{...f,...d}:f,clients_count:c[f.id]||0}});return console.log("Resultado final con conteo de clientes:",u),u}catch(t){return console.error("Error inesperado al obtener revendedores:",t),[]}console.log("DEPURACIN - Fetching resellers... forceReload:",e);try{console.log("Obteniendo perfiles con rol reseller...");const{data:t,error:r}=await re.rpc("get_all_profiles");if(r||!Array.isArray(t))return console.error("Error al obtener perfiles con RPC:",r),[];const n=t.filter(l=>l&&l.role==="reseller"&&(o==null?void 0:o.some(c=>c.id===l.id)));console.log(`Encontrados ${n.length} perfiles de revendedores`),console.log("Obteniendo datos de resellers...");const{data:o,error:s}=await re.rpc("get_all_resellers");if(s||!Array.isArray(o))return console.error("Error al obtener resellers con RPC:",s),console.log("Usando solo datos de perfiles para revendedores"),n.map(l=>({id:l.id,user_id:l.id,created_at:l.created_at,full_name:l.full_name||"Sin nombre",email:l.email||"sin-email@ejemplo.com",phone:l.phone||"",plan_type:"Basic",plan_end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),status:l.status||"pending"}));console.log(`Encontrados ${(o==null?void 0:o.length)||0} registros en tabla resellers`);const a=n.map(l=>{const c=o==null?void 0:o.find(u=>u.id===l.id||u.user_id===l.id);return c?{...c,id:c.id||l.id,user_id:c.user_id||l.id,full_name:l.full_name||c.full_name||"Sin nombre",email:l.email||c.email||"sin-email@ejemplo.com",phone:c.phone||l.phone||"",plan_type:c.plan_type||"Basic",plan_end_date:c.plan_end_date||new Date(Date.now()+30*24*60*60*1e3).toISOString(),status:l.status||c.status||"pending"}:{id:l.id,user_id:l.id,created_at:l.created_at,full_name:l.full_name||"Sin nombre",email:l.email||"sin-email@ejemplo.com",phone:l.phone||"",plan_type:"Basic",plan_end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),status:l.status||"pending"}});return console.log(`Devolviendo ${a.length} revendedores`),a}catch(t){return console.error("Error inesperado al obtener revendedores:",t),[]}},async getById(e){try{console.log("Obteniendo revendedor por ID con RPC:",e);const{data:t,error:r}=await re.rpc("get_reseller_by_id",{reseller_id:e});if(r)throw console.error("Error al obtener revendedor con RPC:",r),r;if(!t)throw new Error("No se encontr el revendedor con el ID proporcionado");const n=t;return console.log("Revendedor obtenido correctamente:",n),n}catch(t){console.error("Error al obtener revendedor:",t);try{console.log("Intentando obtener revendedor con mtodo de respaldo usando get_all_resellers...");const{data:r,error:n}=await re.rpc("get_all_resellers");if(n)throw console.error("Error al obtener lista de revendedores con RPC:",n),n;const o=r==null?void 0:r.find(s=>s.id===e);if(!o)throw new Error("No se encontr el revendedor con el ID proporcionado");return console.log("Revendedor obtenido correctamente con mtodo de respaldo:",o),o}catch(r){return console.error("Error en mtodo de respaldo:",r),{id:e,full_name:"Revendedor",email:"email@ejemplo.com",phone:"",plan_type:"1 Mes",plan_end_date:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"active",role:"reseller"}}}},async update(e,t){t.full_name&&await re.rpc("update_profile_name",{user_id:e,new_name:t.full_name});let r=null;t.plan_end_date&&typeof t.plan_end_date=="string"&&(r=new Date(t.plan_end_date).toISOString());const{error:n}=await re.rpc("update_reseller_info",{reseller_id:e,reseller_phone:typeof t.phone=="string"?t.phone:"",reseller_plan_type:typeof t.plan_type=="string"?t.plan_type:"",reseller_plan_end_date:r});if(n)throw n;return t.email&&await re.from("profiles").update({email:t.email}).eq("id",e),await an.getById(e)},async delete(e){const{data:t,error:r}=await re.rpc("delete_reseller",{reseller_id:e});if(r){if(r.message&&r.message.includes("No se encontr el revendedor"))return{success:!0,message:"Revendedor ya no existe (idempotente)",id:e};throw r}return!t||t.success===!1?{success:!0,message:(t==null?void 0:t.message)||"Revendedor ya no existe (idempotente)",id:e}:{success:!0,message:"Revendedor eliminado correctamente",id:e}}},FP=[{name:"Mensaje de Bienvenida",content:`Hola {cliente}, Gracias por adquirir el servicio {plataforma}. Aqu estn tus credenciales:

USUARIO: {usuario}
CONTRASEA: {contrasea}
Vencimiento: {fecha_fin}.

Para una mejor experiencia NO COMPARTIR TU ACCESO`,category:"credenciales"},{name:"Recordatorio de Vencimiento",content:"Buen da estimad@ {cliente}. Te recuerdo que tu servicio {plataforma} vence en {dias_restantes} das. Vence el {fecha_fin}. Agradecemos tu preferencia, confirma tu renovacin para seguir brindndote nuestros servicios.",category:"recordatorio"}],la=e=>{var t;throw console.error("Error de Supabase:",e),(t=e.message)!=null&&t.includes("does not exist")?new Error("La tabla templates no existe en la base de datos. Por favor, crea la tabla primero."):new Error(`Error de Supabase: ${e.message} (${e.code})`)},er={async initializeDefaultTemplates(){try{const{data:e,error:t}=await re.from("templates").select("*").is("owner_id",null);if(t&&la(t),console.log("Verificacin de plantillas del sistema:",{existingTemplates:e}),!e||e.length===0){const r=FP.map(o=>({...o,owner_id:null})),{error:n}=await re.from("templates").insert(r);n&&la(n),console.log("Plantillas predeterminadas del sistema creadas")}}catch(e){throw console.error("Error al inicializar plantillas:",e),e}},async getAll(e){try{let t=re.from("templates").select("*");e&&(t=t.or(`owner_id.eq.${e},owner_id.is.null`));const{data:r,error:n}=await t.order("created_at",{ascending:!1});return n&&la(n),r}catch(t){throw console.error("Error al obtener plantillas:",t),t}},async create(e,t){try{const r={...e,owner_id:t},{data:n,error:o}=await re.from("templates").insert([r]).select().single();return o&&la(o),n}catch(r){throw console.error("Error al crear plantilla:",r),r}},async update(e,t){try{const{data:r,error:n}=await re.from("templates").select("*").eq("id",e).single();if(n)throw n;if(!r)throw new Error("Plantilla no encontrada");if((r.name==="Mensaje de Bienvenida"||r.name==="Recordatorio de Vencimiento")&&t.name&&t.name!==r.name)throw new Error("No se puede cambiar el nombre de las plantillas prediseadas. Solo puedes editar el contenido.");const o={...t};(r.name==="Mensaje de Bienvenida"||r.name==="Recordatorio de Vencimiento")&&(delete o.name,t.category&&(o.category=t.category)),console.log("Actualizando plantilla con:",o);const{data:s,error:a}=await re.from("templates").update(o).eq("id",e).select().single();return a&&la(a),s}catch(r){throw console.error("Error al actualizar plantilla:",r),r}},async delete(e,t){try{const{data:r,error:n}=await re.from("templates").select("*").eq("id",e).single();if(n)throw n;if(!r)throw new Error("Plantilla no encontrada");if(r.owner_id===null)throw new Error("No se pueden eliminar las plantillas del sistema.");if(r.owner_id!==t)throw new Error("No tienes permiso para eliminar esta plantilla.");const{error:o}=await re.from("templates").delete().eq("id",e);if(o)throw o}catch(r){throw console.error("Error al eliminar la plantilla:",r),r}}},pa=(e,t)=>{const r=new Date,n=new Date(r);switch(e){case"Demo (24 Hrs)":n.setDate(n.getDate()+1);break;case"1 Mes":n.setMonth(n.getMonth()+1);break;case"3 Meses":n.setMonth(n.getMonth()+3);break;case"6 Meses":n.setMonth(n.getMonth()+6);break;case"12 Meses":n.setMonth(n.getMonth()+12);break;default:n.setMonth(n.getMonth()+1)}return n},mo=e=>e.toISOString().split("T")[0],zP=e=>{switch(e){case"Demo (24 Hrs)":return 0;case"1 Mes":return 1;case"3 Meses":return 3;case"6 Meses":return 6;case"12 Meses":return 12;default:return 1}},Ps=(e,t)=>e.replace(/\{([^}]+)\}/g,(r,n)=>{const o=t[n];return o!==void 0?o:`{${n}}`}),Ja=(e,t)=>{const r=encodeURIComponent(t);window.open(`https://wa.me/${e}?text=${r}`,"_blank")},UP={async sendCredentials(e){try{const{data:t,error:r}=await re.rpc("get_reseller_by_id",{reseller_id:e});if(r)throw new Error("No tienes permisos para leer los datos del revendedor o hubo un error de conexin.");if(!t)throw new Error("Revendedor no encontrado");if(!t.phone)throw new Error("El revendedor no tiene telfono registrado.");if(!t.email)throw new Error("El revendedor no tiene correo registrado.");if(!t.plan_end_date)throw new Error("El revendedor no tiene fecha de vencimiento.");const o=(await er.getAll()).find(a=>a.name==="Mensaje de Bienvenida");if(!o)throw new Error("Plantilla de bienvenida no encontrada");const s=Ps(o.content,{cliente:t.full_name||"",plataforma:t.plan_type||"",usuario:t.email||"",contrasea:t.password||"",fecha_fin:t.plan_end_date?new Date(t.plan_end_date).toLocaleDateString():""});if(s.includes("{"))throw new Error("Faltan datos para completar el mensaje. Revisa los datos del revendedor.");Ja(t.phone,s)}catch(t){throw console.error("Error al enviar credenciales:",t),t instanceof Error?t:new Error("Error desconocido al enviar credenciales")}},async sendReminder(e){try{const{data:t,error:r}=await re.rpc("get_reseller_by_id",{reseller_id:e});if(r)throw new Error("No tienes permisos para leer los datos del revendedor o hubo un error de conexin.");if(!t)throw new Error("Revendedor no encontrado");if(!t.phone)throw new Error("El revendedor no tiene telfono registrado.");if(!t.plan_end_date)throw new Error("El revendedor no tiene fecha de vencimiento.");if(!t.full_name)throw new Error("El revendedor no tiene nombre registrado.");const o=(await er.getAll()).find(u=>u.name==="Recordatorio de Vencimiento");if(!o)throw new Error("Plantilla de recordatorio no encontrada");const s=new Date(t.plan_end_date),a=new Date,l=Math.ceil((s.getTime()-a.getTime())/(1e3*60*60*24)),c=Ps(o.content,{cliente:t.full_name||"",plataforma:t.plan_type||"",dias_restantes:`${l} das`,fecha_fin:s.toLocaleDateString()});if(c.includes("{"))throw new Error("Faltan datos para completar el mensaje. Revisa los datos del revendedor.");Ja(t.phone,c)}catch(t){throw console.error("Error al enviar recordatorio:",t),t instanceof Error?t:new Error("Error desconocido al enviar recordatorio")}},async renew(e,t){try{const r=typeof t=="string"?zP(t):t;console.log("Renovando plan de revendedor con RPC:",{id:e,plan:t,months:r});const{data:n,error:o}=await re.rpc("renew_plan",{reseller_id:e,months:r});if(o)throw console.error("Error al renovar plan con RPC:",o),o;if(!n)throw new Error("No se pudo renovar el plan");return console.log("Plan renovado correctamente"),await an.getById(e)}catch(r){throw console.error("Error en el proceso de renovacin de plan:",r),r}}};function Yh(e){const t=e+"CollectionProvider",[r,n]=Mo(t),[o,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:x,children:y}=w,m=Q.useRef(null),v=Q.useRef(new Map).current;return i.jsx(o,{scope:x,itemMap:v,collectionRef:m,children:y})};a.displayName=t;const l=e+"CollectionSlot",c=No(l),u=Q.forwardRef((w,x)=>{const{scope:y,children:m}=w,v=s(l,y),_=Be(x,v.collectionRef);return i.jsx(c,{ref:_,children:m})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=No(f),g=Q.forwardRef((w,x)=>{const{scope:y,children:m,...v}=w,_=Q.useRef(null),S=Be(x,_),R=s(f,y);return Q.useEffect(()=>(R.itemMap.set(_,{ref:_,...v}),()=>void R.itemMap.delete(_))),i.jsx(h,{[d]:"",ref:S,children:m})});g.displayName=f;function b(w){const x=s(e+"CollectionConsumer",w);return Q.useCallback(()=>{const m=x.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((R,k)=>v.indexOf(R.ref.current)-v.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},b,n]}var BP=p.createContext(void 0);function Jh(e){const t=p.useContext(BP);return e||t||"ltr"}const VP=["top","right","bottom","left"],Zn=Math.min,Zt=Math.max,Jl=Math.round,tl=Math.floor,Gr=e=>({x:e,y:e}),HP={left:"right",right:"left",bottom:"top",top:"bottom"},WP={start:"end",end:"start"};function pf(e,t,r){return Zt(e,Zn(t,r))}function bn(e,t){return typeof e=="function"?e(t):e}function _n(e){return e.split("-")[0]}function Hs(e){return e.split("-")[1]}function Qh(e){return e==="x"?"y":"x"}function Xh(e){return e==="y"?"height":"width"}function pn(e){return["top","bottom"].includes(_n(e))?"y":"x"}function Zh(e){return Qh(pn(e))}function qP(e,t,r){r===void 0&&(r=!1);const n=Hs(e),o=Zh(e),s=Xh(o);let a=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Ql(a)),[a,Ql(a)]}function GP(e){const t=Ql(e);return[mf(e),t,mf(t)]}function mf(e){return e.replace(/start|end/g,t=>WP[t])}function KP(e,t,r){const n=["left","right"],o=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?s:a;default:return[]}}function YP(e,t,r,n){const o=Hs(e);let s=KP(_n(e),r==="start",n);return o&&(s=s.map(a=>a+"-"+o),t&&(s=s.concat(s.map(mf)))),s}function Ql(e){return e.replace(/left|right|bottom|top/g,t=>HP[t])}function JP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Bx(e){return typeof e!="number"?JP(e):{top:e,right:e,bottom:e,left:e}}function Xl(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function Cg(e,t,r){let{reference:n,floating:o}=e;const s=pn(t),a=Zh(t),l=Xh(a),c=_n(t),u=s==="y",f=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,h=n[l]/2-o[l]/2;let g;switch(c){case"top":g={x:f,y:n.y-o.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:d};break;case"left":g={x:n.x-o.width,y:d};break;default:g={x:n.x,y:n.y}}switch(Hs(t)){case"start":g[a]-=h*(r&&u?-1:1);break;case"end":g[a]+=h*(r&&u?-1:1);break}return g}const QP=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:d}=Cg(u,n,c),h=n,g={},b=0;for(let w=0;w<l.length;w++){const{name:x,fn:y}=l[w],{x:m,y:v,data:_,reset:S}=await y({x:f,y:d,initialPlacement:n,placement:h,strategy:o,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});f=m??f,d=v??d,g={...g,[x]:{...g[x],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:f,y:d}=Cg(u,h,c)),w=-1)}return{x:f,y:d,placement:h,strategy:o,middlewareData:g}};async function Qa(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:g=0}=bn(t,e),b=Bx(g),x=l[h?d==="floating"?"reference":"floating":d],y=Xl(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),m=d==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},S=Xl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:v,strategy:c}):m);return{top:(y.top-S.top+b.top)/_.y,bottom:(S.bottom-y.bottom+b.bottom)/_.y,left:(y.left-S.left+b.left)/_.x,right:(S.right-y.right+b.right)/_.x}}const XP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=bn(e,t)||{};if(u==null)return{};const d=Bx(f),h={x:r,y:n},g=Zh(o),b=Xh(g),w=await a.getDimensions(u),x=g==="y",y=x?"top":"left",m=x?"bottom":"right",v=x?"clientHeight":"clientWidth",_=s.reference[b]+s.reference[g]-h[g]-s.floating[b],S=h[g]-s.reference[g],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let k=R?R[v]:0;(!k||!await(a.isElement==null?void 0:a.isElement(R)))&&(k=l.floating[v]||s.floating[b]);const N=_/2-S/2,L=k/2-w[b]/2-1,I=Zn(d[y],L),J=Zn(d[m],L),H=I,K=k-w[b]-J,z=k/2-w[b]/2+N,U=pf(H,z,K),M=!c.arrow&&Hs(o)!=null&&z!==U&&s.reference[b]/2-(z<H?I:J)-w[b]/2<0,q=M?z<H?z-H:z-K:0;return{[g]:h[g]+q,data:{[g]:U,centerOffset:z-U-q,...M&&{alignmentOffset:q}},reset:M}}}),ZP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...x}=bn(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=_n(o),m=pn(l),v=_n(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(v||!w?[Ql(l)]:GP(l)),R=b!=="none";!h&&R&&S.push(...YP(l,w,b,_));const k=[l,...S],N=await Qa(t,x),L=[];let I=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&L.push(N[y]),d){const U=qP(o,a,_);L.push(N[U[0]],N[U[1]])}if(I=[...I,{placement:o,overflows:L}],!L.every(U=>U<=0)){var J,H;const U=(((J=s.flip)==null?void 0:J.index)||0)+1,M=k[U];if(M){var K;const E=d==="alignment"?m!==pn(M):!1,P=((K=I[0])==null?void 0:K.overflows[0])>0;if(!E||P)return{data:{index:U,overflows:I},reset:{placement:M}}}let q=(H=I.filter(E=>E.overflows[0]<=0).sort((E,P)=>E.overflows[1]-P.overflows[1])[0])==null?void 0:H.placement;if(!q)switch(g){case"bestFit":{var z;const E=(z=I.filter(P=>{if(R){const T=pn(P.placement);return T===m||T==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(T=>T>0).reduce((T,A)=>T+A,0)]).sort((P,T)=>P[1]-T[1])[0])==null?void 0:z[0];E&&(q=E);break}case"initialPlacement":q=l;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function Eg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function jg(e){return VP.some(t=>e[t]>=0)}const eT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=bn(e,t);switch(n){case"referenceHidden":{const s=await Qa(t,{...o,elementContext:"reference"}),a=Eg(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:jg(a)}}}case"escaped":{const s=await Qa(t,{...o,altBoundary:!0}),a=Eg(s,r.floating);return{data:{escapedOffsets:a,escaped:jg(a)}}}default:return{}}}}};async function tT(e,t){const{placement:r,platform:n,elements:o}=e,s=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=_n(r),l=Hs(r),c=pn(r)==="y",u=["left","top"].includes(a)?-1:1,f=s&&c?-1:1,d=bn(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),c?{x:g*f,y:h*u}:{x:h*u,y:g*f}}const rT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:s,placement:a,middlewareData:l}=t,c=await tT(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:a}}}}},nT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:y,y:m}=x;return{x:y,y:m}}},...c}=bn(e,t),u={x:r,y:n},f=await Qa(t,c),d=pn(_n(o)),h=Qh(d);let g=u[h],b=u[d];if(s){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",m=g+f[x],v=g-f[y];g=pf(m,g,v)}if(a){const x=d==="y"?"top":"left",y=d==="y"?"bottom":"right",m=b+f[x],v=b-f[y];b=pf(m,b,v)}const w=l.fn({...t,[h]:g,[d]:b});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[h]:s,[d]:a}}}}}},oT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bn(e,t),f={x:r,y:n},d=pn(o),h=Qh(d);let g=f[h],b=f[d];const w=bn(l,t),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const v=h==="y"?"height":"width",_=s.reference[h]-s.floating[v]+x.mainAxis,S=s.reference[h]+s.reference[v]-x.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var y,m;const v=h==="y"?"width":"height",_=["top","left"].includes(_n(o)),S=s.reference[d]-s.floating[v]+(_&&((y=a.offset)==null?void 0:y[d])||0)+(_?0:x.crossAxis),R=s.reference[d]+s.reference[v]+(_?0:((m=a.offset)==null?void 0:m[d])||0)-(_?x.crossAxis:0);b<S?b=S:b>R&&(b=R)}return{[h]:g,[d]:b}}}},sT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:s,platform:a,elements:l}=t,{apply:c=()=>{},...u}=bn(e,t),f=await Qa(t,u),d=_n(o),h=Hs(o),g=pn(o)==="y",{width:b,height:w}=s.floating;let x,y;d==="top"||d==="bottom"?(x=d,y=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,x=h==="end"?"top":"bottom");const m=w-f.top-f.bottom,v=b-f.left-f.right,_=Zn(w-f[x],m),S=Zn(b-f[y],v),R=!t.middlewareData.shift;let k=_,N=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=m),R&&!h){const I=Zt(f.left,0),J=Zt(f.right,0),H=Zt(f.top,0),K=Zt(f.bottom,0);g?N=b-2*(I!==0||J!==0?I+J:Zt(f.left,f.right)):k=w-2*(H!==0||K!==0?H+K:Zt(f.top,f.bottom))}await c({...t,availableWidth:N,availableHeight:k});const L=await a.getDimensions(l.floating);return b!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function zc(){return typeof window<"u"}function Ws(e){return Vx(e)?(e.nodeName||"").toLowerCase():"#document"}function nr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(Vx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Vx(e){return zc()?e instanceof Node||e instanceof nr(e).Node:!1}function Pr(e){return zc()?e instanceof Element||e instanceof nr(e).Element:!1}function Yr(e){return zc()?e instanceof HTMLElement||e instanceof nr(e).HTMLElement:!1}function kg(e){return!zc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nr(e).ShadowRoot}function di(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function aT(e){return["table","td","th"].includes(Ws(e))}function Uc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ep(e){const t=tp(),r=Pr(e)?Tr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function iT(e){let t=eo(e);for(;Yr(t)&&!Ts(t);){if(ep(t))return t;if(Uc(t))return null;t=eo(t)}return null}function tp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ts(e){return["html","body","#document"].includes(Ws(e))}function Tr(e){return nr(e).getComputedStyle(e)}function Bc(e){return Pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eo(e){if(Ws(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kg(e)&&e.host||Jr(e);return kg(t)?t.host:t}function Hx(e){const t=eo(e);return Ts(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&di(t)?t:Hx(t)}function Xa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=Hx(e),s=o===((n=e.ownerDocument)==null?void 0:n.body),a=nr(o);if(s){const l=gf(a);return t.concat(a,a.visualViewport||[],di(o)?o:[],l&&r?Xa(l):[])}return t.concat(o,Xa(o,[],r))}function gf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Wx(e){const t=Tr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Yr(e),s=o?e.offsetWidth:r,a=o?e.offsetHeight:n,l=Jl(r)!==s||Jl(n)!==a;return l&&(r=s,n=a),{width:r,height:n,$:l}}function rp(e){return Pr(e)?e:e.contextElement}function ws(e){const t=rp(e);if(!Yr(t))return Gr(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:s}=Wx(t);let a=(s?Jl(r.width):r.width)/n,l=(s?Jl(r.height):r.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const lT=Gr(0);function qx(e){const t=nr(e);return!tp()||!t.visualViewport?lT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cT(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==nr(e)?!1:t}function Po(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),s=rp(e);let a=Gr(1);t&&(n?Pr(n)&&(a=ws(n)):a=ws(e));const l=cT(s,r,n)?qx(s):Gr(0);let c=(o.left+l.x)/a.x,u=(o.top+l.y)/a.y,f=o.width/a.x,d=o.height/a.y;if(s){const h=nr(s),g=n&&Pr(n)?nr(n):n;let b=h,w=gf(b);for(;w&&n&&g!==b;){const x=ws(w),y=w.getBoundingClientRect(),m=Tr(w),v=y.left+(w.clientLeft+parseFloat(m.paddingLeft))*x.x,_=y.top+(w.clientTop+parseFloat(m.paddingTop))*x.y;c*=x.x,u*=x.y,f*=x.x,d*=x.y,c+=v,u+=_,b=nr(w),w=gf(b)}}return Xl({width:f,height:d,x:c,y:u})}function np(e,t){const r=Bc(e).scrollLeft;return t?t.left+r:Po(Jr(e)).left+r}function Gx(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:np(e,n)),s=n.top+t.scrollTop;return{x:o,y:s}}function uT(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const s=o==="fixed",a=Jr(n),l=t?Uc(t.floating):!1;if(n===a||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Gr(1);const f=Gr(0),d=Yr(n);if((d||!d&&!s)&&((Ws(n)!=="body"||di(a))&&(c=Bc(n)),Yr(n))){const g=Po(n);u=ws(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const h=a&&!d&&!s?Gx(a,c,!0):Gr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function dT(e){return Array.from(e.getClientRects())}function fT(e){const t=Jr(e),r=Bc(e),n=e.ownerDocument.body,o=Zt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Zt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+np(e);const l=-r.scrollTop;return Tr(n).direction==="rtl"&&(a+=Zt(t.clientWidth,n.clientWidth)-o),{width:o,height:s,x:a,y:l}}function hT(e,t){const r=nr(e),n=Jr(e),o=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,l=0,c=0;if(o){s=o.width,a=o.height;const u=tp();(!u||u&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:a,x:l,y:c}}function pT(e,t){const r=Po(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,s=Yr(e)?ws(e):Gr(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=o*s.x,u=n*s.y;return{width:a,height:l,x:c,y:u}}function Ng(e,t,r){let n;if(t==="viewport")n=hT(e,r);else if(t==="document")n=fT(Jr(e));else if(Pr(t))n=pT(t,r);else{const o=qx(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Xl(n)}function Kx(e,t){const r=eo(e);return r===t||!Pr(r)||Ts(r)?!1:Tr(r).position==="fixed"||Kx(r,t)}function mT(e,t){const r=t.get(e);if(r)return r;let n=Xa(e,[],!1).filter(l=>Pr(l)&&Ws(l)!=="body"),o=null;const s=Tr(e).position==="fixed";let a=s?eo(e):e;for(;Pr(a)&&!Ts(a);){const l=Tr(a),c=ep(a);!c&&l.position==="fixed"&&(o=null),(s?!c&&!o:!c&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||di(a)&&!c&&Kx(e,a))?n=n.filter(f=>f!==a):o=l,a=eo(a)}return t.set(e,n),n}function gT(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const a=[...r==="clippingAncestors"?Uc(t)?[]:mT(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,f)=>{const d=Ng(t,f,o);return u.top=Zt(d.top,u.top),u.right=Zn(d.right,u.right),u.bottom=Zn(d.bottom,u.bottom),u.left=Zt(d.left,u.left),u},Ng(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function vT(e){const{width:t,height:r}=Wx(e);return{width:t,height:r}}function yT(e,t,r){const n=Yr(t),o=Jr(t),s=r==="fixed",a=Po(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Gr(0);function u(){c.x=np(o)}if(n||!n&&!s)if((Ws(t)!=="body"||di(o))&&(l=Bc(t)),n){const g=Po(t,!0,s,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else o&&u();s&&!n&&o&&u();const f=o&&!n&&!s?Gx(o,l):Gr(0),d=a.left+l.scrollLeft-c.x-f.x,h=a.top+l.scrollTop-c.y-f.y;return{x:d,y:h,width:a.width,height:a.height}}function Ku(e){return Tr(e).position==="static"}function Rg(e,t){if(!Yr(e)||Tr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Jr(e)===r&&(r=r.ownerDocument.body),r}function Yx(e,t){const r=nr(e);if(Uc(e))return r;if(!Yr(e)){let o=eo(e);for(;o&&!Ts(o);){if(Pr(o)&&!Ku(o))return o;o=eo(o)}return r}let n=Rg(e,t);for(;n&&aT(n)&&Ku(n);)n=Rg(n,t);return n&&Ts(n)&&Ku(n)&&!ep(n)?r:n||iT(e)||r}const xT=async function(e){const t=this.getOffsetParent||Yx,r=this.getDimensions,n=await r(e.floating);return{reference:yT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function wT(e){return Tr(e).direction==="rtl"}const bT={convertOffsetParentRelativeRectToViewportRelativeRect:uT,getDocumentElement:Jr,getClippingRect:gT,getOffsetParent:Yx,getElementRects:xT,getClientRects:dT,getDimensions:vT,getScale:ws,isElement:Pr,isRTL:wT};function Jx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _T(e,t){let r=null,n;const o=Jr(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:g}=u;if(l||t(),!h||!g)return;const b=tl(d),w=tl(o.clientWidth-(f+h)),x=tl(o.clientHeight-(d+g)),y=tl(f),v={rootMargin:-b+"px "+-w+"px "+-x+"px "+-y+"px",threshold:Zt(0,Zn(1,c))||1};let _=!0;function S(R){const k=R[0].intersectionRatio;if(k!==c){if(!_)return a();k?a(!1,k):n=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!Jx(u,e.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(S,{...v,root:o.ownerDocument})}catch{r=new IntersectionObserver(S,v)}r.observe(e)}return a(!0),s}function ST(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=rp(e),f=o||s?[...u?Xa(u):[],...Xa(t)]:[];f.forEach(y=>{o&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const d=u&&l?_T(u,r):null;let h=-1,g=null;a&&(g=new ResizeObserver(y=>{let[m]=y;m&&m.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let b,w=c?Po(e):null;c&&x();function x(){const y=Po(e);w&&!Jx(w,y)&&r(),w=y,b=requestAnimationFrame(x)}return r(),()=>{var y;f.forEach(m=>{o&&m.removeEventListener("scroll",r),s&&m.removeEventListener("resize",r)}),d==null||d(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const CT=rT,ET=nT,jT=ZP,kT=sT,NT=eT,Pg=XP,RT=oT,PT=(e,t,r)=>{const n=new Map,o={platform:bT,...r},s={...o.platform,_c:n};return QP(e,t,{...o,platform:s})};var yl=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Zl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Zl(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const s=o[n];if(!(s==="_owner"&&e.$$typeof)&&!Zl(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Qx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tg(e,t){const r=Qx(e);return Math.round(t*r)/r}function Yu(e){const t=p.useRef(e);return yl(()=>{t.current=e}),t}function TT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=p.useState(n);Zl(h,n)||g(n);const[b,w]=p.useState(null),[x,y]=p.useState(null),m=p.useCallback(E=>{E!==R.current&&(R.current=E,w(E))},[]),v=p.useCallback(E=>{E!==k.current&&(k.current=E,y(E))},[]),_=s||b,S=a||x,R=p.useRef(null),k=p.useRef(null),N=p.useRef(f),L=c!=null,I=Yu(c),J=Yu(o),H=Yu(u),K=p.useCallback(()=>{if(!R.current||!k.current)return;const E={placement:t,strategy:r,middleware:h};J.current&&(E.platform=J.current),PT(R.current,k.current,E).then(P=>{const T={...P,isPositioned:H.current!==!1};z.current&&!Zl(N.current,T)&&(N.current=T,Is.flushSync(()=>{d(T)}))})},[h,t,r,J,H]);yl(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(E=>({...E,isPositioned:!1})))},[u]);const z=p.useRef(!1);yl(()=>(z.current=!0,()=>{z.current=!1}),[]),yl(()=>{if(_&&(R.current=_),S&&(k.current=S),_&&S){if(I.current)return I.current(_,S,K);K()}},[_,S,K,I,L]);const U=p.useMemo(()=>({reference:R,floating:k,setReference:m,setFloating:v}),[m,v]),M=p.useMemo(()=>({reference:_,floating:S}),[_,S]),q=p.useMemo(()=>{const E={position:r,left:0,top:0};if(!M.floating)return E;const P=Tg(M.floating,f.x),T=Tg(M.floating,f.y);return l?{...E,transform:"translate("+P+"px, "+T+"px)",...Qx(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:T}},[r,l,M.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:K,refs:U,elements:M,floatingStyles:q}),[f,K,U,M,q])}const AT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Pg({element:n.current,padding:o}).fn(r):{}:n?Pg({element:n,padding:o}).fn(r):{}}}},OT=(e,t)=>({...CT(e),options:[e,t]}),DT=(e,t)=>({...ET(e),options:[e,t]}),IT=(e,t)=>({...RT(e),options:[e,t]}),MT=(e,t)=>({...jT(e),options:[e,t]}),LT=(e,t)=>({...kT(e),options:[e,t]}),$T=(e,t)=>({...NT(e),options:[e,t]}),FT=(e,t)=>({...AT(e),options:[e,t]});var zT="Arrow",Xx=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...s}=e;return i.jsx(Oe.svg,{...s,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xx.displayName=zT;var UT=Xx;function BT(e){const[t,r]=p.useState(void 0);return At(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var op="Popper",[Zx,Vc]=Mo(op),[VT,ew]=Zx(op),tw=e=>{const{__scopePopper:t,children:r}=e,[n,o]=p.useState(null);return i.jsx(VT,{scope:t,anchor:n,onAnchorChange:o,children:r})};tw.displayName=op;var rw="PopperAnchor",nw=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,s=ew(rw,r),a=p.useRef(null),l=Be(t,a);return p.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:i.jsx(Oe.div,{...o,ref:l})});nw.displayName=rw;var sp="PopperContent",[HT,WT]=Zx(sp),ow=p.forwardRef((e,t)=>{var B,Y,ce,se,he,fe;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:b,...w}=e,x=ew(sp,r),[y,m]=p.useState(null),v=Be(t,Ne=>m(Ne)),[_,S]=p.useState(null),R=BT(_),k=(R==null?void 0:R.width)??0,N=(R==null?void 0:R.height)??0,L=n+(s!=="center"?"-"+s:""),I=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},J=Array.isArray(u)?u:[u],H=J.length>0,K={padding:I,boundary:J.filter(GT),altBoundary:H},{refs:z,floatingStyles:U,placement:M,isPositioned:q,middlewareData:E}=TT({strategy:"fixed",placement:L,whileElementsMounted:(...Ne)=>ST(...Ne,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[OT({mainAxis:o+N,alignmentAxis:a}),c&&DT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?IT():void 0,...K}),c&&MT({...K}),LT({...K,apply:({elements:Ne,rects:Re,availableWidth:F,availableHeight:W})=>{const{width:ne,height:xe}=Re.reference,le=Ne.floating.style;le.setProperty("--radix-popper-available-width",`${F}px`),le.setProperty("--radix-popper-available-height",`${W}px`),le.setProperty("--radix-popper-anchor-width",`${ne}px`),le.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),_&&FT({element:_,padding:l}),KT({arrowWidth:k,arrowHeight:N}),h&&$T({strategy:"referenceHidden",...K})]}),[P,T]=iw(M),A=Kr(b);At(()=>{q&&(A==null||A())},[q,A]);const V=(B=E.arrow)==null?void 0:B.x,D=(Y=E.arrow)==null?void 0:Y.y,O=((ce=E.arrow)==null?void 0:ce.centerOffset)!==0,[C,Z]=p.useState();return At(()=>{y&&Z(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:q?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:C,"--radix-popper-transform-origin":[(se=E.transformOrigin)==null?void 0:se.x,(he=E.transformOrigin)==null?void 0:he.y].join(" "),...((fe=E.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(HT,{scope:r,placedSide:P,onArrowChange:S,arrowX:V,arrowY:D,shouldHideArrow:O,children:i.jsx(Oe.div,{"data-side":P,"data-align":T,...w,ref:v,style:{...w.style,animation:q?void 0:"none"}})})})});ow.displayName=sp;var sw="PopperArrow",qT={top:"bottom",right:"left",bottom:"top",left:"right"},aw=p.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,s=WT(sw,n),a=qT[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(UT,{...o,ref:r,style:{...o.style,display:"block"}})})});aw.displayName=sw;function GT(e){return e!==null}var KT=e=>({name:"transformOrigin",options:e,fn(t){var x,y,m;const{placement:r,rects:n,middlewareData:o}=t,a=((x=o.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=iw(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((y=o.arrow)==null?void 0:y.x)??0)+l/2,g=(((m=o.arrow)==null?void 0:m.y)??0)+c/2;let b="",w="";return u==="bottom"?(b=a?d:`${h}px`,w=`${-c}px`):u==="top"?(b=a?d:`${h}px`,w=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,w=a?d:`${g}px`):u==="left"&&(b=`${n.floating.width+c}px`,w=a?d:`${g}px`),{data:{x:b,y:w}}}});function iw(e){const[t,r="center"]=e.split("-");return[t,r]}var lw=tw,cw=nw,uw=ow,dw=aw,Ju="rovingFocusGroup.onEntryFocus",YT={bubbles:!1,cancelable:!0},fi="RovingFocusGroup",[vf,fw,JT]=Yh(fi),[QT,hw]=Mo(fi,[JT]),[XT,ZT]=QT(fi),pw=p.forwardRef((e,t)=>i.jsx(vf.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(vf.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(e4,{...e,ref:t})})}));pw.displayName=fi;var e4=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=p.useRef(null),g=Be(t,h),b=Jh(s),[w,x]=Ya({prop:a,defaultProp:l??null,onChange:c,caller:fi}),[y,m]=p.useState(!1),v=Kr(u),_=fw(r),S=p.useRef(!1),[R,k]=p.useState(0);return p.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Ju,v),()=>N.removeEventListener(Ju,v)},[v]),i.jsx(XT,{scope:r,orientation:n,dir:b,loop:o,currentTabStopId:w,onItemFocus:p.useCallback(N=>x(N),[x]),onItemShiftTab:p.useCallback(()=>m(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:p.useCallback(()=>k(N=>N-1),[]),children:i.jsx(Oe.div,{tabIndex:y||R===0?-1:0,"data-orientation":n,...d,ref:g,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{S.current=!0}),onFocus:me(e.onFocus,N=>{const L=!S.current;if(N.target===N.currentTarget&&L&&!y){const I=new CustomEvent(Ju,YT);if(N.currentTarget.dispatchEvent(I),!I.defaultPrevented){const J=_().filter(M=>M.focusable),H=J.find(M=>M.active),K=J.find(M=>M.id===w),U=[H,K,...J].filter(Boolean).map(M=>M.ref.current);vw(U,f)}}S.current=!1}),onBlur:me(e.onBlur,()=>m(!1))})})}),mw="RovingFocusGroupItem",gw=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:s,children:a,...l}=e,c=hn(),u=s||c,f=ZT(mw,r),d=f.currentTabStopId===u,h=fw(r),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:w}=f;return p.useEffect(()=>{if(n)return g(),()=>b()},[n,g,b]),i.jsx(vf.ItemSlot,{scope:r,id:u,focusable:n,active:o,children:i.jsx(Oe.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:me(e.onMouseDown,x=>{n?f.onItemFocus(u):x.preventDefault()}),onFocus:me(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:me(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=n4(x,f.orientation,f.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const _=v.indexOf(x.currentTarget);v=f.loop?o4(v,_+1):v.slice(_+1)}setTimeout(()=>vw(v))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:w!=null}):a})})});gw.displayName=mw;var t4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function n4(e,t,r){const n=r4(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return t4[n]}function vw(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function o4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var s4=pw,a4=gw,yf=["Enter"," "],i4=["ArrowDown","PageUp","Home"],yw=["ArrowUp","PageDown","End"],l4=[...i4,...yw],c4={ltr:[...yf,"ArrowRight"],rtl:[...yf,"ArrowLeft"]},u4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hi="Menu",[Za,d4,f4]=Yh(hi),[Lo,xw]=Mo(hi,[f4,Vc,hw]),Hc=Vc(),ww=hw(),[h4,$o]=Lo(hi),[p4,pi]=Lo(hi),bw=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:s,modal:a=!0}=e,l=Hc(t),[c,u]=p.useState(null),f=p.useRef(!1),d=Kr(s),h=Jh(o);return p.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),i.jsx(lw,{...l,children:i.jsx(h4,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:i.jsx(p4,{scope:t,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:a,children:n})})})};bw.displayName=hi;var m4="MenuAnchor",ap=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Hc(r);return i.jsx(cw,{...o,...n,ref:t})});ap.displayName=m4;var ip="MenuPortal",[g4,_w]=Lo(ip,{forceMount:void 0}),Sw=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,s=$o(ip,t);return i.jsx(g4,{scope:t,forceMount:r,children:i.jsx(so,{present:r||s.open,children:i.jsx(Oc,{asChild:!0,container:o,children:n})})})};Sw.displayName=ip;var hr="MenuContent",[v4,lp]=Lo(hr),Cw=p.forwardRef((e,t)=>{const r=_w(hr,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,s=$o(hr,e.__scopeMenu),a=pi(hr,e.__scopeMenu);return i.jsx(Za.Provider,{scope:e.__scopeMenu,children:i.jsx(so,{present:n||s.open,children:i.jsx(Za.Slot,{scope:e.__scopeMenu,children:a.modal?i.jsx(y4,{...o,ref:t}):i.jsx(x4,{...o,ref:t})})})})}),y4=p.forwardRef((e,t)=>{const r=$o(hr,e.__scopeMenu),n=p.useRef(null),o=Be(t,n);return p.useEffect(()=>{const s=n.current;if(s)return Dh(s)},[]),i.jsx(cp,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),x4=p.forwardRef((e,t)=>{const r=$o(hr,e.__scopeMenu);return i.jsx(cp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),w4=No("MenuContent.ScrollLock"),cp=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g,disableOutsideScroll:b,...w}=e,x=$o(hr,r),y=pi(hr,r),m=Hc(r),v=ww(r),_=d4(r),[S,R]=p.useState(null),k=p.useRef(null),N=Be(t,k,x.onContentChange),L=p.useRef(0),I=p.useRef(""),J=p.useRef(0),H=p.useRef(null),K=p.useRef("right"),z=p.useRef(0),U=b?Ic:p.Fragment,M=b?{as:w4,allowPinchZoom:!0}:void 0,q=P=>{var B,Y;const T=I.current+P,A=_().filter(ce=>!ce.disabled),V=document.activeElement,D=(B=A.find(ce=>ce.ref.current===V))==null?void 0:B.textValue,O=A.map(ce=>ce.textValue),C=A4(O,T,D),Z=(Y=A.find(ce=>ce.textValue===C))==null?void 0:Y.ref.current;(function ce(se){I.current=se,window.clearTimeout(L.current),se!==""&&(L.current=window.setTimeout(()=>ce(""),1e3))})(T),Z&&setTimeout(()=>Z.focus())};p.useEffect(()=>()=>window.clearTimeout(L.current),[]),Oh();const E=p.useCallback(P=>{var A,V;return K.current===((A=H.current)==null?void 0:A.side)&&D4(P,(V=H.current)==null?void 0:V.area)},[]);return i.jsx(v4,{scope:r,searchRef:I,onItemEnter:p.useCallback(P=>{E(P)&&P.preventDefault()},[E]),onItemLeave:p.useCallback(P=>{var T;E(P)||((T=k.current)==null||T.focus(),R(null))},[E]),onTriggerLeave:p.useCallback(P=>{E(P)&&P.preventDefault()},[E]),pointerGraceTimerRef:J,onPointerGraceIntentChange:p.useCallback(P=>{H.current=P},[]),children:i.jsx(U,{...M,children:i.jsx(Ac,{asChild:!0,trapped:o,onMountAutoFocus:me(s,P=>{var T;P.preventDefault(),(T=k.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:i.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g,children:i.jsx(s4,{asChild:!0,...v,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:R,onEntryFocus:me(c,P=>{y.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(uw,{role:"menu","aria-orientation":"vertical","data-state":zw(x.open),"data-radix-menu-content":"",dir:y.dir,...m,...w,ref:N,style:{outline:"none",...w.style},onKeyDown:me(w.onKeyDown,P=>{const A=P.target.closest("[data-radix-menu-content]")===P.currentTarget,V=P.ctrlKey||P.altKey||P.metaKey,D=P.key.length===1;A&&(P.key==="Tab"&&P.preventDefault(),!V&&D&&q(P.key));const O=k.current;if(P.target!==O||!l4.includes(P.key))return;P.preventDefault();const Z=_().filter(B=>!B.disabled).map(B=>B.ref.current);yw.includes(P.key)&&Z.reverse(),P4(Z)}),onBlur:me(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(L.current),I.current="")}),onPointerMove:me(e.onPointerMove,ei(P=>{const T=P.target,A=z.current!==P.clientX;if(P.currentTarget.contains(T)&&A){const V=P.clientX>z.current?"right":"left";K.current=V,z.current=P.clientX}}))})})})})})})});Cw.displayName=hr;var b4="MenuGroup",up=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Oe.div,{role:"group",...n,ref:t})});up.displayName=b4;var _4="MenuLabel",Ew=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Oe.div,{...n,ref:t})});Ew.displayName=_4;var ec="MenuItem",Ag="menu.itemSelect",Wc=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,s=p.useRef(null),a=pi(ec,e.__scopeMenu),l=lp(ec,e.__scopeMenu),c=Be(t,s),u=p.useRef(!1),f=()=>{const d=s.current;if(!r&&d){const h=new CustomEvent(Ag,{bubbles:!0,cancelable:!0});d.addEventListener(Ag,g=>n==null?void 0:n(g),{once:!0}),F0(d,h),h.defaultPrevented?u.current=!1:a.onClose()}};return i.jsx(jw,{...o,ref:c,disabled:r,onClick:me(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:me(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:me(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||yf.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Wc.displayName=ec;var jw=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...s}=e,a=lp(ec,r),l=ww(r),c=p.useRef(null),u=Be(t,c),[f,d]=p.useState(!1),[h,g]=p.useState("");return p.useEffect(()=>{const b=c.current;b&&g((b.textContent??"").trim())},[s.children]),i.jsx(Za.ItemSlot,{scope:r,disabled:n,textValue:o??h,children:i.jsx(a4,{asChild:!0,...l,focusable:!n,children:i.jsx(Oe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:me(e.onPointerMove,ei(b=>{n?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,ei(b=>a.onItemLeave(b))),onFocus:me(e.onFocus,()=>d(!0)),onBlur:me(e.onBlur,()=>d(!1))})})})}),S4="MenuCheckboxItem",kw=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return i.jsx(Aw,{scope:e.__scopeMenu,checked:r,children:i.jsx(Wc,{role:"menuitemcheckbox","aria-checked":tc(r)?"mixed":r,...o,ref:t,"data-state":fp(r),onSelect:me(o.onSelect,()=>n==null?void 0:n(tc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});kw.displayName=S4;var Nw="MenuRadioGroup",[C4,E4]=Lo(Nw,{value:void 0,onValueChange:()=>{}}),Rw=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,s=Kr(n);return i.jsx(C4,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(up,{...o,ref:t})})});Rw.displayName=Nw;var Pw="MenuRadioItem",Tw=p.forwardRef((e,t)=>{const{value:r,...n}=e,o=E4(Pw,e.__scopeMenu),s=r===o.value;return i.jsx(Aw,{scope:e.__scopeMenu,checked:s,children:i.jsx(Wc,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":fp(s),onSelect:me(n.onSelect,()=>{var a;return(a=o.onValueChange)==null?void 0:a.call(o,r)},{checkForDefaultPrevented:!1})})})});Tw.displayName=Pw;var dp="MenuItemIndicator",[Aw,j4]=Lo(dp,{checked:!1}),Ow=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,s=j4(dp,r);return i.jsx(so,{present:n||tc(s.checked)||s.checked===!0,children:i.jsx(Oe.span,{...o,ref:t,"data-state":fp(s.checked)})})});Ow.displayName=dp;var k4="MenuSeparator",Dw=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Dw.displayName=k4;var N4="MenuArrow",Iw=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Hc(r);return i.jsx(dw,{...o,...n,ref:t})});Iw.displayName=N4;var R4="MenuSub",[KA,Mw]=Lo(R4),ma="MenuSubTrigger",Lw=p.forwardRef((e,t)=>{const r=$o(ma,e.__scopeMenu),n=pi(ma,e.__scopeMenu),o=Mw(ma,e.__scopeMenu),s=lp(ma,e.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>f,[f]),p.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),i.jsx(ap,{asChild:!0,...u,children:i.jsx(jw,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":zw(r.open),...e,ref:Pc(t,o.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,ei(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:me(e.onPointerLeave,ei(d=>{var g,b;f();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const w=(b=r.content)==null?void 0:b.dataset.side,x=w==="right",y=x?-5:5,m=h[x?"left":"right"],v=h[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:m,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:m,y:h.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,d=>{var g;const h=s.searchRef.current!=="";e.disabled||h&&d.key===" "||c4[n.dir].includes(d.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),d.preventDefault())})})})});Lw.displayName=ma;var $w="MenuSubContent",Fw=p.forwardRef((e,t)=>{const r=_w(hr,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,s=$o(hr,e.__scopeMenu),a=pi(hr,e.__scopeMenu),l=Mw($w,e.__scopeMenu),c=p.useRef(null),u=Be(t,c);return i.jsx(Za.Provider,{scope:e.__scopeMenu,children:i.jsx(so,{present:n||s.open,children:i.jsx(Za.Slot,{scope:e.__scopeMenu,children:i.jsx(cp,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;a.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:me(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:me(e.onKeyDown,f=>{var g;const d=f.currentTarget.contains(f.target),h=u4[a.dir].includes(f.key);d&&h&&(s.onOpenChange(!1),(g=l.trigger)==null||g.focus(),f.preventDefault())})})})})})});Fw.displayName=$w;function zw(e){return e?"open":"closed"}function tc(e){return e==="indeterminate"}function fp(e){return tc(e)?"indeterminate":e?"checked":"unchecked"}function P4(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function T4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function A4(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=T4(e,Math.max(s,0));o.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function O4(e,t){const{x:r,y:n}=e;let o=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(o=!o)}return o}function D4(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return O4(r,t)}function ei(e){return t=>t.pointerType==="mouse"?e(t):void 0}var I4=bw,M4=ap,L4=Sw,$4=Cw,F4=up,z4=Ew,U4=Wc,B4=kw,V4=Rw,H4=Tw,W4=Ow,q4=Dw,G4=Iw,K4=Lw,Y4=Fw,qc="DropdownMenu",[J4,YA]=Mo(qc,[xw]),Ft=xw(),[Q4,Uw]=J4(qc),Bw=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,c=Ft(t),u=p.useRef(null),[f,d]=Ya({prop:o,defaultProp:s??!1,onChange:a,caller:qc});return i.jsx(Q4,{scope:t,triggerId:hn(),triggerRef:u,contentId:hn(),open:f,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:l,children:i.jsx(I4,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};Bw.displayName=qc;var Vw="DropdownMenuTrigger",Hw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,s=Uw(Vw,r),a=Ft(r);return i.jsx(M4,{asChild:!0,...a,children:i.jsx(Oe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:Pc(t,s.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Hw.displayName=Vw;var X4="DropdownMenuPortal",Ww=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ft(t);return i.jsx(L4,{...n,...r})};Ww.displayName=X4;var qw="DropdownMenuContent",Gw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Uw(qw,r),s=Ft(r),a=p.useRef(!1);return i.jsx($4,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...n,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{var c;a.current||(c=o.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!o.modal||f)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Gw.displayName=qw;var Z4="DropdownMenuGroup",e5=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(F4,{...o,...n,ref:t})});e5.displayName=Z4;var t5="DropdownMenuLabel",Kw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(z4,{...o,...n,ref:t})});Kw.displayName=t5;var r5="DropdownMenuItem",Yw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(U4,{...o,...n,ref:t})});Yw.displayName=r5;var n5="DropdownMenuCheckboxItem",Jw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(B4,{...o,...n,ref:t})});Jw.displayName=n5;var o5="DropdownMenuRadioGroup",s5=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(V4,{...o,...n,ref:t})});s5.displayName=o5;var a5="DropdownMenuRadioItem",Qw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(H4,{...o,...n,ref:t})});Qw.displayName=a5;var i5="DropdownMenuItemIndicator",Xw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(W4,{...o,...n,ref:t})});Xw.displayName=i5;var l5="DropdownMenuSeparator",Zw=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(q4,{...o,...n,ref:t})});Zw.displayName=l5;var c5="DropdownMenuArrow",u5=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(G4,{...o,...n,ref:t})});u5.displayName=c5;var d5="DropdownMenuSubTrigger",eb=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(K4,{...o,...n,ref:t})});eb.displayName=d5;var f5="DropdownMenuSubContent",tb=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ft(r);return i.jsx(Y4,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tb.displayName=f5;var h5=Bw,p5=Hw,m5=Ww,rb=Gw,nb=Kw,ob=Yw,sb=Jw,ab=Qw,ib=Xw,lb=Zw,cb=eb,ub=tb;const db=h5,fb=p5,g5=p.forwardRef(({className:e,inset:t,children:r,...n},o)=>i.jsxs(cb,{ref:o,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(wN,{className:"ml-auto h-4 w-4"})]}));g5.displayName=cb.displayName;const v5=p.forwardRef(({className:e,...t},r)=>i.jsx(ub,{ref:r,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));v5.displayName=ub.displayName;const hp=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(m5,{children:i.jsx(rb,{ref:n,sideOffset:t,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));hp.displayName=rb.displayName;const Er=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(ob,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Er.displayName=ob.displayName;const y5=p.forwardRef(({className:e,children:t,checked:r,...n},o)=>i.jsxs(sb,{ref:o,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(ib,{children:i.jsx($h,{className:"h-4 w-4"})})}),t]}));y5.displayName=sb.displayName;const x5=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(ab,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(ib,{children:i.jsx(EN,{className:"h-2 w-2 fill-current"})})}),t]}));x5.displayName=ab.displayName;const w5=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(nb,{ref:n,className:Me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));w5.displayName=nb.displayName;const b5=p.forwardRef(({className:e,...t},r)=>i.jsx(lb,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));b5.displayName=lb.displayName;function _5({onEdit:e,onRenew:t,onSendCredentials:r,onSendReminder:n,onDelete:o}){return i.jsxs(db,{children:[i.jsx(fb,{asChild:!0,children:i.jsx(it,{variant:"ghost",className:"h-8 w-8 p-0",children:i.jsx(wx,{className:"h-4 w-4"})})}),i.jsxs(hp,{align:"end",className:"w-[160px]",children:[i.jsxs(Er,{onClick:e,className:"cursor-pointer",children:[i.jsx($c,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Editar"})]}),i.jsxs(Er,{onClick:t,className:"cursor-pointer",children:[i.jsx(_x,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Renovar"})]}),i.jsxs(Er,{onClick:r,className:"cursor-pointer",children:[i.jsx(zh,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Enviar Credenciales"})]}),i.jsxs(Er,{onClick:n,className:"cursor-pointer",children:[i.jsx(vx,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Enviar Recordatorio"})]}),i.jsxs(Er,{onClick:o,className:"cursor-pointer text-red-500 focus:text-red-500 focus:bg-red-500/10",children:[i.jsx(ui,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Eliminar"})]})]})]})}function pp({isOpen:e,onClose:t,onSelect:r,type:n}){const{user:o}=Dr(),[s,a]=p.useState([]),[l,c]=p.useState(!0);return p.useEffect(()=>{e&&(c(!0),er.getAll().then(u=>{const f=u.filter(d=>d.category===n);a(f)}).catch(u=>{console.error("Error al obtener plantillas:",u)}).finally(()=>c(!1)))},[e,n]),e?i.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center",children:i.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 shadow-xl p-6 w-full max-w-md",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:["Selecciona plantilla de"," ",n==="credenciales"?"credenciales":"recordatorio"]}),l?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando plantillas..."}):s.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay plantillas disponibles."}):i.jsx("ul",{className:"space-y-2 mb-4 max-h-96 overflow-y-auto",children:s.map(u=>i.jsx(S5,{template:u,onSelect:r,onClose:t},u.id))}),i.jsx("div",{className:"flex justify-end",children:i.jsx(it,{variant:"outline",onClick:t,children:"Cancelar"})})]})}):null}function S5({template:e,onSelect:t,onClose:r}){const n=s=>{switch(s){case"credenciales":return i.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-500/20 text-green-400 rounded-full",children:"Credenciales"});case"recordatorio":return i.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-500/20 text-yellow-400 rounded-full",children:"Recordatorio"});default:return null}},o=e.name==="Mensaje de Bienvenida"||e.name==="Recordatorio de Vencimiento";return i.jsxs("li",{className:"border border-border/10 rounded px-3 py-2 flex items-center justify-between bg-background/60",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-sm text-foreground",children:e.name}),n(e.category),o&&i.jsx("span",{className:"px-2 py-0.5 text-xs bg-purple-500/20 text-purple-400 rounded-full",children:"Por defecto"})]}),i.jsx(it,{size:"sm",onClick:()=>{t(e),r()},children:"Usar"})]})}const C5=e=>{switch(e){case"active":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"inactive":case"expired":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},E5=e=>{switch(e){case"active":return"Activo";case"pending":return"Pendiente";case"inactive":return"Inactivo";case"expired":return"Vencido";default:return"Desconocido"}},j5=e=>{const t=new Date,r=new Date;r.setDate(t.getDate()+30);const n=e.length,o=e.filter(c=>c.status==="active").length,s=e.filter(c=>{if(!c.plan_end_date)return!1;const u=new Date(c.plan_end_date);return u>t&&u<=r&&c.status==="active"}).length,a=e.filter(c=>c.status==="expired").length,l=e.filter(c=>{var u;return(u=c.plan_type)==null?void 0:u.toLowerCase().includes("demo")}).length;return[{title:"Total Revendedores",value:n.toString(),Icon:qr,color:"text-blue-400"},{title:"Activos",value:o.toString(),Icon:Fc,color:"text-green-400"},{title:"Prximos a Vencer",value:s.toString(),Icon:wn,color:"text-yellow-400"},{title:"Vencidos",value:a.toString(),Icon:Bh,color:"text-red-400"},{title:"Cuentas Demo",value:l.toString(),Icon:$N,color:"text-purple-400"}]},k5=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState([]),[o,s]=p.useState([]),[a,l]=p.useState(!0),[c,u]=p.useState(null),[f,d]=p.useState(!1),[h,g]=p.useState(null),[b,w]=p.useState(""),[x,y]=p.useState("all"),[m,v]=p.useState(!1),[_,S]=p.useState(null),[R,k]=p.useState(null),N=p.useMemo(()=>j5(r),[r]),L=p.useCallback(async()=>{try{l(!0);const E=await an.getAll();n(Array.isArray(E)?E:[])}catch(E){console.error("Error fetching resellers:",E),te.error("Error al cargar los revendedores"),n([])}finally{l(!1)}},[]),I=p.useCallback(()=>{let E=[...r];b&&(E=E.filter(P=>{var T,A;return((T=P.full_name)==null?void 0:T.toLowerCase().includes(b.toLowerCase()))||((A=P.email)==null?void 0:A.toLowerCase().includes(b.toLowerCase()))})),x!=="all"&&(E=E.filter(P=>P.status===x)),s(E)},[r,b,x]),J=p.useCallback(async()=>{await L()},[L]);p.useEffect(()=>{J()},[]),p.useEffect(()=>{I()},[r,b,x]),p.useEffect(()=>{const E=re.channel("custom-resellers-channel").on("postgres_changes",{event:"*",schema:"public",table:"resellers"},P=>{console.log("Cambio en tiempo real recibido en la tabla resellers:",P),te.info("Actualizando lista de revendedores...",{duration:2e3}),L()}).subscribe((P,T)=>{P==="SUBSCRIBED"&&console.log("Conectado a Supabase Realtime para revendedores!"),P==="CHANNEL_ERROR"&&(console.error("Error en el canal de Supabase Realtime para revendedores:",T),te.error("Error en la conexin de tiempo real para revendedores."))});return()=>{re.removeChannel(E),console.log("Desconectado de Supabase Realtime para revendedores.")}},[L]);const H=p.useCallback(async E=>{try{await an.delete(E),te.success("Revendedor eliminado exitosamente"),L()}catch(P){console.error("Error deleting reseller:",P);const T=P instanceof Error?P.message:"Error desconocido";te.error(`Error al eliminar el revendedor: ${T}`)}},[L]),K=p.useCallback(E=>{k(E),S("credenciales"),v(!0)},[]),z=p.useCallback(E=>{k(E),S("recordatorio"),v(!0)},[]),U=p.useCallback(async E=>{try{if(c){const P={full_name:E.fullName,email:E.email,phone:E.phone,plan_type:E.plan,plan_end_date:E.endDate};await an.update(c.id,P),te.success("Revendedor actualizado exitosamente")}else await an.createReseller({full_name:E.fullName,email:E.email,phone:E.phone,plan_type:E.plan,plan_end_date:E.endDate}),te.success("Revendedor agregado exitosamente");t(!1),u(null),L()}catch(P){console.error("Error saving reseller:",P);const T=P instanceof Error?P.message:"Error desconocido";te.error(`Error al guardar el revendedor: ${T}`)}},[c,L]),M=p.useCallback(E=>{u(E),t(!0)},[]),q=p.useCallback(E=>{g(E),d(!0)},[]);return i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Gestin de Revendedores"}),i.jsx("div",{className:"grid grid-cols-5 gap-4 mb-6",children:N.map((E,P)=>i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-muted-foreground",children:E.title}),i.jsx("p",{className:`text-2xl font-semibold mt-1 ${E.color}`,children:E.value})]}),i.jsx(E.Icon,{className:`w-5 h-5 ${E.color}`})]},P))}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:x,onChange:E=>y(E.target.value),className:"bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"active",children:"Activos"}),i.jsx("option",{value:"pending",children:"Pendientes"}),i.jsx("option",{value:"inactive",children:"Inactivos"}),i.jsx("option",{value:"expired",children:"Vencidos"})]}),i.jsx("input",{type:"text",placeholder:"Buscar revendedor...",value:b,onChange:E=>w(E.target.value),className:"bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm w-[250px]"})]}),i.jsxs("button",{onClick:()=>t(!0),className:"bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",children:[i.jsx(Fh,{className:"w-4 h-4"}),i.jsx("span",{children:"Nuevo Revendedor"})]})]}),i.jsx("div",{className:"overflow-x-auto bg-[#191c23] rounded-xl border border-border/10",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted/50 border-b border-border/10 text-left",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-4 font-medium",children:"Nombre"}),i.jsx("th",{className:"p-4 font-medium",children:"Email"}),i.jsx("th",{className:"p-4 font-medium",children:"Telfono"}),i.jsx("th",{className:"p-4 font-medium",children:"Plan"}),i.jsx("th",{className:"p-4 font-medium",children:"Fin Suscripcin"}),i.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Clientes"}),i.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Estado"}),i.jsx("th",{className:"text-right p-4 text-muted-foreground font-medium",children:"Acciones"})]})}),i.jsx("tbody",{className:"text-muted-foreground",children:a?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"p-4 text-center",children:i.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Cargando revendedores..."})]})})}):o.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"p-4 text-center",children:"No se encontraron revendedores."})}):o.map((E,P)=>i.jsxs("tr",{className:`border-b border-border/10 hover:bg-muted/10 transition-colors ${P%2===0?"bg-transparent":"bg-muted/5"}`,children:[i.jsx("td",{className:"p-4",children:E.full_name}),i.jsx("td",{className:"p-4",children:E.email}),i.jsx("td",{className:"p-4",children:E.phone}),i.jsx("td",{className:"p-4",children:E.plan_type}),i.jsx("td",{className:"p-4",children:E.plan_end_date?new Date(E.plan_end_date).toLocaleDateString():""}),i.jsx("td",{className:"p-4",children:E.clients_count??0}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${C5(E.status)}`,children:E5(E.status)})}),i.jsx("td",{className:"p-4 text-right",children:i.jsx(_5,{onEdit:()=>M(E),onRenew:()=>q(E),onSendCredentials:()=>K(E),onSendReminder:()=>z(E),onDelete:()=>H(E.id)})})]},E.id))})]})}),i.jsx(pp,{isOpen:m,type:_,onClose:()=>v(!1),onSelect:async E=>{if(!R)return;const P=await an.getById(R.id);if(!P)throw new Error("Revendedor no encontrado o error al obtener datos.");let T="";if(_==="credenciales")T=Ps(E.content,{cliente:P.full_name||"",plataforma:P.plan_type||"",usuario:P.email||"",contrasea:P.password||"",fecha_fin:P.plan_end_date?new Date(P.plan_end_date).toLocaleDateString():""});else{if(!P.plan_end_date)throw new Error("Fecha de fin de plan no disponible.");const A=new Date(P.plan_end_date),V=new Date,D=Math.ceil((A.getTime()-V.getTime())/(1e3*60*60*24));T=Ps(E.content,{cliente:P.full_name||"",plataforma:P.plan_type||"",dias_restantes:`${D} das`,fecha_fin:A.toLocaleDateString()})}if(T.includes("{"))throw new Error("Faltan datos para completar el mensaje. Revisa los datos del revendedor.");Ja(R.phone,T),te.success("Mensaje enviado por WhatsApp")}}),i.jsx(OP,{isOpen:e,onClose:()=>{t(!1),u(null)},onSubmit:U,reseller:c?{id:c.id,status:c.status,fullName:c.full_name,email:c.email,phone:c.phone,plan:c.plan_type,endDate:c.plan_end_date}:void 0}),i.jsx(Kh,{isOpen:f,onClose:()=>{d(!1),g(null)},onSubmit:async E=>{try{if(!h)return;await an.update(h.id,{plan_type:E}),await UP.renew(h.id,E),te.success("Plan renovado exitosamente"),d(!1),g(null),L()}catch(P){console.error("Error al renovar plan:",P),te.error("Error al renovar el plan")}}})]})};function N5({onEdit:e,onRenew:t,onSendCredentials:r,onSendReminder:n,onDelete:o}){return i.jsxs(db,{children:[i.jsx(fb,{asChild:!0,children:i.jsx(it,{variant:"ghost",className:"h-8 w-8 p-0",children:i.jsx(wx,{className:"h-4 w-4"})})}),i.jsxs(hp,{align:"end",className:"w-[160px]",children:[i.jsxs(Er,{onClick:e,className:"cursor-pointer",children:[i.jsx($c,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Editar Cliente"})]}),i.jsxs(Er,{onClick:t,className:"cursor-pointer",children:[i.jsx(_x,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Renovar Plan"})]}),i.jsxs(Er,{onClick:r,className:"cursor-pointer",children:[i.jsx(zh,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Enviar Credenciales"})]}),i.jsxs(Er,{onClick:n,className:"cursor-pointer",children:[i.jsx(vx,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Enviar Recordatorio"})]}),i.jsxs(Er,{onClick:o,className:"cursor-pointer text-red-500 focus:text-red-500 focus:bg-red-500/10",children:[i.jsx(ui,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Eliminar Cliente"})]})]})]})}const hb=({clients:e,isLoading:t,onEdit:r,onDelete:n,onRenew:o,onSendCredentials:s,onSendReminder:a})=>{if(t)return i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{children:"Cargando clientes..."})]});if(!e.length)return i.jsxs("div",{className:"text-center py-12 text-muted-foreground border border-dashed border-border/50 rounded-lg",children:[i.jsx("p",{className:"text-base",children:"No hay clientes registrados."}),i.jsx("p",{className:"text-sm mt-1",children:"Agrega un nuevo cliente para comenzar."})]});const l=f=>f?new Date(f).toLocaleDateString():"",c=f=>{switch(f){case"active":return"bg-green-500/20 text-green-500";case"expiring":return"bg-yellow-500/20 text-yellow-500";case"expired":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},u=f=>{switch(f){case"active":return"ACTIVO";case"expiring":return"POR VENCER";case"expired":return"VENCIDO";default:return"DESCONOCIDO"}};return i.jsx("div",{className:"overflow-x-auto rounded-lg border border-border/10 bg-card shadow-sm",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-muted/50 border-b border-border/10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 text-left font-medium",children:"Cliente"}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Whatsapp"}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Plataforma"}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Plan"}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Disp."}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Usuario"}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Contrasea"}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Fecha Fin"}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Das"}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Estado"}),i.jsx("th",{className:"p-3 text-left font-medium",children:"Precio"}),i.jsx("th",{className:"p-3 text-center font-medium",children:"Acciones"})]})}),i.jsx("tbody",{children:e.map((f,d)=>i.jsxs("tr",{className:`border-b border-border/10 hover:bg-muted/10 transition-colors ${d%2===0?"bg-transparent":"bg-muted/5"}`,children:[i.jsx("td",{className:"p-3 font-medium",children:f.cliente}),i.jsx("td",{className:"p-3",children:f.whatsapp}),i.jsx("td",{className:"p-3",children:f.plataforma}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs font-medium",children:f.plan})}),i.jsx("td",{className:"p-3 text-center",children:f.dispositivos}),i.jsx("td",{className:"p-3",children:f.usuario}),i.jsx("td",{className:"p-3",children:f.contrasea}),i.jsx("td",{className:"p-3",children:l(f.fecha_fin)}),i.jsx("td",{className:"p-3 text-center",children:i.jsx("span",{className:f.dias_restantes>10?"text-green-500 font-medium":f.dias_restantes>0?"text-yellow-500 font-medium":"text-red-500 font-medium",children:f.dias_restantes})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`${c(f.status)} px-2 py-1 rounded text-xs font-medium`,children:u(f.status)})}),i.jsxs("td",{className:"p-3 text-right",children:["$",f.precio.toFixed(2)]}),i.jsx("td",{className:"p-2 text-right",children:i.jsx(N5,{onEdit:()=>r&&r(f),onRenew:()=>o&&o(f),onSendCredentials:()=>s&&s(f),onSendReminder:()=>a&&a(f),onDelete:()=>{window.confirm(`Ests seguro de eliminar al cliente ${f.cliente}?`)&&n&&n(f.id)}})})]},f.id))})]})})},pb=({isOpen:e,onClose:t,onSubmit:r,client:n})=>{const[o,s]=p.useState(()=>{const u=mo(new Date),f="1 Mes",d=mo(pa(f));return n?{cliente:n.cliente,whatsapp:n.whatsapp,phoneCountry:"co",plataforma:n.plataforma,dispositivos:n.dispositivos,precio:n.precio,usuario:n.usuario,contrasea:n.contrasea,fecha_inicio:n.fecha_inicio,fecha_fin:n.fecha_fin,status:n.status,observacion:n.observacion||"",plan:n.plan||f}:{cliente:"",whatsapp:"",phoneCountry:"co",plataforma:"",dispositivos:1,precio:0,usuario:"",contrasea:"",fecha_inicio:u,fecha_fin:d,status:"active",observacion:"",plan:f}});p.useEffect(()=>{if(n){const c=n.plan||"1 Mes",u=n.fecha_fin||mo(pa(c));s({cliente:n.cliente,whatsapp:n.whatsapp,phoneCountry:"co",plataforma:n.plataforma,dispositivos:n.dispositivos,precio:n.precio,usuario:n.usuario,contrasea:n.contrasea,fecha_inicio:n.fecha_inicio,fecha_fin:u,status:n.status,observacion:n.observacion||"",plan:c})}else{const u=mo(new Date),f="1 Mes",d=mo(pa(f));s({cliente:"",whatsapp:"",phoneCountry:"co",plataforma:"",dispositivos:1,precio:0,usuario:"",contrasea:"",fecha_inicio:u,fecha_fin:d,status:"active",observacion:"",plan:f})}},[n]);const a=c=>{c.preventDefault();const{phoneCountry:u,...f}=o;r(f)};if(!e)return null;const l=!!n;return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:i.jsx("div",{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]",children:i.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 w-[500px] shadow-xl",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border/10",children:[i.jsx("h2",{className:"text-lg font-semibold",children:l?"Editar Cliente":"Nuevo Cliente"}),i.jsx("button",{onClick:t,className:"text-muted-foreground hover:text-white transition-colors",children:i.jsx(Us,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:a,className:"p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Nombre del Cliente"}),i.jsx("input",{type:"text",value:o.cliente,onChange:c=>s({...o,cliente:c.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Nombre completo del cliente",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"WhatsApp"}),i.jsx(Ux,{country:o.phoneCountry,value:o.whatsapp,onChange:(c,u)=>{s(f=>({...f,whatsapp:c,phoneCountry:u.countryCode||"co"}))},inputProps:{required:!0},containerClass:"phone-input-container",inputClass:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",buttonClass:"phone-input-button",dropdownClass:"phone-input-dropdown",specialLabel:"",preferredCountries:["co","mx","pe","ar","cl","ec","ve"],enableSearch:!0,searchPlaceholder:"Buscar pas..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Plataforma"}),i.jsx("input",{type:"text",value:o.plataforma,onChange:c=>s({...o,plataforma:c.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Tipo de plataforma",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Dispositivos"}),i.jsx("input",{type:"number",min:1,value:o.dispositivos,onChange:c=>s({...o,dispositivos:parseInt(c.target.value)}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Precio"}),i.jsxs("div",{className:"relative",children:[i.jsx(NN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx("input",{type:"number",min:0,step:"0.01",value:o.precio,onChange:c=>s({...o,precio:parseFloat(c.target.value)}),className:"w-full bg-background/50 border border-border/10 rounded-lg pl-9 pr-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",required:!0})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Usuario"}),i.jsx("input",{type:"text",value:o.usuario,onChange:c=>s({...o,usuario:c.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Nombre de usuario",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Contrasea"}),i.jsx("input",{type:"text",value:o.contrasea,onChange:c=>s({...o,contrasea:c.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Contrasea",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Plan de Suscripcin"}),i.jsxs("select",{value:o.plan,onChange:c=>{const u=c.target.value,f=mo(pa(u));s(d=>({...d,plan:u,fecha_fin:f}))},className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm [&>option]:bg-[#0e121d]",required:!0,children:[i.jsx("option",{children:"1 Mes"}),i.jsx("option",{children:"3 Meses"}),i.jsx("option",{children:"6 Meses"}),i.jsx("option",{children:"12 Meses"}),i.jsx("option",{children:"Demo (24 Hrs)"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Fecha Inicio"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:o.fecha_inicio,onChange:c=>s({...o,fecha_inicio:c.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",required:!0}),i.jsx(af,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#00A8FF] pointer-events-none"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Fecha Fin"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:o.fecha_fin,onChange:c=>s({...o,fecha_fin:c.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",required:!0}),i.jsx(af,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#00A8FF] pointer-events-none"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Estado"}),i.jsxs("select",{value:o.status,onChange:c=>s({...o,status:c.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm [&>option]:bg-[#0e121d] hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",children:[i.jsx("option",{value:"active",children:"Activo"}),i.jsx("option",{value:"expiring",children:"Por vencer"}),i.jsx("option",{value:"expired",children:"Vencido"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Observacin"}),i.jsx("input",{type:"text",value:o.observacion||"",onChange:c=>s({...o,observacion:c.target.value}),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm hover:border-[#a855f7]/50 focus:border-[#a855f7]/50 transition-colors",placeholder:"Observacin (opcional)"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border/10",children:[i.jsx("button",{type:"button",onClick:t,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-border/10 hover:bg-[#a855f7]/20 transition-colors",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:l?"Guardar Cambios":"Agregar Cliente"})]})]})]})})})},Qu=e=>{const t=new Date;t.setHours(0,0,0,0);const r=new Date(e);r.setHours(0,0,0,0);const n=r.getTime()-t.getTime();return Math.ceil(n/(1e3*60*60*24))},Xu=e=>e<=0?"expired":e<=5?"expiring":"active",ur={async getAll(){try{const{data:e,error:t}=await re.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw t;return e.map(r=>{const n=Qu(r.fecha_fin),o=Xu(n);return{...r,dias_restantes:n,status:o}})}catch(e){throw console.error("Error al obtener clientes:",e),e}},async create(e){try{const t=await ds.getCurrentUser(),r=e.plan||"1 Mes",n=(t==null?void 0:t.role)==="reseller"?t.id:null,{error:o}=await re.from("clients").insert([{...e,plan:r,owner_id:n,created_at:new Date().toISOString()}]);if(o)throw o}catch(t){throw console.error("Error al crear cliente:",t),t}},async update(e,t){try{const r={...t};if(t.plan&&!t.fecha_fin){const o=pa(t.plan);r.fecha_fin=mo(o)}const{error:n}=await re.from("clients").update(r).eq("id",e);if(n)throw n}catch(r){throw console.error("Error al actualizar cliente:",r),r}},async delete(e){try{const{error:t}=await re.from("clients").delete().eq("id",e);if(t)throw t}catch(t){throw console.error("Error al eliminar cliente:",t),t}},async getClientsByReseller(e){try{const{data:t,error:r}=await re.from("clients").select("*").eq("owner_id",e).order("created_at",{ascending:!1});if(r)throw r;return t.map(n=>{const o=Qu(n.fecha_fin),s=Xu(o);return{...n,dias_restantes:o,status:s}})}catch(t){throw console.error("Error al obtener clientes del revendedor:",t),t}},async getClientsByOwner(e){try{const{data:t,error:r}=await re.from("clients").select("*").eq("owner_id",e).order("created_at",{ascending:!1});if(r)throw r;return t.map(n=>{const o=Qu(n.fecha_fin),s=Xu(o);return{...n,dias_restantes:o,status:s}})}catch(t){throw console.error("Error al obtener clientes por propietario:",t),t}}},xf=["cliente","whatsapp","plataforma","dispositivos","precio","usuario","contrasea","fecha_inicio","fecha_fin","plan","observacion"],mb={cliente:"Cliente",whatsapp:"WhatsApp",plataforma:"Plataforma",dispositivos:"Dispositivos",precio:"Precio",usuario:"Usuario",contrasea:"Contrasea",fecha_inicio:"Fecha Inicio",fecha_fin:"Fecha Fin",plan:"Plan",observacion:"Observacin"},gb=(e,t)=>{const r=xf.map(l=>mb[l]),n=e.map(l=>xf.map(c=>{const u=l[c];if(u==null)return"";const f=String(u);return f.includes(",")||f.includes('"')||f.includes(`
`)?`"${f.replace(/"/g,'""')}"`:f})),o=[r,...n].map(l=>l.join(",")).join(`
`),s=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");if(a.download!==void 0){const l=URL.createObjectURL(s);a.setAttribute("href",l),a.setAttribute("download",t||`clientes_${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}},R5=e=>new Promise((t,r)=>{try{const n=e.trim().split(`
`);if(n.length<2){r(new Error("El archivo CSV debe tener al menos una fila de datos adems del header"));return}const o=n[0],s=Og(o),a={};Object.entries(mb).forEach(([d,h])=>{a[h.toLowerCase()]=d}),xf.forEach(d=>{a[d.toLowerCase()]=d});const l=s.map(d=>a[d.toLowerCase().trim()]||null),u=["cliente","whatsapp","plataforma","usuario","contrasea"].filter(d=>!l.includes(d));if(u.length>0){r(new Error(`Campos requeridos faltantes en el CSV: ${u.join(", ")}`));return}const f=[];for(let d=1;d<n.length;d++)if(n[d].trim()!=="")try{const h=Og(n[d]);if(h.length!==s.length){console.warn(`Lnea ${d+1}: Nmero de columnas no coincide con el header`);continue}const g={plan:"1 Mes",dispositivos:1,precio:0,fecha_inicio:new Date().toISOString().split("T")[0],fecha_fin:"",status:"active",observacion:""};if(l.forEach((b,w)=>{if(b&&h[w]!==void 0){let x=h[w].trim();b==="dispositivos"?g[b]=parseInt(x)||1:b==="precio"?g[b]=parseFloat(x)||0:b==="fecha_inicio"||b==="fecha_fin"?x&&/^\d{4}-\d{2}-\d{2}$/.test(x)&&(g[b]=x):g[b]=x}}),!g.cliente||!g.whatsapp||!g.plataforma||!g.usuario||!g.contrasea){console.warn(`Lnea ${d+1}: Campos requeridos faltantes, saltando...`);continue}f.push(g)}catch(h){console.warn(`Error parseando lnea ${d+1}:`,h);continue}if(f.length===0){r(new Error("No se encontraron datos vlidos en el archivo CSV"));return}t(f)}catch(n){r(n)}});function Og(e){const t=[];let r="",n=!1,o=0;for(;o<e.length;){const s=e[o];s==='"'?n&&e[o+1]==='"'?(r+='"',o+=2):(n=!n,o++):s===","&&!n?(t.push(r),r="",o++):(r+=s,o++)}return t.push(r),t}const P5=e=>new Promise((t,r)=>{if(!e.name.toLowerCase().endsWith(".csv")){r(new Error("El archivo debe tener extensin .csv"));return}if(e.size>5*1024*1024){r(new Error("El archivo es demasiado grande (mximo 5MB)"));return}const n=new FileReader;n.onload=o=>{var a;const s=(a=o.target)==null?void 0:a.result;if(!s||s.trim().length===0){r(new Error("El archivo est vaco"));return}t(s)},n.onerror=()=>{r(new Error("Error al leer el archivo"))},n.readAsText(e,"utf-8")});function vb({isOpen:e,onClose:t,onImport:r}){const[n,o]=p.useState(!1),[s,a]=p.useState(null),[l,c]=p.useState(!1),[u,f]=p.useState([]),[d,h]=p.useState(""),[g,b]=p.useState("upload"),w=()=>{a(null),f([]),h(""),b("upload"),c(!1)},x=()=>{w(),t()},y=R=>{R.preventDefault(),R.stopPropagation(),R.type==="dragenter"||R.type==="dragover"?o(!0):R.type==="dragleave"&&o(!1)},m=R=>{R.preventDefault(),R.stopPropagation(),o(!1),R.dataTransfer.files&&R.dataTransfer.files[0]&&_(R.dataTransfer.files[0])},v=R=>{R.target.files&&R.target.files[0]&&_(R.target.files[0])},_=async R=>{h(""),c(!0);try{const k=await P5(R),N=await R5(k);a(R),f(N),b("preview")}catch(k){h(k instanceof Error?k.message:"Error al procesar el archivo")}finally{c(!1)}},S=()=>{r(u),b("success")};return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:i.jsx("div",{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]",children:i.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 w-[600px] max-h-[80vh] shadow-xl overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border/10",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Uh,{className:"w-5 h-5 text-[#00A8FF]"}),i.jsx("h2",{className:"text-lg font-medium",children:"Importar Clientes desde CSV"})]}),i.jsx("button",{onClick:x,className:"text-muted-foreground hover:text-white transition-colors",children:i.jsx(Us,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-4",children:[g==="upload"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[i.jsx("h3",{className:"font-medium text-blue-400 mb-2",children:"Formato del archivo CSV"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"El archivo debe contener las siguientes columnas (en cualquier orden):"}),i.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Requeridos:"})," Cliente, WhatsApp, Plataforma, Usuario, Contrasea"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Opcionales:"})," Dispositivos, Precio, Fecha Inicio, Fecha Fin, Plan, Observacin"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Formato fechas:"})," YYYY-MM-DD (ejemplo: 2025-01-15)"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Tamao mximo:"})," 5MB"]})]})]}),i.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${n?"border-[#00A8FF] bg-[#00A8FF]/5":"border-border/20 hover:border-border/40"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:m,children:[i.jsx(MN,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-lg font-medium mb-2",children:"Arrastra tu archivo CSV aqu"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"o haz clic para seleccionar"}),i.jsx("input",{type:"file",accept:".csv",onChange:v,className:"hidden",id:"csv-file-input"}),i.jsx("label",{htmlFor:"csv-file-input",className:"inline-block bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white px-4 py-2 rounded-lg cursor-pointer transition-colors",children:"Seleccionar Archivo"})]}),d&&i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex items-start gap-3",children:[i.jsx(Lc,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-red-400",children:"Error"}),i.jsx("p",{className:"text-sm text-red-300",children:d})]})]}),l&&i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"w-6 h-6 border-2 border-[#00A8FF] border-t-transparent rounded-full animate-spin mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Procesando archivo..."})]})]}),g==="preview"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Vista previa de datos"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Se importarn ",u.length," clientes"]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Archivo: ",s==null?void 0:s.name]})]}),i.jsxs("div",{className:"max-h-60 overflow-auto border border-border/10 rounded-lg",children:[i.jsxs("table",{className:"w-full text-xs",children:[i.jsx("thead",{className:"bg-muted/50 sticky top-0",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-2 text-left",children:"Cliente"}),i.jsx("th",{className:"p-2 text-left",children:"WhatsApp"}),i.jsx("th",{className:"p-2 text-left",children:"Plataforma"}),i.jsx("th",{className:"p-2 text-left",children:"Plan"}),i.jsx("th",{className:"p-2 text-left",children:"Precio"})]})}),i.jsx("tbody",{children:u.slice(0,10).map((R,k)=>i.jsxs("tr",{className:"border-b border-border/10",children:[i.jsx("td",{className:"p-2",children:R.cliente}),i.jsx("td",{className:"p-2",children:R.whatsapp}),i.jsx("td",{className:"p-2",children:R.plataforma}),i.jsx("td",{className:"p-2",children:R.plan}),i.jsxs("td",{className:"p-2",children:["$",R.precio]})]},k))})]}),u.length>10&&i.jsxs("div",{className:"p-2 text-center text-xs text-muted-foreground bg-muted/20",children:["... y ",u.length-10," ms"]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border/10",children:[i.jsx("button",{type:"button",onClick:()=>b("upload"),className:"px-4 py-2 rounded-lg text-sm font-medium border border-border/10 hover:bg-[#a855f7]/20 transition-colors",children:"Volver"}),i.jsxs("button",{type:"button",onClick:S,className:"px-4 py-2 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:["Importar ",u.length," Clientes"]})]})]}),g==="success"&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(yx,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Importacin exitosa!"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Se han importado ",u.length," clientes correctamente"]}),i.jsx("button",{onClick:x,className:"px-4 py-2 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:"Cerrar"})]})]})]})})}):null}const T5=e=>{const t=new Date,r=new Date;r.setDate(t.getDate()+30);const n=e.length,o=e.filter(l=>l.status==="active").length,s=e.filter(l=>{if(!l.fecha_fin)return!1;const c=new Date(l.fecha_fin);return c>t&&c<=r&&l.status==="expiring"}).length,a=e.filter(l=>l.status==="expired").length;return[{title:"Total Clientes",value:n.toString(),Icon:qr,color:"text-blue-400"},{title:"Activos",value:o.toString(),Icon:Fc,color:"text-green-400"},{title:"Prximos a Vencer",value:s.toString(),Icon:wn,color:"text-yellow-400"},{title:"Vencidos",value:a.toString(),Icon:Bh,color:"text-red-400"}]},A5=()=>{const[e,t]=p.useState([]),[r,n]=p.useState([]),[o,s]=p.useState(!1),[a,l]=p.useState(null),[c,u]=p.useState(""),[f,d]=p.useState("all"),[h,g]=p.useState("all"),[b,w]=p.useState([]),[x,y]=p.useState(!0),[m,v]=p.useState(!1),[_,S]=p.useState(null),[R,k]=p.useState(!1),[N,L]=p.useState(!1),[I,J]=p.useState(null),[H,K]=p.useState(null),z=async()=>{try{const D=await an.getAll();w(D)}catch(D){console.error("Error al cargar revendedores:",D)}},U=async()=>{y(!0);try{const D=await ur.getAll();t(D),M(D,c,f,h)}catch(D){console.error("Error al cargar clientes:",D),te.error("Error al cargar los clientes")}finally{y(!1)}},M=(D,O,C,Z)=>{const B=D.filter(Y=>{var fe,Ne;const ce=O?((fe=Y.cliente)==null?void 0:fe.toLowerCase().includes(O.toLowerCase()))||((Ne=Y.whatsapp)==null?void 0:Ne.toLowerCase().includes(O.toLowerCase()))||(Y.usuario?Y.usuario.toLowerCase().includes(O.toLowerCase()):!1):!0,se=C==="all"||Y.status===C,he=Z==="all"||Z==="admin"&&!Y.owner_id||Y.owner_id===Z;return ce&&se&&he});n(B)};p.useEffect(()=>{U(),z()},[]),p.useEffect(()=>{const D=re.channel("custom-clients-channel").on("postgres_changes",{event:"*",schema:"public",table:"clients"},O=>{console.log("Cambio en tiempo real recibido en la tabla clients:",O),te.info("Actualizando lista de clientes...",{duration:2e3}),U()}).subscribe((O,C)=>{O==="SUBSCRIBED"&&console.log("Conectado a Supabase Realtime para clientes!"),O==="CHANNEL_ERROR"&&(console.error("Error en el canal de Supabase Realtime para clientes:",C),te.error("Error en la conexin de tiempo real para clientes."))});return()=>{re.removeChannel(D),console.log("Desconectado de Supabase Realtime para clientes.")}},[]),p.useEffect(()=>{M(e,c,f,h)},[e,c,f,h]);const q=async D=>{try{a?(await ur.update(a.id,D),te.success("Cliente actualizado correctamente")):(await ur.create(D),te.success("Cliente creado correctamente")),s(!1),U()}catch(O){console.error("Error al guardar cliente:",O),te.error("Error al guardar el cliente")}},E=async D=>{try{await ur.delete(D),te.success("Cliente eliminado correctamente"),U()}catch(O){console.error("Error al eliminar cliente:",O),te.error("Error al eliminar el cliente")}},P=async D=>{if(_)try{await ur.update(_.id,{plan:D}),te.success(`Plan renovado exitosamente a ${D}`),v(!1),U()}catch(O){console.error("Error al renovar plan:",O),te.error("Error al renovar el plan")}},T=async D=>{if(!(!H||!I))try{const O=new Date(H.fecha_fin),C=new Date,Z=Math.ceil((O.getTime()-C.getTime())/(1e3*60*60*24)),B=Ps(D.content,{cliente:H.cliente||"",plataforma:H.plataforma||"",plan_de_suscripcion:H.plan||"",fecha_fin:H.fecha_fin?new Date(H.fecha_fin).toLocaleDateString():"",dias_restantes:`${Z} das`,usuario:H.usuario||"",contrasea:H.contrasea||""});let Y=H.whatsapp||"";Y.startsWith("+")?Y=Y.substring(1).replace(/\D/g,""):(Y=Y.replace(/\D/g,""),!Y.startsWith("52")&&!Y.startsWith("57")&&!Y.startsWith("54")&&!Y.startsWith("55")&&!Y.startsWith("56")&&!Y.startsWith("58")&&!Y.startsWith("51")&&!Y.startsWith("50")&&Y.length>0&&(Y="52"+Y)),Ja(Y,B),te.success("Mensaje preparado para enviar"),L(!1)}catch(O){console.error("Error al enviar plantilla:",O),te.error("Error al preparar el mensaje")}},A=()=>{try{const D=r.length>0?r:e;gb(D,`clientes_${new Date().toISOString().split("T")[0]}.csv`),te.success(`${D.length} clientes exportados correctamente`)}catch(D){console.error("Error al exportar CSV:",D),te.error("Error al exportar los datos")}},V=async D=>{try{let O=0,C=0;for(const Z of D)try{await ur.create(Z),O++}catch(B){console.error(`Error al importar cliente ${Z.cliente}:`,B),C++}O>0&&(te.success(`${O} clientes importados correctamente`),U()),C>0&&te.warning(`${C} clientes no se pudieron importar`),k(!1)}catch(O){console.error("Error durante la importacin:",O),te.error("Error durante la importacin")}};return i.jsxs("div",{className:"container mx-auto p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Gestin de Clientes"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:A,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",title:"Exportar clientes a CSV",children:[i.jsx(xx,{className:"w-4 h-4"}),i.jsx("span",{children:"Exportar"})]}),i.jsxs("button",{onClick:()=>k(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",title:"Importar clientes desde CSV",children:[i.jsx(Uh,{className:"w-4 h-4"}),i.jsx("span",{children:"Importar"})]}),i.jsxs("button",{className:"bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",onClick:()=>{l(null),s(!0)},children:[i.jsx(Fh,{className:"w-4 h-4"}),i.jsx("span",{children:"Nuevo Cliente"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:T5(e).map((D,O)=>i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-muted-foreground",children:D.title}),i.jsx("p",{className:`text-2xl font-semibold mt-1 ${D.color}`,children:D.value})]}),i.jsx(D.Icon,{className:`w-5 h-5 ${D.color}`})]},O))}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[i.jsx("div",{className:"relative flex-1",children:i.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:c,onChange:D=>u(D.target.value)})}),i.jsxs("select",{className:"px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:f,onChange:D=>d(D.target.value),children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"active",children:"Activos"}),i.jsx("option",{value:"expiring",children:"Por vencer"}),i.jsx("option",{value:"expired",children:"Vencidos"})]}),i.jsxs("select",{className:"px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:h,onChange:D=>g(D.target.value),children:[i.jsx("option",{value:"all",children:"Todos los clientes"}),i.jsx("option",{value:"admin",children:"Mis clientes"}),b.map(D=>i.jsxs("option",{value:D.id,children:["Clientes de ",D.full_name]},D.id))]})]}),i.jsx("div",{className:"overflow-x-auto bg-[#191c23] rounded-xl border border-border/10",children:i.jsx(hb,{clients:r,isLoading:x,onEdit:D=>{l(D),s(!0)},onDelete:E,onRenew:D=>{S(D),v(!0)},onSendCredentials:D=>{K(D),J("credenciales"),L(!0)},onSendReminder:D=>{K(D),J("recordatorio"),L(!0)}})})]}),i.jsx(pb,{isOpen:o,onClose:()=>s(!1),onSubmit:q,client:a}),i.jsx(Kh,{isOpen:m,onClose:()=>v(!1),onSubmit:P}),i.jsx(pp,{isOpen:N,onClose:()=>L(!1),onSelect:T,type:I}),i.jsx(vb,{isOpen:R,onClose:()=>k(!1),onImport:V})]})};function yb({alerts:e,isLoading:t=!1}){const r=o=>{switch(o){case"high":return"text-red-400";case"medium":return"text-yellow-400";case"low":return"text-blue-400"}},n=o=>{switch(o){case"expiring":return Yl;case"payment":return Lc;case"demo":return wn}};return t?i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Alertas del Sistema"}),i.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>i.jsxs("div",{className:"animate-pulse flex items-start space-x-4",children:[i.jsx("div",{className:"h-5 w-5 rounded bg-muted-foreground/10"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-muted-foreground/10 rounded w-1/4"}),i.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-3/4"})]})]},o))})]}):i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Alertas del Sistema"}),e.length===0?i.jsx("p",{className:"text-muted-foreground text-sm",children:"No hay alertas pendientes."}):i.jsx("div",{className:"space-y-4",children:e.map(o=>{const s=n(o.type);return i.jsx("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-background/5 border border-border/5 hover:bg-background/10 transition-colors",children:o.type==="demo"&&o.title.includes("Pendiente")?i.jsxs(_c,{to:"/admin/users",className:"flex items-start space-x-4 w-full",children:[i.jsx(s,{className:`w-5 h-5 mt-0.5 ${r(o.severity)}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium",children:o.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.message}),i.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:o.timestamp}),i.jsx("p",{className:"text-xs text-primary mt-1",children:"Haz clic para gestionar usuarios"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(s,{className:`w-5 h-5 mt-0.5 ${r(o.severity)}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium",children:o.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.message}),i.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:o.timestamp})]})]})},o.id)})})]})}function xb({activities:e,isLoading:t=!1}){const r=o=>{switch(o){case"renewal":return QN;case"activation":return YN;case"status_change":return iR}},n=o=>{switch(o){case"renewal":return"text-blue-400";case"activation":return"text-green-400";case"status_change":return"text-yellow-400"}};return t?i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Actividad Reciente"}),i.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>i.jsxs("div",{className:"animate-pulse flex items-start space-x-4",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-muted-foreground/10"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-muted-foreground/10 rounded w-1/3"}),i.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-1/4"})]})]},o))})]}):i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Actividad Reciente"}),e.length===0?i.jsx("p",{className:"text-muted-foreground text-sm",children:"No hay actividad reciente."}):i.jsx("div",{className:"space-y-4",children:e.map(o=>{const s=r(o.type),a=n(o.type);return i.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-lg bg-background/5 border border-border/5",children:[i.jsx("div",{className:`rounded-full p-2 ${a} bg-background/10`,children:i.jsx(s,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium",children:o.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.description}),i.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:new Date(o.timestamp).toLocaleString()})]})]},o.id)})})]})}function wb({services:e,incidents:t,isLoading:r=!1}){const n=l=>{switch(l){case"operational":return"text-green-400";case"degraded":return"text-yellow-400";case"down":return"text-red-400"}},o=l=>{switch(l){case"operational":return sR;case"degraded":return wn;case"down":return eR}},s=l=>{switch(l){case"high":return"text-red-400";case"medium":return"text-yellow-400";case"low":return"text-blue-400"}},a=l=>{const c="px-2 py-0.5 rounded-full text-xs font-medium";switch(l){case"investigating":return`${c} bg-yellow-400/10 text-yellow-400`;case"identified":return`${c} bg-blue-400/10 text-blue-400`;case"monitoring":return`${c} bg-purple-400/10 text-purple-400`;case"resolved":return`${c} bg-green-400/10 text-green-400`}};return r?i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Estado del Servicio"}),i.jsx("div",{className:"space-y-4",children:[1,2].map(l=>i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-muted-foreground/10 rounded w-1/4 mb-2"}),i.jsx("div",{className:"h-12 bg-muted-foreground/10 rounded"})]},l))})]}):i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Estado del Servicio"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:e.map(l=>{const c=o(l.status),u=n(l.status);return i.jsxs("div",{className:"p-4 rounded-lg bg-background/5 border border-border/5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:l.name}),i.jsx(c,{className:`w-5 h-5 ${u}`})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:`text-sm ${u}`,children:l.status==="operational"?"Operativo":l.status==="degraded"?"Rendimiento Degradado":"Fuera de Servicio"}),l.latency&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.latency,"ms"]})]}),l.message&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:l.message})]},l.id)})}),i.jsx("h3",{className:"text-sm font-medium mb-3",children:"Incidencias Activas"}),t.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay incidencias activas."}):i.jsx("div",{className:"space-y-4",children:t.map(l=>i.jsxs("div",{className:"p-4 rounded-lg bg-background/5 border border-border/5",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:`text-sm font-medium ${s(l.severity)}`,children:l.title}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l.message})]}),i.jsx("span",{className:a(l.status),children:l.status==="investigating"?"Investigando":l.status==="identified"?"Identificado":l.status==="monitoring"?"Monitoreando":"Resuelto"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltima actualizacin: ",new Date(l.updatedAt).toLocaleString()]})]},l.id))})]})}const O5={async getDashboardStats(){let e=[],t=[],r=[];try{console.log("Obteniendo perfiles de revendedores desde profiles...");const{data:m,error:v}=await re.rpc("get_all_profiles");if(v)console.error("Error al obtener perfiles con RPC:",v),e=[];else{const _=(m==null?void 0:m.filter(k=>k.role==="reseller"))||[];console.log(`Encontrados ${_.length} perfiles de revendedores`),console.log("Revendedores activos en profiles:",_.filter(k=>k.status==="active").length);const{data:S,error:R}=await re.rpc("get_all_resellers");console.log("Datos de la tabla resellers:",{count:(S==null?void 0:S.length)||0,error:R?R.message:null}),e=_.map(k=>{const N=S==null?void 0:S.find(L=>L.id===k.id||L.user_id===k.id);return N?{...N,id:k.id,full_name:k.full_name||N.full_name,email:k.email,status:k.status,plan_end_date:N.plan_end_date||new Date(Date.now()+30*24*60*60*1e3).toISOString()}:{id:k.id,user_id:k.id,created_at:k.created_at,full_name:k.full_name,email:k.email,status:k.status,plan_end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString()}}),t=e.filter(k=>k.status==="pending"),console.log("Datos combinados de revendedores:",{total:e.length,activos:e.filter(k=>k.status==="active").length,pendientes:t.length})}console.log("Obteniendo revendedores recientes...");try{const{data:_,error:S}=await re.rpc("get_all_profiles").order("created_at",{ascending:!1}).limit(10);if(console.log("Perfiles recientes obtenidos:",{count:(_==null?void 0:_.length)||0,error:S?S.message:null}),S)console.error("Error al obtener perfiles recientes:",S),r=[];else{const R=(_==null?void 0:_.filter(I=>I.role==="reseller"))||[];console.log(`Encontrados ${R.length} perfiles de revendedores recientes`);const k=R.map(I=>I.id),{data:N,error:L}=await re.from("resellers").select("*").in("id",k);console.log("Detalles de revendedores recientes:",{count:(N==null?void 0:N.length)||0,error:L?L.message:null}),r=R.map(I=>{const J=N==null?void 0:N.find(H=>H.id===I.id||H.user_id===I.id);return J?{...J,full_name:I.full_name||J.full_name,email:I.email,status:I.status}:{id:I.id,user_id:I.id,created_at:I.created_at,full_name:I.full_name,email:I.email,status:I.status}}),r=r.slice(0,5),console.log(`Devolviendo ${r.length} revendedores recientes combinados`)}}catch(_){console.error("Error al obtener revendedores recientes:",_),r=[]}}catch(m){console.error("Error al obtener estadsticas:",m),e=[],r=[]}let n={total:0,active:0,pending:0,recentRegistrations:[]},o=[];try{console.log("Obteniendo estadsticas de clientes...");const{data:m,error:v}=await re.from("clients").select("*").order("created_at",{ascending:!1});if(o=m||[],v)console.error("Error al obtener clientes:",v);else{console.log(`Encontrados ${(o==null?void 0:o.length)||0} clientes`);const _=(o||[]).map(S=>{const R=new Date,k=new Date(S.fecha_fin),N=Math.ceil((k.getTime()-R.getTime())/(1e3*60*60*24));let L;return N<=0?L="expired":N<=7?L="expiring":L="active",{...S,dias_restantes:N,status:L}});n={total:_.length,active:_.filter(S=>S.status==="active").length,pending:0,recentRegistrations:_.slice(0,5).map(S=>({id:S.id,full_name:S.cliente,reseller_name:"Admin",status:S.status,created_at:S.created_at||new Date().toISOString()}))},console.log("Estadsticas de clientes calculadas:",{total:n.total,active:n.active,pending:n.pending})}}catch(m){console.error("Error al procesar estadsticas de clientes:",m)}const s=new Date,a=[],l=new Set;console.log("Datos de revendedores pendientes:",t);try{const{data:m,error:v}=await re.rpc("get_pending_users");if(console.log("Usuarios pendientes encontrados con RPC:",m,"Error:",v),v){console.log("Error con RPC, intentando enfoque alternativo");const{data:_,error:S}=await re.from("profiles").select("id, full_name, status").eq("status","pending");if(console.log("Perfiles pendientes encontrados directamente:",_,"Error:",S),!S&&_&&_.length>0)for(const R of _)l.has(R.id)||(l.add(R.id),console.log("Agregando alerta para perfil pendiente:",R),a.push({id:`pending-${R.id}`,type:"demo",title:"Usuario Pendiente de Activacin",message:`${R.full_name} est pendiente de activacin.`,severity:"high",timestamp:new Date().toISOString()}))}else if(m&&m.length>0)for(const _ of m)l.has(_.id)||(l.add(_.id),console.log("Agregando alerta para usuario pendiente de RPC:",_),a.push({id:`pending-${_.id}`,type:"demo",title:"Usuario Pendiente de Activacin",message:`${_.full_name||_.email} est pendiente de activacin.`,severity:"high",timestamp:new Date().toISOString()}));for(const _ of t)l.has(_.id)||(l.add(_.id),console.log("Agregando alerta para revendedor pendiente:",_),a.push({id:`pending-${_.id}`,type:"demo",title:"Usuario Pendiente de Activacin",message:`${_.full_name} est pendiente de activacin.`,severity:"high",timestamp:new Date().toISOString()}))}catch(m){console.error("Error al buscar usuarios pendientes:",m)}console.log("Alertas generadas:",a);const c=e.filter(m=>{if(!m||!m.plan_end_date)return!1;try{const v=new Date(m.plan_end_date),_=Math.ceil((v.getTime()-s.getTime())/(1e3*60*60*24));return _<=5&&_>0}catch(v){return console.error("Error al procesar fecha de vencimiento:",v),!1}});for(const m of c)try{const v=new Date(m.plan_end_date);a.push({id:`expiring-${m.id}`,type:"expiring",title:"Suscripcin Prxima a Vencer",message:`La suscripcin de ${m.full_name} vence en ${v.toLocaleDateString()}.`,severity:"medium",timestamp:new Date().toISOString()})}catch(v){console.error("Error al crear alerta para revendedor:",v)}let u=[];const f=[{id:"main-server",name:"Servidor Principal",status:"operational",latency:45,lastChecked:new Date().toISOString()},{id:"backup-server",name:"Servidor de Respaldo",status:"operational",latency:62,lastChecked:new Date().toISOString()},{id:"cdn-server",name:"Red de Distribucin",status:"operational",latency:28,lastChecked:new Date().toISOString()}],d=[];console.log("Generando actividad reciente para revendedores:",r);for(const m of r)u.push({id:`registration-${m.id}`,type:"activation",title:"Nuevo Registro",description:`${m.full_name} se registr como revendedor`,timestamp:m.created_at,metadata:{resellerName:m.full_name}}),m.status==="active"&&u.push({id:`activation-${m.id}`,type:"activation",title:"Cuenta Activada",description:`Se activ la cuenta de ${m.full_name}`,timestamp:m.created_at,metadata:{resellerName:m.full_name}});u.sort((m,v)=>new Date(v.timestamp).getTime()-new Date(m.timestamp).getTime());const h=u.slice(0,5);console.log(`Generadas ${h.length} actividades recientes`),u=h;const g=e.filter(m=>{if(!m||!m.plan_end_date||m.status!=="active")return!1;try{const v=new Date(m.plan_end_date),_=Math.ceil((v.getTime()-s.getTime())/(1e3*60*60*24));return _<=5&&_>0}catch(v){return console.error("Error al procesar fecha de vencimiento:",v),!1}}),b=e.filter(m=>{if(!m||!m.plan_end_date||m.status!=="active")return!1;try{return new Date(m.plan_end_date)<s}catch(v){return console.error("Error al procesar fecha de vencimiento:",v),!1}});console.log(`Revendedores por vencer (5 das): ${g.length}`),console.log(`Revendedores vencidos: ${b.length}`);const w=n.total>0?(o||[]).filter(m=>{const v=new Date,_=new Date(m.fecha_fin),S=Math.ceil((_.getTime()-v.getTime())/(1e3*60*60*24));return S<=7&&S>0}).length:0,x=n.total>0?(o||[]).filter(m=>{const v=new Date;return new Date(m.fecha_fin)<v}).length:0;console.log(`Clientes por vencer (7 das): ${w}`),console.log(`Clientes vencidos: ${x}`);const y={resellers:{total:e.length||0,active:e.filter(m=>m.status==="active").length||0,pending:e.filter(m=>m.status==="pending").length||0,expiringSoon:g.length||0,expired:b.length||0,recentRegistrations:r.map(m=>({id:m.id||"",full_name:m.full_name||"Sin nombre",status:m.status||"pending",created_at:m.created_at||new Date().toISOString()}))},clients:{...n,expiringSoon:w,expired:x},alerts:a,recentActivity:u,services:f,incidents:d};return console.log("Estadsticas finales a devolver:",y),y}};function D5(){const[e,t]=p.useState(!0),[r,n]=p.useState(null),[o,s]=p.useState(null);p.useEffect(()=>{a();const l=setInterval(()=>{console.log("Actualizando estadsticas..."),a()},1e4);return()=>clearInterval(l)},[]);const a=async()=>{try{const l=await O5.getDashboardStats();console.log("Estadsticas recibidas en DashboardPage:",l),console.log("Alertas recibidas:",l.alerts),n(l)}catch(l){console.error("Error al cargar estadsticas:",l),s(l.message)}finally{t(!1)}};return e?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(bx,{className:"w-8 h-8 animate-spin text-primary"})}):o?i.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500",children:["Error al cargar estadsticas: ",o]}):i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Dashboard"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Clientes Activos"}),i.jsx(qr,{className:"w-5 h-5 text-green-400"})]}),i.jsx("p",{className:"text-3xl font-semibold text-green-400",children:(r==null?void 0:r.clients.active)||0})]}),i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Clientes por Vencer (5 das)"}),i.jsx(Yl,{className:"w-5 h-5 text-yellow-400"})]}),i.jsx("p",{className:"text-3xl font-semibold text-yellow-400",children:(r==null?void 0:r.clients.expiringSoon)||0})]}),i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Clientes Vencidos"}),i.jsx(qr,{className:"w-5 h-5 text-red-400"})]}),i.jsx("p",{className:"text-3xl font-semibold text-red-400",children:(r==null?void 0:r.clients.expired)||0})]}),i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Revendedores Activos"}),i.jsx(Fc,{className:"w-5 h-5 text-green-400"})]}),i.jsx("p",{className:"text-3xl font-semibold text-green-400",children:(r==null?void 0:r.resellers.active)||0})]}),i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Revendedores por Vencer (5 das)"}),i.jsx(Yl,{className:"w-5 h-5 text-yellow-400"})]}),i.jsx("p",{className:"text-3xl font-semibold text-yellow-400",children:(r==null?void 0:r.resellers.expiringSoon)||0})]}),i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Revendedores Vencidos"}),i.jsx(qr,{className:"w-5 h-5 text-red-400"})]}),i.jsx("p",{className:"text-3xl font-semibold text-red-400",children:(r==null?void 0:r.resellers.expired)||0})]})]}),i.jsx("div",{className:"mt-6",children:i.jsx(yb,{alerts:(r==null?void 0:r.alerts)||[],isLoading:e})}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"ltimos Registros"}),i.jsx("div",{className:"bg-card rounded-xl border border-border/10 shadow-sm overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border/10 bg-muted/50",children:[i.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Nombre"}),i.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Estado"}),i.jsx("th",{className:"text-left p-4 text-muted-foreground font-medium",children:"Fecha"})]})}),i.jsxs("tbody",{children:[r==null?void 0:r.resellers.recentRegistrations.map(l=>i.jsxs("tr",{className:"border-b border-border/10 last:border-0",children:[i.jsx("td",{className:"p-4",children:l.full_name}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${l.status==="active"?"bg-green-500/10 text-green-500":"bg-yellow-500/10 text-yellow-500"}`,children:l.status==="active"?"Activo":"Pendiente"})}),i.jsx("td",{className:"p-4 text-muted-foreground",children:new Date(l.created_at).toLocaleDateString()})]},l.id)),!(r!=null&&r.resellers.recentRegistrations.length)&&i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"No hay registros recientes"})})]})]})})]}),i.jsx("div",{className:"mt-6",children:i.jsx(xb,{activities:(r==null?void 0:r.recentActivity)||[],isLoading:e})}),i.jsx("div",{className:"mt-6",children:i.jsx(wb,{services:(r==null?void 0:r.services)||[],incidents:(r==null?void 0:r.incidents)||[],isLoading:e})})]})})}const bb=[{key:"cliente",description:"Nombre del cliente"},{key:"plataforma",description:"Nombre de la plataforma"},{key:"plan_de_suscripcion",description:"Plan de suscripcin (1 Mes, 3 Meses, etc.)"},{key:"usuario",description:"Nombre de usuario"},{key:"contrasea",description:"Contrasea del usuario"},{key:"fecha_inicio",description:"Fecha de inicio del servicio"},{key:"fecha_fin",description:"Fecha de fin del servicio"},{key:"dias_restantes",description:"Das restantes de suscripcin"}];function I5(){const{user:e}=Dr(),[t,r]=p.useState([]),[n,o]=p.useState({name:"",content:"",category:"credenciales"}),[s,a]=p.useState(!0),l=async()=>{if(e)try{const d=await er.getAll(e.id);r(d)}catch(d){console.error("Error fetching templates:",d),te.error("Error al cargar las plantillas")}finally{a(!1)}};p.useEffect(()=>{e&&(async()=>{try{await er.initializeDefaultTemplates(),await l()}catch(h){console.error("Error initializing templates:",h),te.error("Error al cargar las plantillas")}})()},[e]);const c=async d=>{if(d.preventDefault(),!e){te.error("Debes iniciar sesin para guardar plantillas.");return}try{n.id?(await er.update(n.id,{name:n.name,content:n.content,category:n.category}),te.success("Plantilla actualizada exitosamente")):(await er.create(n,e.id),te.success("Plantilla creada exitosamente")),o({name:"",content:"",category:"credenciales"}),l()}catch(h){console.error("Error al guardar plantilla:",h),te.error("Error al guardar la plantilla")}},u=async d=>{if(!e){te.error("Debes iniciar sesin para eliminar plantillas.");return}if(window.confirm("Ests seguro de eliminar esta plantilla?"))try{await er.delete(d,e.id),te.success("Plantilla eliminada exitosamente"),l()}catch(h){console.error("Error deleting template:",h),te.error("Error al eliminar la plantilla")}},f=d=>{o(h=>({...h,content:h.content+`{${d}}`}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Gestin de Plantillas WhatsApp"}),i.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 p-6",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Crear Nueva Plantilla"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Define un nuevo mensaje predefinido."}),i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n.id?"Editar Plantilla":"Nueva Plantilla"}),i.jsx("input",{type:"text",value:n.name,onChange:d=>o(h=>({...h,name:d.target.value})),placeholder:"Ej: Recordatorio urgente",className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Categora"}),i.jsxs("select",{value:n.category,onChange:d=>o(h=>({...h,category:d.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0,children:[i.jsx("option",{value:"credenciales",children:"Credenciales"}),i.jsx("option",{value:"recordatorio",children:"Recordatorio"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Contenido del Mensaje"}),i.jsx("textarea",{value:n.content,onChange:d=>o(h=>({...h,content:d.target.value})),placeholder:"Escribe tu mensaje aqu. Usa {variables} para placeholders como {cliente}, {plataforma}, etc.",className:"w-full h-32 bg-background/50 border border-border/10 rounded-lg px-3 py-2 text-sm",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium block mb-2",children:"Placeholders disponibles"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:bb.map(({key:d,description:h})=>i.jsx("button",{type:"button",onClick:()=>f(d),className:"px-2 py-1 text-xs rounded-md bg-[#00A8FF]/10 text-[#00A8FF] hover:bg-[#00A8FF]/20 transition-colors",title:h,children:`{${d}}`},d))})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[n.id&&i.jsx("button",{type:"button",onClick:()=>o({name:"",content:"",category:"credenciales"}),className:"px-4 py-2 rounded-lg text-sm font-medium bg-gray-500 hover:bg-gray-600 text-white",children:"Cancelar Edicin"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:n.id?"Guardar Cambios":"Agregar Plantilla"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Plantillas Existentes"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:s?i.jsx("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:"Cargando plantillas..."}):t.length===0?i.jsx("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:"No hay plantillas creadas."}):t.map(d=>i.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 p-6 relative group",children:[i.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[i.jsx("button",{onClick:()=>o({id:d.id,name:d.name,content:d.content,category:d.category}),className:"p-1.5 rounded-md hover:bg-[#00A8FF]/20 text-[#00A8FF] hover:text-[#00A8FF] transition-colors",children:i.jsx($c,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>u(d.id),className:"p-1.5 rounded-md hover:bg-red-500/20 text-red-500 hover:text-red-500 transition-colors",children:i.jsx(ui,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("h3",{className:"font-medium text-[#00A8FF]",children:d.name}),i.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${d.category==="credenciales"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:d.category==="credenciales"?"Credenciales":"Recordatorio"})]}),i.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap leading-relaxed",children:d.content})]},d.id))})]})]})}function Dg(e,[t,r]){return Math.min(r,Math.max(t,e))}function M5(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _b=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),L5="VisuallyHidden",$5=p.forwardRef((e,t)=>i.jsx(Oe.span,{...e,ref:t,style:{..._b,...e.style}}));$5.displayName=L5;var F5=[" ","Enter","ArrowUp","ArrowDown"],z5=[" ","Enter"],To="Select",[Gc,Kc,U5]=Yh(To),[qs,JA]=Mo(To,[U5,Vc]),Yc=Vc(),[B5,ao]=qs(To),[V5,H5]=qs(To),Sb=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:g,form:b}=e,w=Yc(t),[x,y]=p.useState(null),[m,v]=p.useState(null),[_,S]=p.useState(!1),R=Jh(u),[k,N]=Ya({prop:n,defaultProp:o??!1,onChange:s,caller:To}),[L,I]=Ya({prop:a,defaultProp:l,onChange:c,caller:To}),J=p.useRef(null),H=x?b||!!x.closest("form"):!0,[K,z]=p.useState(new Set),U=Array.from(K).map(M=>M.props.value).join(";");return i.jsx(lw,{...w,children:i.jsxs(B5,{required:g,scope:t,trigger:x,onTriggerChange:y,valueNode:m,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:hn(),value:L,onValueChange:I,open:k,onOpenChange:N,dir:R,triggerPointerDownPosRef:J,disabled:h,children:[i.jsx(Gc.Provider,{scope:t,children:i.jsx(V5,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(M=>{z(q=>new Set(q).add(M))},[]),onNativeOptionRemove:p.useCallback(M=>{z(q=>{const E=new Set(q);return E.delete(M),E})},[]),children:r})}),H?i.jsxs(Wb,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:d,value:L,onChange:M=>I(M.target.value),disabled:h,form:b,children:[L===void 0?i.jsx("option",{value:""}):null,Array.from(K)]},U):null]})})};Sb.displayName=To;var Cb="SelectTrigger",Eb=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,s=Yc(r),a=ao(Cb,r),l=a.disabled||n,c=Be(t,a.onTriggerChange),u=Kc(r),f=p.useRef("touch"),[d,h,g]=Gb(w=>{const x=u().filter(v=>!v.disabled),y=x.find(v=>v.value===a.value),m=Kb(x,w,y);m!==void 0&&a.onValueChange(m.value)}),b=w=>{l||(a.onOpenChange(!0),g()),w&&(a.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return i.jsx(cw,{asChild:!0,...s,children:i.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":qb(a.value)?"":void 0,...o,ref:c,onClick:me(o.onClick,w=>{w.currentTarget.focus(),f.current!=="mouse"&&b(w)}),onPointerDown:me(o.onPointerDown,w=>{f.current=w.pointerType;const x=w.target;x.hasPointerCapture(w.pointerId)&&x.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:me(o.onKeyDown,w=>{const x=d.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&h(w.key),!(x&&w.key===" ")&&F5.includes(w.key)&&(b(),w.preventDefault())})})})});Eb.displayName=Cb;var jb="SelectValue",kb=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:s,placeholder:a="",...l}=e,c=ao(jb,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,d=Be(t,c.onValueNodeChange);return At(()=>{u(f)},[u,f]),i.jsx(Oe.span,{...l,ref:d,style:{pointerEvents:"none"},children:qb(c.value)?i.jsx(i.Fragment,{children:a}):s})});kb.displayName=jb;var W5="SelectIcon",Nb=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return i.jsx(Oe.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});Nb.displayName=W5;var q5="SelectPortal",Rb=e=>i.jsx(Oc,{asChild:!0,...e});Rb.displayName=q5;var Ao="SelectContent",Pb=p.forwardRef((e,t)=>{const r=ao(Ao,e.__scopeSelect),[n,o]=p.useState();if(At(()=>{o(new DocumentFragment)},[]),!r.open){const s=n;return s?Is.createPortal(i.jsx(Tb,{scope:e.__scopeSelect,children:i.jsx(Gc.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(Ab,{...e,ref:t})});Pb.displayName=Ao;var wr=10,[Tb,io]=qs(Ao),G5="SelectContentImpl",K5=No("SelectContent.RemoveScroll"),Ab=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:x,...y}=e,m=ao(Ao,r),[v,_]=p.useState(null),[S,R]=p.useState(null),k=Be(t,B=>_(B)),[N,L]=p.useState(null),[I,J]=p.useState(null),H=Kc(r),[K,z]=p.useState(!1),U=p.useRef(!1);p.useEffect(()=>{if(v)return Dh(v)},[v]),Oh();const M=p.useCallback(B=>{const[Y,...ce]=H().map(fe=>fe.ref.current),[se]=ce.slice(-1),he=document.activeElement;for(const fe of B)if(fe===he||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Y&&S&&(S.scrollTop=0),fe===se&&S&&(S.scrollTop=S.scrollHeight),fe==null||fe.focus(),document.activeElement!==he))return},[H,S]),q=p.useCallback(()=>M([N,v]),[M,N,v]);p.useEffect(()=>{K&&q()},[K,q]);const{onOpenChange:E,triggerPointerDownPosRef:P}=m;p.useEffect(()=>{if(v){let B={x:0,y:0};const Y=se=>{var he,fe;B={x:Math.abs(Math.round(se.pageX)-(((he=P.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(se.pageY)-(((fe=P.current)==null?void 0:fe.y)??0))}},ce=se=>{B.x<=10&&B.y<=10?se.preventDefault():v.contains(se.target)||E(!1),document.removeEventListener("pointermove",Y),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",ce,{capture:!0})}}},[v,E,P]),p.useEffect(()=>{const B=()=>E(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[E]);const[T,A]=Gb(B=>{const Y=H().filter(he=>!he.disabled),ce=Y.find(he=>he.ref.current===document.activeElement),se=Kb(Y,B,ce);se&&setTimeout(()=>se.ref.current.focus())}),V=p.useCallback((B,Y,ce)=>{const se=!U.current&&!ce;(m.value!==void 0&&m.value===Y||se)&&(L(B),se&&(U.current=!0))},[m.value]),D=p.useCallback(()=>v==null?void 0:v.focus(),[v]),O=p.useCallback((B,Y,ce)=>{const se=!U.current&&!ce;(m.value!==void 0&&m.value===Y||se)&&J(B)},[m.value]),C=n==="popper"?wf:Ob,Z=C===wf?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:x}:{};return i.jsx(Tb,{scope:r,content:v,viewport:S,onViewportChange:R,itemRefCallback:V,selectedItem:N,onItemLeave:D,itemTextRefCallback:O,focusSelectedItem:q,selectedItemText:I,position:n,isPositioned:K,searchRef:T,children:i.jsx(Ic,{as:K5,allowPinchZoom:!0,children:i.jsx(Ac,{asChild:!0,trapped:m.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:me(o,B=>{var Y;(Y=m.trigger)==null||Y.focus({preventScroll:!0}),B.preventDefault()}),children:i.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:i.jsx(C,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:B=>B.preventDefault(),...y,...Z,onPlaced:()=>z(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:me(y.onKeyDown,B=>{const Y=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!Y&&B.key.length===1&&A(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let se=H().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(B.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const he=B.target,fe=se.indexOf(he);se=se.slice(fe+1)}setTimeout(()=>M(se)),B.preventDefault()}})})})})})})});Ab.displayName=G5;var Y5="SelectItemAlignedPosition",Ob=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,s=ao(Ao,r),a=io(Ao,r),[l,c]=p.useState(null),[u,f]=p.useState(null),d=Be(t,k=>f(k)),h=Kc(r),g=p.useRef(!1),b=p.useRef(!0),{viewport:w,selectedItem:x,selectedItemText:y,focusSelectedItem:m}=a,v=p.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&w&&x&&y){const k=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),L=s.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(s.dir!=="rtl"){const he=I.left-N.left,fe=L.left-he,Ne=k.left-fe,Re=k.width+Ne,F=Math.max(Re,N.width),W=window.innerWidth-wr,ne=Dg(fe,[wr,Math.max(wr,W-F)]);l.style.minWidth=Re+"px",l.style.left=ne+"px"}else{const he=N.right-I.right,fe=window.innerWidth-L.right-he,Ne=window.innerWidth-k.right-fe,Re=k.width+Ne,F=Math.max(Re,N.width),W=window.innerWidth-wr,ne=Dg(fe,[wr,Math.max(wr,W-F)]);l.style.minWidth=Re+"px",l.style.right=ne+"px"}const J=h(),H=window.innerHeight-wr*2,K=w.scrollHeight,z=window.getComputedStyle(u),U=parseInt(z.borderTopWidth,10),M=parseInt(z.paddingTop,10),q=parseInt(z.borderBottomWidth,10),E=parseInt(z.paddingBottom,10),P=U+M+K+E+q,T=Math.min(x.offsetHeight*5,P),A=window.getComputedStyle(w),V=parseInt(A.paddingTop,10),D=parseInt(A.paddingBottom,10),O=k.top+k.height/2-wr,C=H-O,Z=x.offsetHeight/2,B=x.offsetTop+Z,Y=U+M+B,ce=P-Y;if(Y<=O){const he=J.length>0&&x===J[J.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-w.offsetTop-w.offsetHeight,Ne=Math.max(C,Z+(he?D:0)+fe+q),Re=Y+Ne;l.style.height=Re+"px"}else{const he=J.length>0&&x===J[0].ref.current;l.style.top="0px";const Ne=Math.max(O,U+w.offsetTop+(he?V:0)+Z)+ce;l.style.height=Ne+"px",w.scrollTop=Y-O+w.offsetTop}l.style.margin=`${wr}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=H+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,s.trigger,s.valueNode,l,u,w,x,y,s.dir,n]);At(()=>v(),[v]);const[_,S]=p.useState();At(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const R=p.useCallback(k=>{k&&b.current===!0&&(v(),m==null||m(),b.current=!1)},[v,m]);return i.jsx(Q5,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:R,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(Oe.div,{...o,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Ob.displayName=Y5;var J5="SelectPopperPosition",wf=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=wr,...s}=e,a=Yc(r);return i.jsx(uw,{...a,...s,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wf.displayName=J5;var[Q5,mp]=qs(Ao,{}),bf="SelectViewport",Db=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,s=io(bf,r),a=mp(bf,r),l=Be(t,s.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Gc.Slot,{scope:r,children:i.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:me(o.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&d){const g=Math.abs(c.current-f.scrollTop);if(g>0){const b=window.innerHeight-wr*2,w=parseFloat(d.style.minHeight),x=parseFloat(d.style.height),y=Math.max(w,x);if(y<b){const m=y+g,v=Math.min(b,m),_=m-v;d.style.height=v+"px",d.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Db.displayName=bf;var Ib="SelectGroup",[X5,Z5]=qs(Ib),eA=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=hn();return i.jsx(X5,{scope:r,id:o,children:i.jsx(Oe.div,{role:"group","aria-labelledby":o,...n,ref:t})})});eA.displayName=Ib;var Mb="SelectLabel",Lb=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Z5(Mb,r);return i.jsx(Oe.div,{id:o.id,...n,ref:t})});Lb.displayName=Mb;var rc="SelectItem",[tA,$b]=qs(rc),Fb=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:s,...a}=e,l=ao(rc,r),c=io(rc,r),u=l.value===n,[f,d]=p.useState(s??""),[h,g]=p.useState(!1),b=Be(t,m=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,m,n,o)}),w=hn(),x=p.useRef("touch"),y=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(tA,{scope:r,value:n,disabled:o,textId:w,isSelected:u,onItemTextChange:p.useCallback(m=>{d(v=>v||((m==null?void 0:m.textContent)??"").trim())},[]),children:i.jsx(Gc.ItemSlot,{scope:r,value:n,disabled:o,textValue:f,children:i.jsx(Oe.div,{role:"option","aria-labelledby":w,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:b,onFocus:me(a.onFocus,()=>g(!0)),onBlur:me(a.onBlur,()=>g(!1)),onClick:me(a.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:me(a.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:me(a.onPointerDown,m=>{x.current=m.pointerType}),onPointerMove:me(a.onPointerMove,m=>{var v;x.current=m.pointerType,o?(v=c.onItemLeave)==null||v.call(c):x.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(a.onPointerLeave,m=>{var v;m.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:me(a.onKeyDown,m=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&m.key===" "||(z5.includes(m.key)&&y(),m.key===" "&&m.preventDefault())})})})})});Fb.displayName=rc;var ga="SelectItemText",zb=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...s}=e,a=ao(ga,r),l=io(ga,r),c=$b(ga,r),u=H5(ga,r),[f,d]=p.useState(null),h=Be(t,y=>d(y),c.onItemTextChange,y=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,y,c.value,c.disabled)}),g=f==null?void 0:f.textContent,b=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:x}=u;return At(()=>(w(b),()=>x(b)),[w,x,b]),i.jsxs(i.Fragment,{children:[i.jsx(Oe.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Is.createPortal(s.children,a.valueNode):null]})});zb.displayName=ga;var Ub="SelectItemIndicator",Bb=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return $b(Ub,r).isSelected?i.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t}):null});Bb.displayName=Ub;var _f="SelectScrollUpButton",rA=p.forwardRef((e,t)=>{const r=io(_f,e.__scopeSelect),n=mp(_f,e.__scopeSelect),[o,s]=p.useState(!1),a=Be(t,n.onScrollButtonChange);return At(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?i.jsx(Vb,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});rA.displayName=_f;var Sf="SelectScrollDownButton",nA=p.forwardRef((e,t)=>{const r=io(Sf,e.__scopeSelect),n=mp(Sf,e.__scopeSelect),[o,s]=p.useState(!1),a=Be(t,n.onScrollButtonChange);return At(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?i.jsx(Vb,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});nA.displayName=Sf;var Vb=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,s=io("SelectScrollButton",r),a=p.useRef(null),l=Kc(r),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),At(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(Oe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:me(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:me(o.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:me(o.onPointerLeave,()=>{c()})})}),oA="SelectSeparator",Hb=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t})});Hb.displayName=oA;var Cf="SelectArrow",sA=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Yc(r),s=ao(Cf,r),a=io(Cf,r);return s.open&&a.position==="popper"?i.jsx(dw,{...o,...n,ref:t}):null});sA.displayName=Cf;var aA="SelectBubbleInput",Wb=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=p.useRef(null),s=Be(n,o),a=M5(t);return p.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[a,t]),i.jsx(Oe.select,{...r,style:{..._b,...r.style},ref:s,defaultValue:t})});Wb.displayName=aA;function qb(e){return e===""||e===void 0}function Gb(e){const t=Kr(e),r=p.useRef(""),n=p.useRef(0),o=p.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,s]}function Kb(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=iA(e,Math.max(s,0));o.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function iA(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lA=Sb,Yb=Eb,cA=kb,uA=Nb,dA=Rb,Jb=Pb,fA=Db,Qb=Lb,Xb=Fb,hA=zb,pA=Bb,Zb=Hb;const Zu=lA,ed=cA,xl=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Yb,{ref:n,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:[t,i.jsx(uA,{asChild:!0,children:i.jsx(yN,{className:"h-4 w-4 opacity-50"})})]}));xl.displayName=Yb.displayName;const wl=p.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>i.jsx(dA,{children:i.jsx(Jb,{ref:o,className:Me("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:i.jsx(fA,{className:Me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));wl.displayName=Jb.displayName;const mA=p.forwardRef(({className:e,...t},r)=>i.jsx(Qb,{ref:r,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));mA.displayName=Qb.displayName;const xr=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Xb,{ref:n,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(pA,{children:i.jsx($h,{className:"h-4 w-4"})})}),i.jsx(hA,{children:t})]}));xr.displayName=Xb.displayName;const gA=p.forwardRef(({className:e,...t},r)=>i.jsx(Zb,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));gA.displayName=Zb.displayName;function vA({isOpen:e,onClose:t,userId:r,userEmail:n,userName:o,currentRole:s,currentStatus:a,onUpdate:l}){const[c,u]=p.useState(s),[f,d]=p.useState(a),[h,g]=p.useState(o),[b,w]=p.useState(!1),[x,y]=p.useState(!1),[m,v]=p.useState(!1),[_,S]=p.useState("1 Mes"),[R,k]=p.useState(""),N=H=>{const K=new Date;switch(H){case"Demo (24 Hrs)":return new Date(K.setDate(K.getDate()+1));case"1 Mes":return new Date(K.setMonth(K.getMonth()+1));case"3 Meses":return new Date(K.setMonth(K.getMonth()+3));case"6 Meses":return new Date(K.setMonth(K.getMonth()+6));case"12 Meses":return new Date(K.setMonth(K.getMonth()+12));default:return K}},L=H=>H.toISOString().split("T")[0];Q.useEffect(()=>{k(L(N(_)))},[_]);const I=async H=>{H.preventDefault(),w(!0);try{if(console.log("Iniciando actualizacin de usuario:",{userId:r,role:c,status:f,name:h}),c!==s){console.log("Actualizando rol de usuario...");const{data:K,error:z}=await re.rpc("update_user_role",{user_id:r,new_role:c});if(z)throw console.error("Error al actualizar rol con RPC:",z),z;console.log("Rol actualizado correctamente con RPC:",K)}if(f!==a){console.log("Actualizando estado de usuario...");const{data:K,error:z}=await re.rpc("update_user_status",{user_id:r,new_status:f});if(z)throw console.error("Error al actualizar estado con RPC:",z),z;if(console.log("Estado actualizado correctamente con RPC:",K),c==="reseller"&&f==="active"&&a==="pending"){console.log("Actualizando plan del revendedor...");const{data:U,error:M}=await re.rpc("update_reseller_info",{reseller_id:r,reseller_phone:null,reseller_plan_type:_,reseller_plan_end_date:new Date(R+"T23:59:59").toISOString()});if(M)throw console.error("Error al actualizar plan del revendedor:",M),M;console.log("Plan del revendedor actualizado correctamente:",U)}}if(m&&h!==o){console.log("Actualizando nombre de usuario...");try{console.log("Actualizando nombre con RPC update_profile_name...");const{data:K,error:z}=await re.rpc("update_profile_name",{user_id:r,new_name:h});if(z)throw console.error("Error al actualizar nombre con RPC:",z),z;console.log("Nombre actualizado correctamente con RPC:",K);try{console.log("Intentando actualizar metadatos del usuario...");const{data:U}=await re.auth.getSession();if(U!=null&&U.session){const{error:M}=await re.auth.updateUser({data:{full_name:h}});M?console.error("Error al actualizar metadatos con updateUser:",M):console.log("Metadatos actualizados con updateUser")}}catch(U){console.error("Excepcin al actualizar metadatos:",U)}}catch(K){throw console.error("Excepcin al actualizar nombre:",K),K}}te.success("Usuario actualizado exitosamente"),l(),t()}catch(K){te.error("Error al actualizar el usuario: "+(K.message||"Error desconocido")),console.error("Error general en actualizacin:",K)}finally{w(!1)}},J=async()=>{if(!x){y(!0);return}w(!0);try{console.log("Eliminando usuario de las tablas con RPC...");const{data:H,error:K}=await re.rpc("delete_user",{user_id:r});if(K)throw console.error("Error al eliminar usuario con RPC:",K),K;console.log("Usuario eliminado correctamente de las tablas:",H),te.success("Usuario eliminado exitosamente"),l(),t()}catch(H){te.error("Error al eliminar el usuario: "+(H.message||"Error desconocido")),console.error("Error:",H)}finally{w(!1),y(!1)}};return i.jsx(Mx,{open:e,onOpenChange:b?void 0:t,children:i.jsxs(Hh,{className:"sm:max-w-[500px] bg-card",children:[i.jsxs(Wh,{children:[i.jsxs(qh,{className:"flex items-center gap-2 text-xl font-bold",children:[c==="admin"?i.jsx(lf,{className:"h-5 w-5"}):i.jsx(cf,{className:"h-5 w-5"}),"Gestionar Usuario"]}),i.jsx(Gh,{children:f==="pending"&&i.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3 flex items-start space-x-2 mt-2",children:[i.jsx(wn,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-yellow-500",children:"Este usuario est pendiente de activacin"})]})})]}),x?i.jsxs("div",{className:"py-4 space-y-4",children:[i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 flex flex-col items-center justify-center space-y-3",children:[i.jsx(wn,{className:"h-10 w-10 text-red-500"}),i.jsx("h3",{className:"text-lg font-semibold text-red-500",children:"Eliminar este usuario?"}),i.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Esta accin no se puede deshacer. El usuario perder todo acceso al sistema."})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(it,{variant:"outline",type:"button",onClick:()=>y(!1),disabled:b,children:"Cancelar"}),i.jsx(it,{variant:"destructive",type:"button",onClick:J,disabled:b,children:b?"Eliminando...":"Confirmar Eliminacin"})]})]}):i.jsxs("form",{onSubmit:I,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Xt,{className:"flex items-center gap-1",children:[i.jsx(zh,{className:"h-4 w-4"})," Email"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Xt,{className:"flex items-center gap-1",htmlFor:"name",children:[i.jsx(cf,{className:"h-4 w-4"})," Nombre"]}),m?i.jsx(Vr,{id:"name",value:h,onChange:H=>g(H.target.value),placeholder:"Nombre completo"}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:h}),i.jsx(it,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(!0),className:"h-6 px-2 text-xs",children:"Editar"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Xt,{htmlFor:"role",className:"flex items-center gap-1",children:[i.jsx(Sx,{className:"h-4 w-4"})," Rol"]}),i.jsxs(Zu,{value:c,onValueChange:u,children:[i.jsx(xl,{children:i.jsx(ed,{placeholder:"Seleccionar rol"})}),i.jsxs(wl,{children:[i.jsx(xr,{value:"admin",children:"Administrador"}),i.jsx(xr,{value:"reseller",children:"Revendedor"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Xt,{htmlFor:"status",className:"flex items-center gap-1",children:[i.jsx(lf,{className:"h-4 w-4"})," Estado"]}),i.jsxs(Zu,{value:f,onValueChange:d,children:[i.jsx(xl,{children:i.jsx(ed,{placeholder:"Seleccionar estado"})}),i.jsxs(wl,{children:[i.jsx(xr,{value:"active",children:"Activo"}),i.jsx(xr,{value:"pending",children:"Pendiente"}),i.jsx(xr,{value:"inactive",children:"Inactivo"})]})]})]})]}),c==="reseller"&&f==="pending"&&i.jsxs("div",{className:"space-y-4 pt-4 border-t border-border/10",children:[i.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Configuracin del Plan"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Xt,{htmlFor:"plan",className:"text-sm font-medium",children:"Plan de Suscripcin"}),i.jsxs(Zu,{value:_,onValueChange:H=>{S(H),k(L(N(H)))},children:[i.jsx(xl,{children:i.jsx(ed,{placeholder:"Seleccionar plan"})}),i.jsxs(wl,{children:[i.jsx(xr,{value:"Demo (24 Hrs)",children:"Demo (24 Hrs)"}),i.jsx(xr,{value:"1 Mes",children:"1 Mes"}),i.jsx(xr,{value:"3 Meses",children:"3 Meses"}),i.jsx(xr,{value:"6 Meses",children:"6 Meses"}),i.jsx(xr,{value:"12 Meses",children:"12 Meses"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Xt,{htmlFor:"planEndDate",className:"text-sm font-medium",children:"Fecha Fin"}),i.jsx(Vr,{id:"planEndDate",type:"date",value:R,onChange:H=>k(H.target.value),className:"text-sm"})]})]})]}),f==="pending"&&i.jsx("div",{className:"pt-2",children:i.jsx(it,{type:"button",onClick:()=>d("active"),className:"w-full bg-green-600 hover:bg-green-700",children:"Activar Usuario"})})]}),i.jsxs($x,{className:"flex justify-between items-center pt-2 gap-2",children:[i.jsxs(it,{variant:"destructive",type:"button",onClick:()=>y(!0),disabled:b,className:"flex items-center gap-1",children:[i.jsx(ui,{className:"h-4 w-4"}),"Eliminar"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(it,{variant:"outline",type:"button",onClick:t,disabled:b,children:"Cancelar"}),i.jsx(it,{type:"submit",disabled:b,children:b?"Guardando...":"Guardar Cambios"})]})]})]})]})})}const e1=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"w-full overflow-auto",children:i.jsx("table",{ref:r,className:Me("w-full caption-bottom text-sm",e),...t})}));e1.displayName="Table";const t1=p.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:Me("[&_tr]:border-b",e),...t}));t1.displayName="TableHeader";const r1=p.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:Me("[&_tr:last-child]:border-0",e),...t}));r1.displayName="TableBody";const yA=p.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:Me("bg-primary font-medium text-primary-foreground",e),...t}));yA.displayName="TableFooter";const bl=p.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:Me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));bl.displayName="TableRow";const Xo=p.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Xo.displayName="TableHead";const go=p.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));go.displayName="TableCell";const xA=p.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:Me("mt-4 text-sm text-muted-foreground",e),...t}));xA.displayName="TableCaption";function wA(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[o,s]=p.useState(null),[a,l]=p.useState(!1),[c,u]=p.useState(""),[f,d]=p.useState(0),h=async()=>{try{console.log("Obteniendo usuarios..."),n(!0),console.log("Obteniendo usuarios de auth...");const{data:m}=await re.auth.getSession();if(!m||!m.session){console.error("No hay sesin activa"),te.error("Debes iniciar sesin para ver los usuarios"),t([]),d(0);return}console.log("Obteniendo usuarios con RPC...");const{data:v,error:_}=await re.rpc("get_all_profiles");if(_){console.error("Error con RPC:",_),console.log("Fallback: obteniendo usuarios de auth directamente...");const{data:S,error:R}=await re.auth.admin.listUsers();if(R)throw console.error("Error al obtener usuarios de auth:",R),R;if(S&&S.users){console.log("Usuarios obtenidos de auth:",S.users.length);const k=S.users.map(I=>{var J,H,K;return{id:I.id,email:I.email||"",full_name:((J=I.user_metadata)==null?void 0:J.full_name)||"",role:((H=I.user_metadata)==null?void 0:H.role)||"reseller",status:((K=I.user_metadata)==null?void 0:K.status)||"pending",created_at:I.created_at||new Date().toISOString()}}),N=Array.from(new Map(k.map(I=>[I.id,I])).values());console.log("Usuarios nicos formateados:",N.length),t(N);const L=N.filter(I=>I.status==="pending")||[];d(L.length)}else console.warn("No se encontraron usuarios en auth"),t([]),d(0)}else if(v&&v.length>0){console.log("Usuarios obtenidos de RPC:",v.length);const S=Array.from(new Map(v.map(k=>[k.id,k])).values());console.log("Usuarios nicos de RPC:",S.length),t(S);const R=S.filter(k=>k.status==="pending")||[];d(R.length)}else console.warn("No se encontraron usuarios con RPC"),t([]),d(0)}catch(m){console.error("Error fetching users:",m),te.error("Error al cargar usuarios"),t([]),d(0)}finally{n(!1)}};p.useEffect(()=>{h()},[]);const g=m=>{s(m),l(!0)},b=m=>{switch(m){case"active":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"inactive":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},w=m=>m==="admin"?"Administrador":"Revendedor",x=m=>{switch(m){case"active":return"Activo";case"pending":return"Pendiente";case"inactive":return"Inactivo";default:return m}},y=e.filter(m=>{const v=c.toLowerCase();return m.email.toLowerCase().includes(v)||m.full_name.toLowerCase().includes(v)||x(m.status).toLowerCase().includes(v)||w(m.role).toLowerCase().includes(v)});return r?i.jsx("div",{className:"p-4 flex items-center justify-center h-64",children:"Cargando usuarios..."}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Gestin de Usuarios"}),i.jsx("p",{className:"text-muted-foreground",children:"Administra los usuarios del sistema"})]}),f>0&&i.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg px-4 py-2 flex items-center space-x-2",children:[i.jsx(wn,{className:"h-5 w-5 text-yellow-500"}),i.jsxs("span",{className:"text-yellow-500 font-medium",children:[f," ",f===1?"usuario pendiente":"usuarios pendientes"," ","de activacin"]})]})]}),i.jsx("div",{className:"mb-4",children:i.jsx(Vr,{placeholder:"Buscar usuarios por nombre, email, rol o estado...",value:c,onChange:m=>u(m.target.value),className:"max-w-md"})}),i.jsx("div",{className:"rounded-md border bg-card",children:i.jsxs(e1,{children:[i.jsx(t1,{children:i.jsxs(bl,{children:[i.jsx(Xo,{children:"Usuario"}),i.jsx(Xo,{children:"Rol"}),i.jsx(Xo,{children:"Estado"}),i.jsx(Xo,{children:"Fecha de Registro"}),i.jsx(Xo,{className:"text-right",children:"Acciones"})]})}),i.jsx(r1,{children:y.length===0?i.jsx(bl,{children:i.jsx(go,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No se encontraron usuarios que coincidan con la bsqueda"})}):y.map(m=>i.jsxs(bl,{className:m.status==="pending"?"bg-yellow-500/5":"",children:[i.jsx(go,{children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:m.full_name||"Sin nombre"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:m.email})]})}),i.jsx(go,{children:i.jsxs("div",{className:"flex items-center gap-1",children:[m.role==="admin"?i.jsx(lf,{className:"h-4 w-4 text-blue-500"}):i.jsx(cf,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{children:w(m.role)})]})}),i.jsx(go,{children:i.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs w-fit ${b(m.status)}`,children:[m.status==="active"&&i.jsx($h,{className:"h-3 w-3"}),m.status==="pending"&&i.jsx(wn,{className:"h-3 w-3"}),m.status==="inactive"&&i.jsx(Us,{className:"h-3 w-3"}),x(m.status)]})}),i.jsx(go,{children:new Date(m.created_at).toLocaleDateString("es-ES")}),i.jsx(go,{className:"text-right",children:i.jsx(it,{variant:m.status==="pending"?"default":"outline",size:"sm",onClick:()=>g(m),className:m.status==="pending"?"bg-yellow-500 hover:bg-yellow-600":"",children:m.status==="pending"?"Activar":"Gestionar"})})]},m.id))})]})}),o&&i.jsx(vA,{isOpen:a,onClose:()=>{l(!1),s(null)},userId:o.id,userEmail:o.email,userName:o.full_name||"",currentRole:o.role,currentStatus:o.status,onUpdate:h})]})}async function Ig(e,t){try{console.log(`Actualizando estado de usuario ${e} a ${t}`);try{console.log("Paso 1: Actualizando en la tabla profiles con supabaseAdmin");const{error:r}=await Ra.from("profiles").update({status:t}).eq("id",e);if(r){console.error("Error actualizando estado en profiles con supabaseAdmin:",r);try{console.log("Intentando actualizar con cliente normal...");const{error:n}=await re.from("profiles").update({status:t}).eq("id",e);n?console.error("Error actualizando con cliente normal:",n):console.log("Perfil actualizado correctamente con cliente normal")}catch(n){console.error("Excepcin al actualizar con cliente normal:",n)}}else console.log("Perfil actualizado correctamente con supabaseAdmin")}catch(r){console.error("Excepcin al actualizar perfil:",r)}try{console.log("Paso 2: Actualizando mediante RPC");const{data:r,error:n}=await re.rpc("update_user_status",{user_id:e,new_status:t});n?console.error("Error al usar RPC para actualizar estado:",n):console.log("Estado actualizado correctamente mediante RPC")}catch(r){console.error("Excepcin al llamar RPC:",r)}try{console.log("Paso 3: Actualizando en la tabla resellers");const{data:r}=await re.from("profiles").select("role").eq("id",e).single();if(r&&r.role==="reseller"){console.log("Usuario es revendedor, actualizando en tabla resellers");try{console.log("Actualizando con user_id usando supabaseAdmin");const{error:n}=await Ra.from("resellers").update({status:t}).eq("user_id",e);n?console.error("Error actualizando con user_id:",n):console.log("Revendedor actualizado correctamente (user_id)")}catch(n){console.error("Excepcin actualizando con user_id:",n)}try{console.log("Actualizando con id usando supabaseAdmin");const{error:n}=await Ra.from("resellers").update({status:t}).eq("id",e);n?console.error("Error actualizando con id:",n):console.log("Revendedor actualizado correctamente (id)")}catch(n){console.error("Excepcin actualizando con id:",n)}}else console.log("Usuario no es revendedor, no es necesario actualizar la tabla resellers")}catch(r){console.error("Error obteniendo datos del usuario:",r)}try{console.log("Paso 4: Verificando si es necesario crear el revendedor");const{data:r}=await re.from("profiles").select("role, full_name").eq("id",e).single();if(r&&r.role==="reseller"){const{data:n}=await re.from("resellers").select("id").or(`id.eq.${e},user_id.eq.${e}`).maybeSingle();if(n)console.log("Revendedor ya existe, no es necesario crearlo");else{console.log("No existe revendedor, creando uno nuevo");const o=new Date;o.setDate(o.getDate()+30);const{error:s}=await re.from("resellers").insert([{id:e,user_id:e,full_name:r.full_name,status:t,phone:"",plan_type:"basic",plan_end_date:o.toISOString(),created_at:new Date().toISOString()}]);s?console.error("Error creando revendedor:",s):console.log("Revendedor creado correctamente")}}}catch(r){console.error("Error verificando/creando revendedor:",r)}return console.log("Proceso de actualizacin de estado completado"),{success:!0}}catch(r){return console.error("Error general actualizando estado:",r),{success:!1,error:r.message||"Error desconocido"}}}function bA(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[o,s]=p.useState(!1);p.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0),console.log("Obteniendo usuarios pendientes...");const{data:u,error:f}=await re.rpc("get_all_profiles");if(f){console.error("Error al obtener perfiles:",f),te.error("Error al cargar usuarios pendientes");return}const d=(u==null?void 0:u.filter(h=>h.status==="pending"))||[];console.log(`Encontrados ${d.length} usuarios pendientes`),t(d)}catch(u){console.error("Error:",u),te.error("Error al cargar usuarios pendientes")}finally{n(!1)}},l=async()=>{try{s(!0),console.log("Activando todos los usuarios pendientes...");for(const u of e)console.log(`Activando usuario: ${u.email} (${u.id})`),await Ig(u.id,"active");te.success("Todos los usuarios pendientes han sido activados"),a()}catch(u){console.error("Error al activar usuarios:",u),te.error("Error al activar usuarios")}finally{s(!1)}},c=async(u,f)=>{try{console.log(`Activando usuario: ${f} (${u})`),await Ig(u,"active"),te.success(`Usuario ${f} activado correctamente`),a()}catch(d){console.error(`Error al activar usuario ${f}:`,d),te.error(`Error al activar usuario ${f}`)}};return i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Activar Usuarios Pendientes"}),i.jsx(it,{onClick:a,variant:"outline",disabled:r,children:"Actualizar"})]}),r?i.jsx("p",{children:"Cargando usuarios pendientes..."}):e.length===0?i.jsx("p",{children:"No hay usuarios pendientes de activacin."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsx(it,{onClick:l,disabled:o||e.length===0,className:"bg-green-600 hover:bg-green-700",children:o?"Activando usuarios...":`Activar Todos (${e.length})`})}),i.jsx("div",{className:"bg-card rounded-lg shadow-sm border border-border",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Usuarios Pendientes (",e.length,")"]}),i.jsx("div",{className:"space-y-4",children:e.map(u=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-background rounded-md border border-border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:u.full_name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:u.email}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Registrado el"," ",new Date(u.created_at).toLocaleDateString("es-ES")]})]}),i.jsx(it,{onClick:()=>c(u.id,u.email),size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Activar"})]},u.id))})]})})]})]})}function Mg({requiredRole:e}){const{user:t,loading:r}=Dr();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?e&&t.role!==e?t.role==="admin"?i.jsx(ln,{to:"/dashboard",replace:!0}):t.role==="reseller"?i.jsx(ln,{to:"/reseller/dashboard",replace:!0}):i.jsx(ln,{to:"/login",replace:!0}):i.jsx(i0,{}):i.jsx(ln,{to:"/login",replace:!0})}const _A=({toggleSidebar:e,isSidebarCollapsed:t})=>{const{user:r}=Dr();return i.jsxs("header",{className:"h-16 bg-card text-card-foreground shadow-md flex items-center justify-between px-4",children:[i.jsx("button",{onClick:e,className:"p-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors focus:outline-none",children:i.jsx(WN,{className:"h-6 w-6"})}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("div",{className:"ml-auto flex items-center gap-2",children:i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Hola, ",(r==null?void 0:r.full_name)||"Usuario"," (",(r==null?void 0:r.role)==="admin"?"Admin":"Revendedor",")"]})})})]})},SA="/xstream_logo.png",CA="/xs_logo.png",EA=e=>e==="admin"?[{title:"Dashboard",path:"/dashboard",icon:zN},{title:"Clientes",path:"/clients",icon:qr},{title:"Plantillas",path:"/templates",icon:hg},{title:"Revendedores",path:"/resellers",icon:pR},{title:"Gestin de Usuarios",path:"/admin/users",icon:Sx}]:e==="reseller"?[{title:"Clientes",path:"/reseller/clients",icon:qr},{title:"Plantillas",path:"/reseller/templates",icon:hg},{title:"Configuracin",path:"/reseller/settings",icon:rR}]:[];function jA({isCollapsed:e}){var l;wc();const{user:t,logout:r}=Dr(),n=Cn(),o=EA(t==null?void 0:t.role),s=async()=>{try{localStorage.clear(),sessionStorage.clear(),await re.auth.signOut(),setTimeout(()=>{window.location.replace("/login")},100)}catch(c){console.error("Error al cerrar sesin:",c),window.location.replace("/login")}},a=((l=o.find(c=>c.path===n.pathname))==null?void 0:l.title)||"";return i.jsxs("aside",{className:`h-screen bg-secondary text-foreground flex flex-col transition-all duration-300 ease-in-out ${e?"w-16 sm:w-20":"w-64"}`,children:[i.jsx("div",{className:"p-2 sm:p-4 border-b border-border flex items-center justify-center",children:i.jsx("img",{src:e?CA:SA,alt:"XtreamSales Logo",className:`transition-all duration-300 ease-in-out ${e?"h-6 sm:h-8":"h-10 sm:h-12"} w-auto`})}),i.jsx("nav",{className:"flex-grow p-2 sm:p-4 space-y-2",children:o.map(c=>i.jsxs(_c,{to:c.path,className:`flex items-center space-x-3 p-2 rounded-xl transition-colors
              ${c.title===a?"bg-[#00A8FF] text-white":"text-muted-foreground hover:bg-[#FF00FF]/40"}
              ${e?"justify-center":""}
            `,title:e?c.title:void 0,children:[i.jsx(c.icon,{className:"h-4 w-4 sm:h-5 sm:w-5"}),!e&&i.jsx("span",{className:"text-sm font-medium",children:c.title})]},c.title))}),i.jsx("div",{className:`p-2 sm:p-4 border-t border-border ${e?"flex justify-center":""}`,children:i.jsx("div",{className:"mt-auto",children:i.jsx("button",{onClick:s,className:`w-full flex items-center px-2 sm:px-3 py-1 sm:py-2 text-muted-foreground hover:bg-accent hover:text-white transition-colors ${e?"justify-center":""}`,children:e?i.jsx(fg,{className:"w-4 h-4 sm:w-5 sm:h-5"}):i.jsxs(i.Fragment,{children:[i.jsx(fg,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Cerrar Sesin"]})})})})]})}function Lg(){const[e,t]=Q.useState(()=>window.innerWidth<1024);p.useEffect(()=>{const n=()=>{window.innerWidth<1024&&t(!0)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]);const r=()=>{t(!e)};return i.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[i.jsx(jA,{isCollapsed:e}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(_A,{toggleSidebar:r,isSidebarCollapsed:e}),i.jsx("main",{className:"flex-1 p-8 overflow-auto",children:i.jsx(i0,{})})]}),i.jsx(RP,{position:"top-right",theme:"dark"})]})}const kA=()=>{const{user:e}=Dr(),[t,r]=p.useState(!0),[n,o]=p.useState(null),[s,a]=p.useState(null);p.useEffect(()=>{l();const c=setInterval(()=>{console.log("Actualizando estadsticas del revendedor..."),l()},1e4);return()=>clearInterval(c)},[]);const l=async()=>{r(!0),a(null);try{o({clients:{active:0,expiringSoon:0,expired:0},alerts:[],recentActivity:[],services:[],incidents:[]})}catch(c){console.error("Error al cargar estadsticas del revendedor:",c),a(c.message)}finally{r(!1)}};return t?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(bx,{className:"w-8 h-8 animate-spin text-primary"})}):s?i.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500",children:["Error al cargar estadsticas: ",s]}):i.jsx("div",{className:"space-y-8",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Dashboard del Revendedor"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Clientes Activos"}),i.jsx(qr,{className:"w-5 h-5 text-green-400"})]}),i.jsx("p",{className:"text-3xl font-semibold text-green-400",children:(n==null?void 0:n.clients.active)||0})]}),i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Clientes por Vencer (5 das)"}),i.jsx(Yl,{className:"w-5 h-5 text-yellow-400"})]}),i.jsx("p",{className:"text-3xl font-semibold text-yellow-400",children:(n==null?void 0:n.clients.expiringSoon)||0})]}),i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 hover:border-border/20 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Clientes Vencidos"}),i.jsx(qr,{className:"w-5 h-5 text-red-400"})]}),i.jsx("p",{className:"text-3xl font-semibold text-red-400",children:(n==null?void 0:n.clients.expired)||0})]})]}),i.jsx("div",{className:"mt-6",children:i.jsx(yb,{alerts:(n==null?void 0:n.alerts)||[],isLoading:t})}),i.jsx("div",{className:"mt-6",children:i.jsx(xb,{activities:(n==null?void 0:n.recentActivity)||[],isLoading:t})}),i.jsx("div",{className:"mt-6",children:i.jsx(wb,{services:(n==null?void 0:n.services)||[],incidents:(n==null?void 0:n.incidents)||[],isLoading:t})})]})})},NA=e=>{const t=e.length,r=e.filter(s=>s.status==="active").length,n=e.filter(s=>s.status==="expiring").length,o=e.filter(s=>s.status==="expired").length;return[{title:"Total Clientes",value:t.toString(),Icon:qr,color:"text-blue-400"},{title:"Activos",value:r.toString(),Icon:Fc,color:"text-green-400"},{title:"Prximos a Vencer",value:n.toString(),Icon:wn,color:"text-yellow-400"},{title:"Vencidos",value:o.toString(),Icon:Bh,color:"text-red-400"}]},RA=()=>{const{user:e}=Dr(),[t,r]=p.useState([]),[n,o]=p.useState([]),[s,a]=p.useState(!1),[l,c]=p.useState(null),[u,f]=p.useState(""),[d,h]=p.useState("all"),[g,b]=p.useState(!0),[w,x]=p.useState(!1),[y,m]=p.useState(null),[v,_]=p.useState(!1),[S,R]=p.useState(!1),[k,N]=p.useState(null),[L,I]=p.useState(null),J=async()=>{b(!0);try{if(!(e!=null&&e.id)){r([]),o([]);return}const P=await ur.getClientsByOwner(e.id);r(P),H(P,u,d)}catch(P){console.error("Error al cargar clientes del revendedor:",P),te.error("Error al cargar los clientes del revendedor")}finally{b(!1)}},H=(P,T,A)=>{const V=P.filter(D=>{var Z,B;const O=T?((Z=D.cliente)==null?void 0:Z.toLowerCase().includes(T.toLowerCase()))||((B=D.whatsapp)==null?void 0:B.toLowerCase().includes(T.toLowerCase()))||(D.usuario?D.usuario.toLowerCase().includes(T.toLowerCase()):!1):!0,C=A==="all"||D.status===A;return O&&C});o(V)};p.useEffect(()=>{e!=null&&e.id&&J()},[e==null?void 0:e.id]),p.useEffect(()=>{if(!(e!=null&&e.id))return;const P=re.channel(`reseller-clients-${e.id}-channel`).on("postgres_changes",{event:"*",schema:"public",table:"clients",filter:`owner_id=eq.${e.id}`},T=>{console.log("Cambio en tiempo real recibido en la tabla clients para revendedor:",T),te.info("Actualizando lista de clientes...",{duration:2e3}),J()}).subscribe((T,A)=>{T==="SUBSCRIBED"&&console.log(`Conectado a Supabase Realtime para clientes del revendedor ${e.id}!`),T==="CHANNEL_ERROR"&&(console.error("Error en el canal de Supabase Realtime para clientes del revendedor:",A),te.error("Error en la conexin de tiempo real para clientes del revendedor."))});return()=>{re.removeChannel(P),console.log("Desconectado de Supabase Realtime para clientes del revendedor.")}},[e==null?void 0:e.id]),p.useEffect(()=>{H(t,u,d)},[t,u,d]);const K=async P=>{if(!(e!=null&&e.id)){te.error("No se pudo guardar el cliente: ID de revendedor no disponible.");return}try{l?(await ur.update(l.id,P),te.success("Cliente actualizado correctamente")):(await ur.create(P),te.success("Cliente creado correctamente")),a(!1),J()}catch(T){console.error("Error al guardar cliente:",T),te.error("Error al guardar el cliente")}},z=async P=>{try{await ur.delete(P),te.success("Cliente eliminado correctamente"),J()}catch(T){console.error("Error al eliminar cliente:",T),te.error("Error al eliminar el cliente")}},U=async P=>{if(y)try{await ur.update(y.id,{plan:P}),te.success(`Plan renovado exitosamente a ${P}`),x(!1),J()}catch(T){console.error("Error al renovar plan:",T),te.error("Error al renovar el plan")}},M=async P=>{if(!(!L||!k))try{const T=new Date(L.fecha_fin),A=new Date,V=Math.ceil((T.getTime()-A.getTime())/(1e3*60*60*24)),D=Ps(P.content,{cliente:L.cliente||"",plataforma:L.plataforma||"",plan_de_suscripcion:L.plan||"",fecha_fin:L.fecha_fin?new Date(L.fecha_fin).toLocaleDateString():"",dias_restantes:`${V} das`,usuario:L.usuario||"",contrasea:L.contrasea||""});let O=L.whatsapp||"";O.startsWith("+")?O=O.substring(1).replace(/\D/g,""):(O=O.replace(/\D/g,""),!O.startsWith("52")&&!O.startsWith("57")&&!O.startsWith("54")&&!O.startsWith("55")&&!O.startsWith("56")&&!O.startsWith("58")&&!O.startsWith("51")&&!O.startsWith("50")&&O.length>0&&(O="52"+O)),Ja(O,D),te.success("Mensaje preparado para enviar"),R(!1)}catch(T){console.error("Error al enviar plantilla:",T),te.error("Error al preparar el mensaje")}},q=()=>{try{const P=n.length>0?n:t;gb(P,`mis_clientes_${new Date().toISOString().split("T")[0]}.csv`),te.success(`${P.length} clientes exportados correctamente`)}catch(P){console.error("Error al exportar CSV:",P),te.error("Error al exportar los datos")}},E=async P=>{try{let T=0,A=0;for(const V of P)try{await ur.create(V),T++}catch(D){console.error(`Error al importar cliente ${V.cliente}:`,D),A++}T>0&&(te.success(`${T} clientes importados correctamente`),J()),A>0&&te.warning(`${A} clientes no se pudieron importar`),_(!1)}catch(T){console.error("Error durante la importacin:",T),te.error("Error durante la importacin")}};return i.jsxs("div",{className:"container mx-auto p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Gestin de Clientes del Revendedor"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:q,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",title:"Exportar mis clientes a CSV",children:[i.jsx(xx,{className:"w-4 h-4"}),i.jsx("span",{children:"Exportar"})]}),i.jsxs("button",{onClick:()=>_(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",title:"Importar clientes desde CSV",children:[i.jsx(Uh,{className:"w-4 h-4"}),i.jsx("span",{children:"Importar"})]}),i.jsxs("button",{className:"bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2",onClick:()=>{c(null),a(!0)},children:[i.jsx(Fh,{className:"w-4 h-4"}),i.jsx("span",{children:"Nuevo Cliente"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:NA(t).map((P,T)=>i.jsxs("div",{className:"bg-[#1a1d24] p-4 rounded-xl border border-border/10 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-muted-foreground",children:P.title}),i.jsx("p",{className:`text-2xl font-semibold mt-1 ${P.color}`,children:P.value})]}),i.jsx(P.Icon,{className:`w-5 h-5 ${P.color}`})]},T))}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[i.jsx("div",{className:"relative flex-1",children:i.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:u,onChange:P=>f(P.target.value)})}),i.jsxs("select",{className:"px-4 py-2 bg-background/50 border border-border/10 rounded-lg text-sm",value:d,onChange:P=>h(P.target.value),children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"active",children:"Activos"}),i.jsx("option",{value:"expiring",children:"Por vencer"}),i.jsx("option",{value:"expired",children:"Vencidos"})]})]}),i.jsx("div",{className:"overflow-x-auto bg-[#191c23] rounded-xl border border-border/10",children:i.jsx(hb,{clients:n,isLoading:g,onEdit:P=>{c(P),a(!0)},onDelete:z,onRenew:P=>{m(P),x(!0)},onSendCredentials:P=>{I(P),N("credenciales"),R(!0)},onSendReminder:P=>{I(P),N("recordatorio"),R(!0)}})})]}),i.jsx(pb,{isOpen:s,onClose:()=>a(!1),onSubmit:K,client:l}),i.jsx(Kh,{isOpen:w,onClose:()=>x(!1),onSubmit:U}),i.jsx(pp,{isOpen:S,onClose:()=>R(!1),onSelect:M,type:k}),i.jsx(vb,{isOpen:v,onClose:()=>_(!1),onImport:E})]})},PA=()=>{const{user:e}=Dr(),[t,r]=p.useState([]),[n,o]=p.useState({name:"",content:"",category:"credenciales"}),[s,a]=p.useState(!0),l=async()=>{if(e){a(!0);try{const h=await er.getAll(e.id);r(h)}catch(h){console.error("Error fetching templates:",h),te.error("Error al cargar las plantillas")}finally{a(!1)}}};p.useEffect(()=>{e&&(async()=>{try{await er.initializeDefaultTemplates(),await l()}catch(g){console.error("Error initializing templates:",g),te.error("Error al cargar las plantillas")}})()},[e]);const c=async h=>{if(h.preventDefault(),!e){te.error("Debes iniciar sesin para guardar plantillas.");return}try{n.id?(await er.update(n.id,n),te.success("Plantilla actualizada exitosamente")):(await er.create(n,e.id),te.success("Plantilla creada exitosamente")),o({name:"",content:"",category:"credenciales"}),l()}catch(g){console.error("Error al guardar plantilla:",g),te.error(`Error al guardar la plantilla: ${g.message}`)}},u=async h=>{if(!e){te.error("Debes iniciar sesin para eliminar plantillas.");return}if(window.confirm("Ests seguro de eliminar esta plantilla?"))try{await er.delete(h,e.id),te.success("Plantilla eliminada exitosamente"),l()}catch(g){console.error("Error deleting template:",g),te.error(`Error al eliminar la plantilla: ${g.message}`)}},f=h=>{o(g=>({...g,content:(g.content||"")+`{${h}}`}))},d=h=>h.owner_id===null;return i.jsxs("div",{className:"space-y-6 p-4",children:[i.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Gestin de Plantillas de WhatsApp"}),i.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 p-6",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:n.id?"Editar Plantilla":"Crear Nueva Plantilla"}),i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Nombre de la Plantilla"}),i.jsx("input",{type:"text",value:n.name||"",onChange:h=>o(g=>({...g,name:h.target.value})),placeholder:"Ej: Recordatorio urgente",className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0,disabled:!!n.id&&d(t.find(h=>h.id===n.id))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Categora"}),i.jsxs("select",{value:n.category||"credenciales",onChange:h=>o(g=>({...g,category:h.target.value})),className:"w-full bg-background/50 border border-border/10 rounded-lg px-3 py-1.5 text-sm",required:!0,children:[i.jsx("option",{value:"credenciales",children:"Credenciales"}),i.jsx("option",{value:"recordatorio",children:"Recordatorio"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Contenido del Mensaje"}),i.jsx("textarea",{value:n.content||"",onChange:h=>o(g=>({...g,content:h.target.value})),placeholder:"Escribe tu mensaje aqu...",className:"w-full h-32 bg-background/50 border border-border/10 rounded-lg px-3 py-2 text-sm",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium block mb-2",children:"Placeholders disponibles"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:bb.map(({key:h,description:g})=>i.jsx("button",{type:"button",onClick:()=>f(h),className:"px-2 py-1 text-xs rounded-md bg-[#00A8FF]/10 text-[#00A8FF] hover:bg-[#00A8FF]/20 transition-colors",title:g,children:`{${h}}`},h))})]}),i.jsxs("div",{className:"flex justify-end gap-4",children:[n.id&&i.jsx("button",{type:"button",onClick:()=>o({name:"",content:"",category:"credenciales"}),className:"px-4 py-2 rounded-lg text-sm font-medium bg-gray-500 hover:bg-gray-600 text-white",children:"Cancelar Edicin"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium bg-[#00A8FF] hover:bg-[#00A8FF]/90 text-white",children:n.id?"Guardar Cambios":"Agregar Plantilla"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Plantillas Existentes"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s?i.jsx("p",{children:"Cargando..."}):t.map(h=>i.jsxs("div",{className:"bg-[#1a1d24] rounded-xl border border-border/10 p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-[#00A8FF]",children:h.name}),i.jsx("span",{className:`text-xs ${d(h)?"text-blue-400":"text-gray-400"}`,children:d(h)?"Plantilla del Sistema":"Mi Plantilla"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>o(h),className:"p-1.5 rounded-md hover:bg-[#00A8FF]/20 text-[#00A8FF] transition-colors",children:i.jsx($c,{className:"w-4 h-4"})}),!d(h)&&i.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 rounded-md hover:bg-red-500/20 text-red-500 transition-colors",children:i.jsx(ui,{className:"w-4 h-4"})})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap leading-relaxed mt-4",children:h.content})]},h.id))})]})]})},TA=()=>{const{user:e,updatePassword:t}=Dr(),[r,n]=p.useState(""),[o,s]=p.useState(""),[a,l]=p.useState(!1),c=async u=>{if(u.preventDefault(),r!==o){te.error("Las contraseas no coinciden.");return}if(r.length<6){te.error("La contrasea debe tener al menos 6 caracteres.");return}l(!0);try{await t(r),te.success("Contrasea actualizada exitosamente."),n(""),s("")}catch(f){console.error("Error al cambiar la contrasea:",f),te.error("Error al cambiar la contrasea. Intntalo de nuevo.")}finally{l(!1)}};return i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Configuracin del Revendedor"}),i.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-md mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Datos de la Cuenta"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",e==null?void 0:e.email]})]}),i.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cambiar Contrasea"}),i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Xt,{htmlFor:"new-password",children:"Nueva Contrasea"}),i.jsx(Vr,{id:"new-password",type:"password",value:r,onChange:u=>n(u.target.value),required:!0,className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Xt,{htmlFor:"confirm-password",children:"Confirmar Contrasea"}),i.jsx(Vr,{id:"confirm-password",type:"password",value:o,onChange:u=>s(u.target.value),required:!0,className:"mt-1"})]}),i.jsx(it,{type:"submit",disabled:a,className:"w-full",children:a?"Cambiando...":"Cambiar Contrasea"})]})]})]})};function AA(){const{user:e}=Dr();return i.jsx(sE,{children:i.jsxs(IC,{children:[i.jsx(bt,{path:"/login",element:e?e.role==="admin"?i.jsx(ln,{to:"/dashboard",replace:!0}):i.jsx(ln,{to:"/reseller/clients",replace:!0}):i.jsx(TP,{})}),i.jsx(bt,{element:i.jsx(Mg,{requiredRole:"admin"}),children:i.jsxs(bt,{element:i.jsx(Lg,{}),children:[i.jsx(bt,{path:"/dashboard",element:i.jsx(D5,{})}),i.jsx(bt,{path:"/resellers",element:i.jsx(k5,{})}),i.jsx(bt,{path:"/clients",element:i.jsx(A5,{})}),i.jsx(bt,{path:"/templates",element:i.jsx(I5,{})}),i.jsx(bt,{path:"/admin/users",element:i.jsx(wA,{})}),i.jsx(bt,{path:"/admin/activate-users",element:i.jsx(bA,{})})]})}),i.jsx(bt,{element:i.jsx(Mg,{requiredRole:"reseller"}),children:i.jsxs(bt,{element:i.jsx(Lg,{}),children:[i.jsx(bt,{path:"/reseller/dashboard",element:i.jsx(kA,{})}),i.jsx(bt,{path:"/reseller/clients",element:i.jsx(RA,{})}),i.jsx(bt,{path:"/reseller/templates",element:i.jsx(PA,{})}),i.jsx(bt,{path:"/reseller/settings",element:i.jsx(TA,{})})]})}),i.jsx(bt,{path:"/",element:e?e.role==="admin"?i.jsx(ln,{to:"/dashboard",replace:!0}):i.jsx(ln,{to:"/reseller/clients",replace:!0}):i.jsx(ln,{to:"/login",replace:!0})})]})})}function OA(){return i.jsx(Tj,{children:i.jsx(AA,{})})}const DA=p.createContext({user:null,loading:!0});function IA({children:e}){const[t,r]=p.useState(null),[n,o]=p.useState(!0);return p.useEffect(()=>{re.auth.getSession().then(({data:{session:a}})=>{r((a==null?void 0:a.user)??null),o(!1)});const{data:{subscription:s}}=re.auth.onAuthStateChange((a,l)=>{r((l==null?void 0:l.user)??null)});return()=>s.unsubscribe()},[]),i.jsx(DA.Provider,{value:{user:t,loading:n},children:e})}td.createRoot(document.getElementById("root")).render(i.jsx(Q.StrictMode,{children:i.jsx(IA,{children:i.jsx(OA,{})})}));export{Ef as g};
//# sourceMappingURL=index-BC3eTnJP.js.map
